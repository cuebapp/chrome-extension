!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="/resource/",t(0)}({0:function(e,t,n){"use strict";function r(){var e="chrome-extension://"+chrome.runtime.id;location.ancestorOrigins.contains(e)||(g=document.createElement("iframe"),g.classList.add("cueb-extension"),g.src=chrome.extension.getURL("iframe.html"),g.id="cueb-extension",g.className="cueb-extension",g.frameBorder=0,document.body.appendChild(g))}function o(){g&&g.removeAttribute("hidden")}function i(){g&&g.setAttribute("hidden",!0)}function u(){if(g){var e=g.getAttribute("hidden");return e?o():i()}}function s(e){y&&y.getWebCxtId(e).then(function(e){h(p.CONTEXT_UPDATE,{webCxtId:e})})}var a=function(e){return e&&e.__esModule?e["default"]:e},c=function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0})},l=n(20),p=l.Message,f=l.createMessageHandler,h=l.sendMessage,d=n(43).createStorageOnChangeHandler,v=a(n(26)),m=a(n(93)),y=void 0,g=void 0;chrome.runtime.onMessage.addListener(f(function(){var e={};return c(e,p.CLOSE_APP,function(){i()}),c(e,p.IFRAME_READY,function(){s()}),c(e,p.OPEN_APP,function(){o()}),c(e,p.TOGGLE_APP,function(){u()}),c(e,p.URL_CHANGE,function(){s(!0)}),e}(),"content")),chrome.storage.sync.get(null,function(e){var t=e.apiKey,n=e.username;t&&n&&(y=new m({apiKey:t,username:n}))}),chrome.storage.onChanged.addListener(d(new Set(["sync:apiKey","sync:username"]),function(e){var t=e.apiKey,n=e.username;t&&n&&(y=new m({apiKey:t,username:n}))})),function(){h(p.RESET_BADGE),r(),i(),console.debug("Cueb debug info"),console.debug({"Git SHA1":"0e158b247813abc3af23f85b38fb59c23d49a573",config:v})}()},1:function(e,t){function n(){c=!1,u.length?a=u.concat(a):l=-1,a.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=a.length;t;){for(u=a,a=[];++l<t;)u[l].run();l=-1,t=a.length}u=null,c=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var u,s=e.exports={},a=[],c=!1,l=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];a.push(new o(e,t)),1!==a.length||c||setTimeout(r,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},19:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},20:function(e,t,n){"use strict";function r(e,t){return function(t,n){return"function"==typeof e[t.action]?e[t.action](t,n):"function"==typeof e[u.DEFAULT]?e[u.DEFAULT](t,n):void 0}}function o(e,t){chrome.runtime.sendMessage(i.assign({action:e},t||{}))}t.createMessageHandler=r,t.sendMessage=o,Object.defineProperty(t,"__esModule",{value:!0});var i=n(21),u={OPEN_APP:"open_app",CLOSE_APP:"close_app",TOGGLE_APP:"toggle_app",CONTEXT_UPDATE:"context_update",IFRAME_READY:"iframe_ready",URL_CHANGE:"url_change",UPDATE_BADGE:"update_badge",RESET_BADGE:"reset_badge",DEFAULT:"default"};t.Message=u},21:function(e,t,n){var r;(function(e,o){(function(){function i(e,t){if(e!==t){var n=null===e,r=e===D,o=e===e,i=null===t,u=t===D,s=t===t;if(e>t&&!i||!o||n&&!u&&s||r&&s)return 1;if(t>e&&!n||!s||i&&!r&&o||u&&o)return-1}return 0}function u(e,t,n){for(var r=e.length,o=n?r:-1;n?o--:++o<r;)if(t(e[o],o,e))return o;return-1}function s(e,t,n){if(t!==t)return y(e,n);for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}function a(e){return"function"==typeof e||!1}function c(e){return"string"==typeof e?e:null==e?"":e+""}function l(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function p(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){return i(e.criteria,t.criteria)||e.index-t.index}function h(e,t,n){for(var r=-1,o=e.criteria,u=t.criteria,s=o.length,a=n.length;++r<s;){var c=i(o[r],u[r]);if(c)return r>=a?c:c*(n[r]?1:-1)}return e.index-t.index}function d(e){return Ye[e]}function v(e){return $e[e]}function m(e){return"\\"+Qe[e]}function y(e,t,n){for(var r=e.length,o=t+(n?0:-1);n?o--:++o<r;){var i=e[o];if(i!==i)return o}return-1}function g(e){return!!e&&"object"==typeof e}function b(e){return 160>=e&&e>=9&&13>=e||32==e||160==e||5760==e||6158==e||e>=8192&&(8202>=e||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function E(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;)e[n]===t&&(e[n]=K,i[++o]=n);return i}function _(e,t){for(var n,r=-1,o=e.length,i=-1,u=[];++r<o;){var s=e[r],a=t?t(s,r,e):s;r&&n===a||(n=a,u[++i]=s)}return u}function w(e){for(var t=-1,n=e.length;++t<n&&b(e.charCodeAt(t)););return t}function N(e){for(var t=e.length;t--&&b(e.charCodeAt(t)););return t}function C(e){return Ge[e]}function x(e){function t(e){if(g(e)&&!Os(e)&&!(e instanceof o)){if(e instanceof r)return e;if(Gi.call(e,"__chain__")&&Gi.call(e,"__wrapped__"))return cr(e)}return new r(e)}function n(){}function r(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function o(e){this.__wrapped__=e,this.__actions__=null,this.__dir__=1,this.__dropCount__=0,this.__filtered__=!1,this.__iteratees__=null,this.__takeCount__=xu,this.__views__=null}function b(){var e=this.__actions__,t=this.__iteratees__,n=this.__views__,r=new o(this.__wrapped__);return r.__actions__=e?et(e):null,r.__dir__=this.__dir__,r.__filtered__=this.__filtered__,r.__iteratees__=t?et(t):null,r.__takeCount__=this.__takeCount__,r.__views__=n?et(n):null,r}function J(){if(this.__filtered__){var e=new o(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function ne(){var e=this.__wrapped__.value();if(!Os(e))return tn(e,this.__actions__);var t=this.__dir__,n=0>t,r=Bn(0,e.length,this.__views__),o=r.start,i=r.end,u=i-o,s=n?i:o-1,a=bu(u,this.__takeCount__),c=this.__iteratees__,l=c?c.length:0,p=0,f=[];e:for(;u--&&a>p;){s+=t;for(var h=-1,d=e[s];++h<l;){var v=c[h],m=v.iteratee,y=v.type;if(y==W){if(v.done&&(n?s>v.index:s<v.index)&&(v.count=0,v.done=!1),v.index=s,!v.done){var g=v.limit;if(!(v.done=g>-1?v.count++>=g:!m(d)))continue e}}else{var b=m(d);if(y==q)d=b;else if(!b){if(y==B)continue e;break e}}}f[p++]=d}return f}function oe(){this.__data__={}}function Ye(e){return this.has(e)&&delete this.__data__[e]}function $e(e){return"__proto__"==e?D:this.__data__[e]}function Ge(e){return"__proto__"!=e&&Gi.call(this.__data__,e)}function Xe(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Qe(e){var t=e?e.length:0;for(this.data={hash:du(null),set:new au};t--;)this.push(e[t])}function Je(e,t){var n=e.data,r="string"==typeof t||Ro(t)?n.set.has(t):n.hash[t];return r?0:-1}function Ze(e){var t=this.data;"string"==typeof e||Ro(e)?t.set.add(e):t.hash[e]=!0}function et(e,t){var n=-1,r=e.length;for(t||(t=ki(r));++n<r;)t[n]=e[n];return t}function tt(e,t){for(var n=-1,r=e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function nt(e,t){for(var n=e.length;n--&&t(e[n],n,e)!==!1;);return e}function it(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t,n,r){for(var o=-1,i=e.length,u=r,s=u;++o<i;){var a=e[o],c=+t(a);n(c,u)&&(u=c,s=a)}return s}function st(e,t){for(var n=-1,r=e.length,o=-1,i=[];++n<r;){var u=e[n];t(u,n,e)&&(i[++o]=u)}return i}function at(e,t){for(var n=-1,r=e.length,o=ki(r);++n<r;)o[n]=t(e[n],n,e);return o}function ct(e,t,n,r){var o=-1,i=e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function lt(e,t,n,r){var o=e.length;for(r&&o&&(n=e[--o]);o--;)n=t(n,e[o],o,e);return n}function pt(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function ft(e){for(var t=e.length,n=0;t--;)n+=+e[t]||0;return n}function ht(e,t){return e===D?t:e}function dt(e,t,n,r){return e!==D&&Gi.call(r,n)?e:t}function vt(e,t,n){for(var r=-1,o=Us(t),i=o.length;++r<i;){var u=o[r],s=e[u],a=n(s,t[u],u,e,t);(a===a?a===s:s!==s)&&(s!==D||u in e)||(e[u]=a)}return e}function mt(e,t){return null==t?e:gt(t,Us(t),e)}function yt(e,t){for(var n=-1,r=null==e,o=!r&&Yn(e),i=o?e.length:0,u=t.length,s=ki(u);++n<u;){var a=t[n];o?s[n]=$n(a,i)?e[a]:D:s[n]=r?D:e[a]}return s}function gt(e,t,n){n||(n={});for(var r=-1,o=t.length;++r<o;){var i=t[r];n[i]=e[i]}return n}function bt(e,t,n){var r=typeof e;return"function"==r?t===D?e:on(e,t,n):null==e?_i:"object"==r?Lt(e):t===D?Oi(e):Ut(e,t)}function Et(e,t,n,r,o,i,u){var s;if(n&&(s=o?n(e,r,o):n(e)),s!==D)return s;if(!Ro(e))return e;var a=Os(e);if(a){if(s=qn(e),!t)return et(e,s)}else{var c=Qi.call(e),l=c==Q;if(c!=ee&&c!=z&&(!l||o))return Ke[c]?Kn(e,c,t):o?e:{};if(s=Hn(l?{}:e),!t)return mt(s,e)}i||(i=[]),u||(u=[]);for(var p=i.length;p--;)if(i[p]==e)return u[p];return i.push(e),u.push(s),(a?tt:Tt)(e,function(r,o){s[o]=Et(r,t,n,o,e,i,u)}),s}function _t(e,t,n){if("function"!=typeof e)throw new qi(H);return cu(function(){e.apply(D,n)},t)}function wt(e,t){var n=e?e.length:0,r=[];if(!n)return r;var o=-1,i=Un(),u=i==s,a=u&&t.length>=200?Fu(t):null,c=t.length;a&&(i=Je,u=!1,t=a);e:for(;++o<n;){var l=e[o];if(u&&l===l){for(var p=c;p--;)if(t[p]===l)continue e;r.push(l)}else i(t,l,0)<0&&r.push(l)}return r}function Nt(e,t){var n=!0;return Pu(e,function(e,r,o){return n=!!t(e,r,o)}),n}function Ct(e,t,n,r){var o=r,i=o;return Pu(e,function(e,u,s){var a=+t(e,u,s);(n(a,o)||a===r&&a===i)&&(o=a,i=e)}),i}function xt(e,t,n,r){var o=e.length;for(n=null==n?0:+n||0,0>n&&(n=-n>o?0:o+n),r=r===D||r>o?o:+r||0,0>r&&(r+=o),o=n>r?0:r>>>0,n>>>=0;o>n;)e[n++]=t;return e}function Dt(e,t){var n=[];return Pu(e,function(e,r,o){t(e,r,o)&&n.push(e)}),n}function Ot(e,t,n,r){var o;return n(e,function(e,n,i){return t(e,n,i)?(o=r?n:e,!1):void 0}),o}function St(e,t,n){for(var r=-1,o=e.length,i=-1,u=[];++r<o;){var s=e[r];if(g(s)&&Yn(s)&&(n||Os(s)||wo(s))){t&&(s=St(s,t,n));for(var a=-1,c=s.length;++a<c;)u[++i]=s[a]}else n||(u[++i]=s)}return u}function Rt(e,t){return ju(e,t,$o)}function Tt(e,t){return ju(e,t,Us)}function At(e,t){return Lu(e,t,Us)}function It(e,t){for(var n=-1,r=t.length,o=-1,i=[];++n<r;){var u=t[n];Rs(e[u])&&(i[++o]=u)}return i}function Mt(e,t,n){if(null!=e){n!==D&&n in sr(e)&&(t=[n]);for(var r=0,o=t.length;null!=e&&o>r;)e=e[t[r++]];return r&&r==o?e:D}}function kt(e,t,n,r,o,i){return e===t?!0:null==e||null==t||!Ro(e)&&!g(t)?e!==e&&t!==t:Pt(e,t,kt,n,r,o,i)}function Pt(e,t,n,r,o,i,u){var s=Os(e),a=Os(t),c=Y,l=Y;s||(c=Qi.call(e),c==z?c=ee:c!=ee&&(s=jo(e))),a||(l=Qi.call(t),l==z?l=ee:l!=ee&&(a=jo(t)));var p=c==ee,f=l==ee,h=c==l;if(h&&!s&&!p)return Pn(e,t,c);if(!o){var d=p&&Gi.call(e,"__wrapped__"),v=f&&Gi.call(t,"__wrapped__");if(d||v)return n(d?e.value():e,v?t.value():t,r,o,i,u)}if(!h)return!1;i||(i=[]),u||(u=[]);for(var m=i.length;m--;)if(i[m]==e)return u[m]==t;i.push(e),u.push(t);var y=(s?kn:Vn)(e,t,n,r,o,i,u);return i.pop(),u.pop(),y}function Vt(e,t,n){var r=t.length,o=r,i=!n;if(null==e)return!o;for(e=sr(e);r--;){var u=t[r];if(i&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++r<o;){u=t[r];var s=u[0],a=e[s],c=u[1];if(i&&u[2]){if(a===D&&!(s in e))return!1}else{var l=n?n(a,c,s):D;if(!(l===D?kt(c,a,n,!0):l))return!1}}return!0}function jt(e,t){var n=-1,r=Yn(e)?ki(e.length):[];return Pu(e,function(e,o,i){r[++n]=t(e,o,i)}),r}function Lt(e){var t=Fn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null==e?!1:e[n]===r&&(r!==D||n in sr(e))}}return function(e){return Vt(e,t)}}function Ut(e,t){var n=Os(e),r=Xn(e)&&Zn(t),o=e+"";return e=ar(e),function(i){if(null==i)return!1;var u=o;if(i=sr(i),!(!n&&r||u in i)){if(i=1==e.length?i:Mt(i,Yt(e,0,-1)),null==i)return!1;u=wr(e),i=sr(i)}return i[u]===t?t!==D||u in i:kt(t,i[u],D,!0)}}function Ft(e,t,n,r,o){if(!Ro(e))return e;var i=Yn(t)&&(Os(t)||jo(t)),u=i?null:Us(t);return tt(u||t,function(s,a){if(u&&(a=s,s=t[a]),g(s))r||(r=[]),o||(o=[]),Wt(e,t,a,Ft,n,r,o);else{var c=e[a],l=n?n(c,s,a,e,t):D,p=l===D;p&&(l=s),l===D&&(!i||a in e)||!p&&(l===l?l===c:c!==c)||(e[a]=l)}}),e}function Wt(e,t,n,r,o,i,u){for(var s=i.length,a=t[n];s--;)if(i[s]==a)return void(e[n]=u[s]);var c=e[n],l=o?o(c,a,n,e,t):D,p=l===D;p&&(l=a,Yn(a)&&(Os(a)||jo(a))?l=Os(c)?c:Yn(c)?et(c):[]:Ts(a)||wo(a)?l=wo(c)?Bo(c):Ts(c)?c:{}:p=!1),i.push(a),u.push(l),p?e[n]=r(l,a,o,i,u):(l===l?l!==c:c===c)&&(e[n]=l)}function Bt(e){return function(t){return null==t?D:t[e]}}function qt(e){var t=e+"";return e=ar(e),function(n){return Mt(n,e,t)}}function Ht(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=o&&$n(r)){var o=r;lu.call(e,r,1)}}return e}function Kt(e,t){return e+ou(Nu()*(t-e+1))}function zt(e,t,n,r,o){return o(e,function(e,o,i){n=r?(r=!1,e):t(n,e,o,i)}),n}function Yt(e,t,n){var r=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),n=n===D||n>o?o:+n||0,0>n&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=ki(o);++r<o;)i[r]=e[r+t];return i}function $t(e,t){var n;return Pu(e,function(e,r,o){return n=t(e,r,o),!n}),!!n}function Gt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Xt(e,t,n){var r=jn(),o=-1;t=at(t,function(e){return r(e)});var i=jt(e,function(e){var n=at(t,function(t){return t(e)});return{criteria:n,index:++o,value:e}});return Gt(i,function(e,t){return h(e,t,n)})}function Qt(e,t){var n=0;return Pu(e,function(e,r,o){n+=+t(e,r,o)||0}),n}function Jt(e,t){var n=-1,r=Un(),o=e.length,i=r==s,u=i&&o>=200,a=u?Fu():null,c=[];a?(r=Je,i=!1):(u=!1,a=t?[]:c);e:for(;++n<o;){var l=e[n],p=t?t(l,n,e):l;if(i&&l===l){for(var f=a.length;f--;)if(a[f]===p)continue e;t&&a.push(p),c.push(l)}else r(a,p,0)<0&&((t||u)&&a.push(p),c.push(l))}return c}function Zt(e,t){for(var n=-1,r=t.length,o=ki(r);++n<r;)o[n]=e[t[n]];return o}function en(e,t,n,r){for(var o=e.length,i=r?o:-1;(r?i--:++i<o)&&t(e[i],i,e););return n?Yt(e,r?0:i,r?i+1:o):Yt(e,r?i+1:0,r?o:i)}function tn(e,t){var n=e;n instanceof o&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var u=[n],s=t[r];su.apply(u,s.args),n=s.func.apply(s.thisArg,u)}return n}function nn(e,t,n){var r=0,o=e?e.length:r;if("number"==typeof t&&t===t&&Su>=o){for(;o>r;){var i=r+o>>>1,u=e[i];(n?t>=u:t>u)&&null!==u?r=i+1:o=i}return o}return rn(e,t,_i,n)}function rn(e,t,n,r){t=n(t);for(var o=0,i=e?e.length:0,u=t!==t,s=null===t,a=t===D;i>o;){var c=ou((o+i)/2),l=n(e[c]),p=l!==D,f=l===l;if(u)var h=f||r;else h=s?f&&p&&(r||null!=l):a?f&&(r||p):null==l?!1:r?t>=l:t>l;h?o=c+1:i=c}return bu(i,Ou)}function on(e,t,n){if("function"!=typeof e)return _i;if(t===D)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)};case 5:return function(n,r,o,i,u){return e.call(t,n,r,o,i,u)}}return function(){return e.apply(t,arguments)}}function un(e){return tu.call(e,0)}function sn(e,t,n){for(var r=n.length,o=-1,i=gu(e.length-r,0),u=-1,s=t.length,a=ki(i+s);++u<s;)a[u]=t[u];for(;++o<r;)a[n[o]]=e[o];for(;i--;)a[u++]=e[o++];return a}function an(e,t,n){for(var r=-1,o=n.length,i=-1,u=gu(e.length-o,0),s=-1,a=t.length,c=ki(u+a);++i<u;)c[i]=e[i];for(var l=i;++s<a;)c[l+s]=t[s];for(;++r<o;)c[l+n[r]]=e[i++];return c}function cn(e,t){return function(n,r,o){var i=t?t():{};if(r=jn(r,o,3),Os(n))for(var u=-1,s=n.length;++u<s;){var a=n[u];e(i,a,r(a,u,n),n)}else Pu(n,function(t,n,o){e(i,t,r(t,n,o),o)});return i}}function ln(e){return ho(function(t,n){var r=-1,o=null==t?0:n.length,i=o>2?n[o-2]:D,u=o>2?n[2]:D,s=o>1?n[o-1]:D;for("function"==typeof i?(i=on(i,s,5),o-=2):(i="function"==typeof s?s:D,o-=i?1:0),u&&Gn(n[0],n[1],u)&&(i=3>o?D:i,o=1);++r<o;){var a=n[r];a&&e(t,a,i)}return t})}function pn(e,t){return function(n,r){var o=n?Bu(n):0;if(!Jn(o))return e(n,r);for(var i=t?o:-1,u=sr(n);(t?i--:++i<o)&&r(u[i],i,u)!==!1;);return n}}function fn(e){return function(t,n,r){for(var o=sr(t),i=r(t),u=i.length,s=e?u:-1;e?s--:++s<u;){var a=i[s];if(n(o[a],a,o)===!1)break}return t}}function hn(e,t){function n(){var o=this&&this!==rt&&this instanceof n?r:e;return o.apply(t,arguments)}var r=vn(e);return n}function dn(e){return function(t){for(var n=-1,r=gi(oi(t)),o=r.length,i="";++n<o;)i=e(i,r[n],n);return i}}function vn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4])}var n=ku(e.prototype),r=e.apply(n,t);return Ro(r)?r:n}}function mn(e){function t(n,r,o){o&&Gn(n,r,o)&&(r=null);var i=Mn(n,e,null,null,null,null,null,r);return i.placeholder=t.placeholder,i}return t}function yn(e,t){return function(n,r,o){if(o&&Gn(n,r,o)&&(r=null),r=jn(r,o,3),1==r.length){n=ur(n);var i=ut(n,r,e,t);if(!n.length||i!==t)return i}return Ct(n,r,e,t)}}function gn(e,t){return function(n,r,o){if(r=jn(r,o,3),Os(n)){var i=u(n,r,t);return i>-1?n[i]:D}return Ot(n,r,e)}}function bn(e){return function(t,n,r){return t&&t.length?(n=jn(n,r,3),u(t,n,e)):-1}}function En(e){return function(t,n,r){return n=jn(n,r,3),Ot(t,n,e,!0)}}function _n(e){return function(){for(var t,n=arguments.length,o=e?n:-1,i=0,u=ki(n);e?o--:++o<n;){var s=u[i++]=arguments[o];if("function"!=typeof s)throw new qi(H);!t&&r.prototype.thru&&"wrapper"==Ln(s)&&(t=new r([]))}for(o=t?-1:n;++o<n;){s=u[o];var a=Ln(s),c="wrapper"==a?Wu(s):null;t=c&&Qn(c[0])&&c[1]==(P|A|M|V)&&!c[4].length&&1==c[9]?t[Ln(c[0])].apply(t,c[3]):1==s.length&&Qn(s)?t[a]():t.thru(s)}return function(){var e=arguments;if(t&&1==e.length&&Os(e[0]))return t.plant(e[0]).value();for(var r=0,o=n?u[r].apply(this,e):e[0];++r<n;)o=u[r].call(this,o);return o}}}function wn(e,t){return function(n,r,o){return"function"==typeof r&&o===D&&Os(n)?e(n,r):t(n,on(r,o,3))}}function Nn(e){return function(t,n,r){return("function"!=typeof n||r!==D)&&(n=on(n,r,3)),e(t,n,$o)}}function Cn(e){return function(t,n,r){return("function"!=typeof n||r!==D)&&(n=on(n,r,3)),e(t,n)}}function xn(e){return function(t,n,r){var o={};return n=jn(n,r,3),Tt(t,function(t,r,i){var u=n(t,r,i);r=e?u:r,t=e?t:u,o[r]=t}),o}}function Dn(e){return function(t,n,r){return t=c(t),(e?t:"")+Tn(t,n,r)+(e?"":t)}}function On(e){var t=ho(function(n,r){var o=E(r,t.placeholder);return Mn(n,e,null,r,o)});return t}function Sn(e,t){return function(n,r,o,i){var u=arguments.length<3;return"function"==typeof r&&i===D&&Os(n)?e(n,r,o,u):zt(n,jn(r,i,4),o,u,t)}}function Rn(e,t,n,r,o,i,u,s,a,c){function l(){for(var g=arguments.length,b=g,_=ki(g);b--;)_[b]=arguments[b];if(r&&(_=sn(_,r,o)),i&&(_=an(_,i,u)),d||m){var w=l.placeholder,N=E(_,w);if(g-=N.length,c>g){var C=s?et(s):null,x=gu(c-g,0),O=d?N:null,T=d?null:N,A=d?_:null,I=d?null:_;t|=d?M:k,t&=~(d?k:M),v||(t&=~(S|R));var P=[e,t,n,A,O,I,T,C,a,x],V=Rn.apply(D,P);return Qn(e)&&qu(V,P),V.placeholder=w,V}}var j=f?n:this,L=h?j[e]:e;return s&&(_=rr(_,s)),p&&a<_.length&&(_.length=a),this&&this!==rt&&this instanceof l&&(L=y||vn(e)),L.apply(j,_)}var p=t&P,f=t&S,h=t&R,d=t&A,v=t&T,m=t&I,y=h?null:vn(e);return l}function Tn(e,t,n){var r=e.length;if(t=+t,r>=t||!mu(t))return"";var o=t-r;return n=null==n?" ":n+"",li(n,nu(o/n.length)).slice(0,o)}function An(e,t,n,r){function o(){for(var t=-1,s=arguments.length,a=-1,c=r.length,l=ki(s+c);++a<c;)l[a]=r[a];for(;s--;)l[a++]=arguments[++t];var p=this&&this!==rt&&this instanceof o?u:e;return p.apply(i?n:this,l)}var i=t&S,u=vn(e);return o}function In(e){return function(t,n,r,o){var i=jn(r);return null==r&&i===bt?nn(t,n,e):rn(t,n,i(r,o,1),e)}}function Mn(e,t,n,r,o,i,u,s){var a=t&R;if(!a&&"function"!=typeof e)throw new qi(H);var c=r?r.length:0;if(c||(t&=~(M|k),r=o=null),c-=o?o.length:0,t&k){var l=r,p=o;r=o=null}var f=a?null:Wu(e),h=[e,t,n,r,o,l,p,i,u,s];if(f&&(er(h,f),t=h[1],s=h[9]),h[9]=null==s?a?0:e.length:gu(s-c,0)||0,t==S)var d=hn(h[0],h[2]);else d=t!=M&&t!=(S|M)||h[4].length?Rn.apply(D,h):An.apply(D,h);var v=f?Uu:qu;return v(d,h)}function kn(e,t,n,r,o,i,u){var s=-1,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;for(;++s<a;){var l=e[s],p=t[s],f=r?r(o?p:l,o?l:p,s):D;if(f!==D){if(f)continue;return!1}if(o){if(!pt(t,function(e){return l===e||n(l,e,r,o,i,u)}))return!1}else if(l!==p&&!n(l,p,r,o,i,u))return!1}return!0}function Pn(e,t,n){switch(n){case $:case G:return+e==+t;case X:return e.name==t.name&&e.message==t.message;case Z:return e!=+e?t!=+t:e==+t;case te:case re:return e==t+""}return!1}function Vn(e,t,n,r,o,i,u){var s=Us(e),a=s.length,c=Us(t),l=c.length;if(a!=l&&!o)return!1;for(var p=a;p--;){var f=s[p];if(!(o?f in t:Gi.call(t,f)))return!1}for(var h=o;++p<a;){f=s[p];var d=e[f],v=t[f],m=r?r(o?v:d,o?d:v,f):D;if(!(m===D?n(d,v,r,o,i,u):m))return!1;h||(h="constructor"==f)}if(!h){var y=e.constructor,g=t.constructor;if(y!=g&&"constructor"in e&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof g&&g instanceof g))return!1}return!0}function jn(e,n,r){var o=t.callback||bi;return o=o===bi?bt:o,r?o(e,n,r):o}function Ln(e){for(var t=e.name,n=Iu[t],r=n?n.length:0;r--;){var o=n[r],i=o.func;if(null==i||i==e)return o.name}return t}function Un(e,n,r){var o=t.indexOf||Er;return o=o===Er?s:o,e?o(e,n,r):o}function Fn(e){for(var t=Go(e),n=t.length;n--;)t[n][2]=Zn(t[n][1]);return t}function Wn(e,t){var n=null==e?D:e[t];return Io(n)?n:D}function Bn(e,t,n){for(var r=-1,o=n?n.length:0;++r<o;){var i=n[r],u=i.size;switch(i.type){case"drop":e+=u;break;case"dropRight":t-=u;break;case"take":t=bu(t,e+u);break;case"takeRight":e=gu(e,t-u)}}return{start:e,end:t}}function qn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&Gi.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Hn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Fi),new t}function Kn(e,t,n){var r=e.constructor;switch(t){case ie:return un(e);case $:case G:return new r(+e);case ue:case se:case ae:case ce:case le:case pe:case fe:case he:case de:var o=e.buffer;return new r(n?un(o):o,e.byteOffset,e.length);case Z:case re:return new r(e);case te:var i=new r(e.source,Me.exec(e));i.lastIndex=e.lastIndex}return i}function zn(e,t,n){null==e||Xn(t,e)||(t=ar(t),e=1==t.length?e:Mt(e,Yt(t,0,-1)),t=wr(t));var r=null==e?e:e[t];return null==r?D:r.apply(e,n)}function Yn(e){return null!=e&&Jn(Bu(e))}function $n(e,t){return e="number"==typeof e||Ve.test(e)?+e:-1,t=null==t?Tu:t,e>-1&&e%1==0&&t>e}function Gn(e,t,n){if(!Ro(n))return!1;var r=typeof t;if("number"==r?Yn(n)&&$n(t,n.length):"string"==r&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function Xn(e,t){var n=typeof e;if("string"==n&&De.test(e)||"number"==n)return!0;if(Os(e))return!1;var r=!xe.test(e);return r||null!=t&&e in sr(t)}function Qn(e){var n=Ln(e);if(!(n in o.prototype))return!1;var r=t[n];if(e===r)return!0;var i=Wu(r);return!!i&&e===i[0]}function Jn(e){return"number"==typeof e&&e>-1&&e%1==0&&Tu>=e}function Zn(e){return e===e&&!Ro(e)}function er(e,t){var n=e[1],r=t[1],o=n|r,i=P>o,u=r==P&&n==A||r==P&&n==V&&e[7].length<=t[8]||r==(P|V)&&n==A;if(!i&&!u)return e;r&S&&(e[2]=t[2],o|=n&S?0:T);var s=t[3];if(s){var a=e[3];e[3]=a?sn(a,s,t[4]):et(s),e[4]=a?E(e[3],K):et(t[4])}return s=t[5],s&&(a=e[5],e[5]=a?an(a,s,t[6]):et(s),e[6]=a?E(e[5],K):et(t[6])),s=t[7],s&&(e[7]=et(s)),r&P&&(e[8]=null==e[8]?t[8]:bu(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=o,e}function tr(e,t){e=sr(e);for(var n=-1,r=t.length,o={};++n<r;){var i=t[n];i in e&&(o[i]=e[i])}return o}function nr(e,t){var n={};return Rt(e,function(e,r,o){t(e,r,o)&&(n[r]=e)}),n}function rr(e,t){for(var n=e.length,r=bu(t.length,n),o=et(e);r--;){var i=t[r];e[r]=$n(i,n)?o[i]:D}return e}function or(e){var n;t.support;if(!g(e)||Qi.call(e)!=ee||!Gi.call(e,"constructor")&&(n=e.constructor,"function"==typeof n&&!(n instanceof n)))return!1;var r;return Rt(e,function(e,t){r=t}),r===D||Gi.call(e,r)}function ir(e){for(var t=$o(e),n=t.length,r=n&&e.length,o=!!r&&Jn(r)&&(Os(e)||wo(e)),i=-1,u=[];++i<n;){var s=t[i];(o&&$n(s,r)||Gi.call(e,s))&&u.push(s)}return u}function ur(e){return null==e?[]:Yn(e)?Ro(e)?e:Fi(e):Zo(e)}function sr(e){return Ro(e)?e:Fi(e)}function ar(e){if(Os(e))return e;var t=[];return c(e).replace(Oe,function(e,n,r,o){t.push(r?o.replace(Ae,"$1"):n||e)}),t}function cr(e){return e instanceof o?e.clone():new r(e.__wrapped__,e.__chain__,et(e.__actions__))}function lr(e,t,n){t=(n?Gn(e,t,n):null==t)?1:gu(+t||1,1);for(var r=0,o=e?e.length:0,i=-1,u=ki(nu(o/t));o>r;)u[++i]=Yt(e,r,r+=t);return u}function pr(e){for(var t=-1,n=e?e.length:0,r=-1,o=[];++t<n;){var i=e[t];i&&(o[++r]=i)}return o}function fr(e,t,n){var r=e?e.length:0;return r?((n?Gn(e,t,n):null==t)&&(t=1),Yt(e,0>t?0:t)):[]}function hr(e,t,n){var r=e?e.length:0;return r?((n?Gn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Yt(e,0,0>t?0:t)):[]}function dr(e,t,n){return e&&e.length?en(e,jn(t,n,3),!0,!0):[]}function vr(e,t,n){return e&&e.length?en(e,jn(t,n,3),!0):[]}function mr(e,t,n,r){var o=e?e.length:0;return o?(n&&"number"!=typeof n&&Gn(e,t,n)&&(n=0,r=o),xt(e,t,n,r)):[]}function yr(e){return e?e[0]:D}function gr(e,t,n){var r=e?e.length:0;return n&&Gn(e,t,n)&&(t=!1),r?St(e,t):[]}function br(e){var t=e?e.length:0;return t?St(e,!0):[]}function Er(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=0>n?gu(r+n,0):n;else if(n){var o=nn(e,t),i=e[o];return(t===t?t===i:i!==i)?o:-1}return s(e,t,n||0)}function _r(e){return hr(e,1)}function wr(e){var t=e?e.length:0;return t?e[t-1]:D}function Nr(e,t,n){var r=e?e.length:0;if(!r)return-1;var o=r;if("number"==typeof n)o=(0>n?gu(r+n,0):bu(n||0,r-1))+1;else if(n){o=nn(e,t,!0)-1;var i=e[o];return(t===t?t===i:i!==i)?o:-1}if(t!==t)return y(e,o,!0);for(;o--;)if(e[o]===t)return o;return-1}function Cr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Un(),o=e.length;++n<o;)for(var i=0,u=e[n];(i=r(t,u,i))>-1;)lu.call(t,i,1);return t}function xr(e,t,n){var r=[];if(!e||!e.length)return r;var o=-1,i=[],u=e.length;for(t=jn(t,n,3);++o<u;){var s=e[o];t(s,o,e)&&(r.push(s),i.push(o))}return Ht(e,i),r}function Dr(e){return fr(e,1)}function Or(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Gn(e,t,n)&&(t=0,n=r),Yt(e,t,n)):[]}function Sr(e,t,n){var r=e?e.length:0;return r?((n?Gn(e,t,n):null==t)&&(t=1),Yt(e,0,0>t?0:t)):[]}function Rr(e,t,n){var r=e?e.length:0;return r?((n?Gn(e,t,n):null==t)&&(t=1),t=r-(+t||0),Yt(e,0>t?0:t)):[]}function Tr(e,t,n){return e&&e.length?en(e,jn(t,n,3),!1,!0):[]}function Ar(e,t,n){return e&&e.length?en(e,jn(t,n,3)):[]}function Ir(e,t,n,r){var o=e?e.length:0;if(!o)return[];null!=t&&"boolean"!=typeof t&&(r=n,n=Gn(e,t,r)?null:t,t=!1);var i=jn();return(null!=n||i!==bt)&&(n=i(n,r,3)),t&&Un()==s?_(e,n):Jt(e,n)}function Mr(e){if(!e||!e.length)return[];var t=-1,n=0;e=st(e,function(e){return Yn(e)?(n=gu(e.length,n),!0):void 0});for(var r=ki(n);++t<n;)r[t]=at(e,Bt(t));return r}function kr(e,t,n){var r=e?e.length:0;if(!r)return[];var o=Mr(e);return null==t?o:(t=on(t,n,4),at(o,function(e){return ct(e,t,D,!0)}))}function Pr(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Yn(n))var r=r?wt(r,n).concat(wt(n,r)):n}return r?Jt(r):[]}function Vr(e,t){var n=-1,r=e?e.length:0,o={};for(!r||t||Os(e[0])||(t=[]);++n<r;){var i=e[n];t?o[i]=t[n]:i&&(o[i[0]]=i[1])}return o}function jr(e){var n=t(e);return n.__chain__=!0,n}function Lr(e,t,n){return t.call(n,e),e}function Ur(e,t,n){return t.call(n,e)}function Fr(){return jr(this)}function Wr(){return new r(this.value(),this.__chain__)}function Br(e){for(var t,r=this;r instanceof n;){var o=cr(r);t?i.__wrapped__=o:t=o;var i=o;r=r.__wrapped__}return i.__wrapped__=e,t}function qr(){var e=this.__wrapped__;return e instanceof o?(this.__actions__.length&&(e=new o(this)),new r(e.reverse(),this.__chain__)):this.thru(function(e){return e.reverse()})}function Hr(){return this.value()+""}function Kr(){return tn(this.__wrapped__,this.__actions__)}function zr(e,t,n){var r=Os(e)?it:Nt;return n&&Gn(e,t,n)&&(t=null),("function"!=typeof t||n!==D)&&(t=jn(t,n,3)),r(e,t)}function Yr(e,t,n){var r=Os(e)?st:Dt;return t=jn(t,n,3),r(e,t)}function $r(e,t){return rs(e,Lt(t))}function Gr(e,t,n,r){var o=e?Bu(e):0;return Jn(o)||(e=Zo(e),o=e.length),o?(n="number"!=typeof n||r&&Gn(t,n,r)?0:0>n?gu(o+n,0):n||0,"string"==typeof e||!Os(e)&&Vo(e)?o>n&&e.indexOf(t,n)>-1:Un(e,t,n)>-1):!1}function Xr(e,t,n){var r=Os(e)?at:jt;return t=jn(t,n,3),r(e,t)}function Qr(e,t){return Xr(e,Oi(t))}function Jr(e,t,n){var r=Os(e)?st:Dt;return t=jn(t,n,3),r(e,function(e,n,r){return!t(e,n,r)})}function Zr(e,t,n){if(n?Gn(e,t,n):null==t){e=ur(e);var r=e.length;return r>0?e[Kt(0,r-1)]:D}var o=-1,i=Wo(e),r=i.length,u=r-1;for(t=bu(0>t?0:+t||0,r);++o<t;){var s=Kt(o,u),a=i[s];i[s]=i[o],i[o]=a}return i.length=t,i}function eo(e){return Zr(e,xu)}function to(e){var t=e?Bu(e):0;return Jn(t)?t:Us(e).length}function no(e,t,n){var r=Os(e)?pt:$t;return n&&Gn(e,t,n)&&(t=null),("function"!=typeof t||n!==D)&&(t=jn(t,n,3)),r(e,t)}function ro(e,t,n){if(null==e)return[];n&&Gn(e,t,n)&&(t=null);var r=-1;t=jn(t,n,3);var o=jt(e,function(e,n,o){return{criteria:t(e,n,o),index:++r,value:e}});return Gt(o,f)}function oo(e,t,n,r){return null==e?[]:(r&&Gn(t,n,r)&&(n=null),Os(t)||(t=null==t?[]:[t]),Os(n)||(n=null==n?[]:[n]),Xt(e,t,n))}function io(e,t){return Yr(e,Lt(t))}function uo(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new qi(H);var n=e;e=t,t=n}return e=mu(e=+e)?e:0,function(){return--e<1?t.apply(this,arguments):void 0}}function so(e,t,n){return n&&Gn(e,t,n)&&(t=null),t=e&&null==t?e.length:gu(+t||0,0),Mn(e,P,null,null,null,null,t)}function ao(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new qi(H);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}}function co(e,t,n){function r(){f&&ru(f),a&&ru(a),a=f=h=D}function o(){var n=t-(ds()-l);if(0>=n||n>t){a&&ru(a);var r=h;a=f=h=D,r&&(d=ds(),c=e.apply(p,s),f||a||(s=p=null))}else f=cu(o,n)}function i(){f&&ru(f),a=f=h=D,(m||v!==t)&&(d=ds(),c=e.apply(p,s),f||a||(s=p=null))}function u(){if(s=arguments,l=ds(),p=this,h=m&&(f||!y),v===!1)var n=y&&!f;else{a||y||(d=l);var r=v-(l-d),u=0>=r||r>v;u?(a&&(a=ru(a)),d=l,c=e.apply(p,s)):a||(a=cu(i,r))}return u&&f?f=ru(f):f||t===v||(f=cu(o,t)),n&&(u=!0,c=e.apply(p,s)),!u||f||a||(s=p=null),c}var s,a,c,l,p,f,h,d=0,v=!1,m=!0;if("function"!=typeof e)throw new qi(H);if(t=0>t?0:+t||0,n===!0){var y=!0;m=!1}else Ro(n)&&(y=n.leading,v="maxWait"in n&&gu(+n.maxWait||0,t),m="trailing"in n?n.trailing:m);return u.cancel=r,u}function lo(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new qi(H);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var u=e.apply(this,r);return n.cache=i.set(o,u),u};return n.cache=new lo.Cache,n}function po(e){if("function"!=typeof e)throw new qi(H);return function(){return!e.apply(this,arguments)}}function fo(e){return ao(2,e)}function ho(e,t){if("function"!=typeof e)throw new qi(H);return t=gu(t===D?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,o=gu(n.length-t,0),i=ki(o);++r<o;)i[r]=n[t+r];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,n[0],i);case 2:return e.call(this,n[0],n[1],i)}var u=ki(t+1);for(r=-1;++r<t;)u[r]=n[r];return u[t]=i,e.apply(this,u)}}function vo(e){if("function"!=typeof e)throw new qi(H);return function(t){return e.apply(this,t)}}function mo(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new qi(H);return n===!1?r=!1:Ro(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),ze.leading=r,ze.maxWait=+t,ze.trailing=o,co(e,t,ze)}function yo(e,t){return t=null==t?_i:t,Mn(t,M,null,[e],[])}function go(e,t,n,r){return t&&"boolean"!=typeof t&&Gn(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?Et(e,t,on(n,r,1)):Et(e,t)}function bo(e,t,n){return"function"==typeof t?Et(e,!0,on(t,n,1)):Et(e,!0)}function Eo(e,t){return e>t}function _o(e,t){return e>=t}function wo(e){return g(e)&&Yn(e)&&Qi.call(e)==z}function No(e){return e===!0||e===!1||g(e)&&Qi.call(e)==$}function Co(e){return g(e)&&Qi.call(e)==G}function xo(e){return!!e&&1===e.nodeType&&g(e)&&Qi.call(e).indexOf("Element")>-1}function Do(e){return null==e?!0:Yn(e)&&(Os(e)||Vo(e)||wo(e)||g(e)&&Rs(e.splice))?!e.length:!Us(e).length;
}function Oo(e,t,n,r){n="function"==typeof n?on(n,r,3):D;var o=n?n(e,t):D;return o===D?kt(e,t,n):!!o}function So(e){return g(e)&&"string"==typeof e.message&&Qi.call(e)==X}function Ro(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function To(e,t,n,r){return n="function"==typeof n?on(n,r,3):D,Vt(e,Fn(t),n)}function Ao(e){return ko(e)&&e!=+e}function Io(e){return null==e?!1:Qi.call(e)==Q?Zi.test($i.call(e)):g(e)&&Pe.test(e)}function Mo(e){return null===e}function ko(e){return"number"==typeof e||g(e)&&Qi.call(e)==Z}function Po(e){return g(e)&&Qi.call(e)==te}function Vo(e){return"string"==typeof e||g(e)&&Qi.call(e)==re}function jo(e){return g(e)&&Jn(e.length)&&!!He[Qi.call(e)]}function Lo(e){return e===D}function Uo(e,t){return t>e}function Fo(e,t){return t>=e}function Wo(e){var t=e?Bu(e):0;return Jn(t)?t?et(e):[]:Zo(e)}function Bo(e){return gt(e,$o(e))}function qo(e,t,n){var r=ku(e);return n&&Gn(e,t,n)&&(t=null),t?mt(r,t):r}function Ho(e){return It(e,$o(e))}function Ko(e,t,n){var r=null==e?D:Mt(e,ar(t),t+"");return r===D?n:r}function zo(e,t){if(null==e)return!1;var n=Gi.call(e,t);if(!n&&!Xn(t)){if(t=ar(t),e=1==t.length?e:Mt(e,Yt(t,0,-1)),null==e)return!1;t=wr(t),n=Gi.call(e,t)}return n||Jn(e.length)&&$n(t,e.length)&&(Os(e)||wo(e))}function Yo(e,t,n){n&&Gn(e,t,n)&&(t=null);for(var r=-1,o=Us(e),i=o.length,u={};++r<i;){var s=o[r],a=e[s];t?Gi.call(u,a)?u[a].push(s):u[a]=[s]:u[a]=s}return u}function $o(e){if(null==e)return[];Ro(e)||(e=Fi(e));var t=e.length;t=t&&Jn(t)&&(Os(e)||wo(e))&&t||0;for(var n=e.constructor,r=-1,o="function"==typeof n&&n.prototype===e,i=ki(t),u=t>0;++r<t;)i[r]=r+"";for(var s in e)u&&$n(s,t)||"constructor"==s&&(o||!Gi.call(e,s))||i.push(s);return i}function Go(e){e=sr(e);for(var t=-1,n=Us(e),r=n.length,o=ki(r);++t<r;){var i=n[t];o[t]=[i,e[i]]}return o}function Xo(e,t,n){var r=null==e?D:e[t];return r===D&&(null==e||Xn(t,e)||(t=ar(t),e=1==t.length?e:Mt(e,Yt(t,0,-1)),r=null==e?D:e[wr(t)]),r=r===D?n:r),Rs(r)?r.call(e):r}function Qo(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||Xn(t,e)?[r]:ar(t);for(var o=-1,i=t.length,u=i-1,s=e;null!=s&&++o<i;){var a=t[o];Ro(s)&&(o==u?s[a]=n:null==s[a]&&(s[a]=$n(t[o+1])?[]:{})),s=s[a]}return e}function Jo(e,t,n,r){var o=Os(e)||jo(e);if(t=jn(t,r,4),null==n)if(o||Ro(e)){var i=e.constructor;n=o?Os(e)?new i:[]:ku(Rs(i)?i.prototype:null)}else n={};return(o?tt:Tt)(e,function(e,r,o){return t(n,e,r,o)}),n}function Zo(e){return Zt(e,Us(e))}function ei(e){return Zt(e,$o(e))}function ti(e,t,n){return t=+t||0,"undefined"==typeof n?(n=t,t=0):n=+n||0,e>=bu(t,n)&&e<gu(t,n)}function ni(e,t,n){n&&Gn(e,t,n)&&(t=n=null);var r=null==e,o=null==t;if(null==n&&(o&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,o=!0)),r&&o&&(t=1,o=!1),e=+e||0,o?(t=e,e=0):t=+t||0,n||e%1||t%1){var i=Nu();return bu(e+i*(t-e+uu("1e-"+((i+"").length-1))),t)}return Kt(e,t)}function ri(e){return e=c(e),e&&e.charAt(0).toUpperCase()+e.slice(1)}function oi(e){return e=c(e),e&&e.replace(je,d).replace(Te,"")}function ii(e,t,n){e=c(e),t+="";var r=e.length;return n=n===D?r:bu(0>n?0:+n||0,r),n-=t.length,n>=0&&e.indexOf(t,n)==n}function ui(e){return e=c(e),e&&_e.test(e)?e.replace(be,v):e}function si(e){return e=c(e),e&&Re.test(e)?e.replace(Se,"\\$&"):e}function ai(e,t,n){e=c(e),t=+t;var r=e.length;if(r>=t||!mu(t))return e;var o=(t-r)/2,i=ou(o),u=nu(o);return n=Tn("",u,n),n.slice(0,i)+e+n}function ci(e,t,n){return n&&Gn(e,t,n)&&(t=0),wu(e,t)}function li(e,t){var n="";if(e=c(e),t=+t,1>t||!e||!mu(t))return n;do t%2&&(n+=e),t=ou(t/2),e+=e;while(t);return n}function pi(e,t,n){return e=c(e),n=null==n?0:bu(0>n?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function fi(e,n,r){var o=t.templateSettings;r&&Gn(e,n,r)&&(n=r=null),e=c(e),n=vt(mt({},r||n),o,dt);var i,u,s=vt(mt({},n.imports),o.imports,dt),a=Us(s),l=Zt(s,a),p=0,f=n.interpolate||Le,h="__p += '",d=Wi((n.escape||Le).source+"|"+f.source+"|"+(f===Ce?Ie:Le).source+"|"+(n.evaluate||Le).source+"|$","g"),v="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++qe+"]")+"\n";e.replace(d,function(t,n,r,o,s,a){return r||(r=o),h+=e.slice(p,a).replace(Ue,m),n&&(i=!0,h+="' +\n__e("+n+") +\n'"),s&&(u=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),p=a+t.length,t}),h+="';\n";var y=n.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(u?h.replace(ve,""):h).replace(me,"$1").replace(ye,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(u?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=Qs(function(){return ji(a,v+"return "+h).apply(D,l)});if(g.source=h,So(g))throw g;return g}function hi(e,t,n){var r=e;return(e=c(e))?(n?Gn(r,t,n):null==t)?e.slice(w(e),N(e)+1):(t+="",e.slice(l(e,t),p(e,t)+1)):e}function di(e,t,n){var r=e;return e=c(e),e?(n?Gn(r,t,n):null==t)?e.slice(w(e)):e.slice(l(e,t+"")):e}function vi(e,t,n){var r=e;return e=c(e),e?(n?Gn(r,t,n):null==t)?e.slice(0,N(e)+1):e.slice(0,p(e,t+"")+1):e}function mi(e,t,n){n&&Gn(e,t,n)&&(t=null);var r=j,o=L;if(null!=t)if(Ro(t)){var i="separator"in t?t.separator:i;r="length"in t?+t.length||0:r,o="omission"in t?c(t.omission):o}else r=+t||0;if(e=c(e),r>=e.length)return e;var u=r-o.length;if(1>u)return o;var s=e.slice(0,u);if(null==i)return s+o;if(Po(i)){if(e.slice(u).search(i)){var a,l,p=e.slice(0,u);for(i.global||(i=Wi(i.source,(Me.exec(i)||"")+"g")),i.lastIndex=0;a=i.exec(p);)l=a.index;s=s.slice(0,null==l?u:l)}}else if(e.indexOf(i,u)!=u){var f=s.lastIndexOf(i);f>-1&&(s=s.slice(0,f))}return s+o}function yi(e){return e=c(e),e&&Ee.test(e)?e.replace(ge,C):e}function gi(e,t,n){return n&&Gn(e,t,n)&&(t=null),e=c(e),e.match(t||Fe)||[]}function bi(e,t,n){return n&&Gn(e,t,n)&&(t=null),g(e)?wi(e):bt(e,t)}function Ei(e){return function(){return e}}function _i(e){return e}function wi(e){return Lt(Et(e,!0))}function Ni(e,t){return Ut(e,Et(t,!0))}function Ci(e,t,n){if(null==n){var r=Ro(t),o=r?Us(t):null,i=o&&o.length?It(t,o):null;(i?i.length:r)||(i=!1,n=t,t=e,e=this)}i||(i=It(t,Us(t)));var u=!0,s=-1,a=Rs(e),c=i.length;n===!1?u=!1:Ro(n)&&"chain"in n&&(u=n.chain);for(;++s<c;){var l=i[s],p=t[l];e[l]=p,a&&(e.prototype[l]=function(t){return function(){var n=this.__chain__;if(u||n){var r=e(this.__wrapped__),o=r.__actions__=et(this.__actions__);return o.push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}var i=[this.value()];return su.apply(i,arguments),t.apply(e,i)}}(p))}return e}function xi(){return e._=Ji,this}function Di(){}function Oi(e){return Xn(e)?Bt(e):qt(e)}function Si(e){return function(t){return Mt(e,ar(t),t+"")}}function Ri(e,t,n){n&&Gn(e,t,n)&&(t=n=null),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,o=gu(nu((t-e)/(n||1)),0),i=ki(o);++r<o;)i[r]=e,e+=n;return i}function Ti(e,t,n){if(e=ou(e),1>e||!mu(e))return[];var r=-1,o=ki(bu(e,Du));for(t=on(t,n,1);++r<e;)Du>r?o[r]=t(r):t(r);return o}function Ai(e){var t=++Xi;return c(e)+t}function Ii(e,t){return(+e||0)+(+t||0)}function Mi(e,t,n){n&&Gn(e,t,n)&&(t=null);var r=jn(),o=null==t;return o&&r===bt||(o=!1,t=r(t,n,3)),o?ft(Os(e)?e:ur(e)):Qt(e,t)}e=e?ot.defaults(rt.Object(),e,ot.pick(rt,Be)):rt;var ki=e.Array,Pi=e.Date,Vi=e.Error,ji=e.Function,Li=e.Math,Ui=e.Number,Fi=e.Object,Wi=e.RegExp,Bi=e.String,qi=e.TypeError,Hi=ki.prototype,Ki=Fi.prototype,zi=Bi.prototype,Yi=(Yi=e.window)?Yi.document:null,$i=ji.prototype.toString,Gi=Ki.hasOwnProperty,Xi=0,Qi=Ki.toString,Ji=e._,Zi=Wi("^"+si($i.call(Gi)).replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),eu=Wn(e,"ArrayBuffer"),tu=Wn(eu&&new eu(0),"slice"),nu=Li.ceil,ru=e.clearTimeout,ou=Li.floor,iu=Wn(Fi,"getPrototypeOf"),uu=e.parseFloat,su=Hi.push,au=Wn(e,"Set"),cu=e.setTimeout,lu=Hi.splice,pu=Wn(e,"Uint8Array"),fu=Wn(e,"WeakMap"),hu=function(){try{var t=Wn(e,"Float64Array"),n=new t(new eu(10),0,1)&&t}catch(r){}return n||null}(),du=Wn(Fi,"create"),vu=Wn(ki,"isArray"),mu=e.isFinite,yu=Wn(Fi,"keys"),gu=Li.max,bu=Li.min,Eu=Wn(Pi,"now"),_u=Wn(Ui,"isFinite"),wu=e.parseInt,Nu=Li.random,Cu=Ui.NEGATIVE_INFINITY,xu=Ui.POSITIVE_INFINITY,Du=4294967295,Ou=Du-1,Su=Du>>>1,Ru=hu?hu.BYTES_PER_ELEMENT:0,Tu=9007199254740991,Au=fu&&new fu,Iu={},Mu=t.support={};!function(e){var t=function(){this.x=e},n=[];t.prototype={valueOf:e,y:e};for(var r in new t)n.push(r);try{Mu.dom=11===Yi.createDocumentFragment().nodeType}catch(o){Mu.dom=!1}}(1,0),t.templateSettings={escape:we,evaluate:Ne,interpolate:Ce,variable:"",imports:{_:t}};var ku=function(){function e(){}return function(t){if(Ro(t)){e.prototype=t;var n=new e;e.prototype=null}return n||{}}}(),Pu=pn(Tt),Vu=pn(At,!0),ju=fn(),Lu=fn(!0),Uu=Au?function(e,t){return Au.set(e,t),e}:_i;tu||(un=eu&&pu?function(e){var t=e.byteLength,n=hu?ou(t/Ru):0,r=n*Ru,o=new eu(t);if(n){var i=new hu(o,0,n);i.set(new hu(e,0,n))}return t!=r&&(i=new pu(o,r),i.set(new pu(e,r))),o}:Ei(null));var Fu=du&&au?function(e){return new Qe(e)}:Ei(null),Wu=Au?function(e){return Au.get(e)}:Di,Bu=Bt("length"),qu=function(){var e=0,t=0;return function(n,r){var o=ds(),i=F-(o-t);if(t=o,i>0){if(++e>=U)return n}else e=0;return Uu(n,r)}}(),Hu=ho(function(e,t){return Yn(e)?wt(e,St(t,!1,!0)):[]}),Ku=bn(),zu=bn(!0),Yu=ho(function(e){for(var t=e.length,n=t,r=ki(p),o=Un(),i=o==s,u=[];n--;){var a=e[n]=Yn(a=e[n])?a:[];r[n]=i&&a.length>=120?Fu(n&&a):null}var c=e[0],l=-1,p=c?c.length:0,f=r[0];e:for(;++l<p;)if(a=c[l],(f?Je(f,a):o(u,a,0))<0){for(var n=t;--n;){var h=r[n];if((h?Je(h,a):o(e[n],a,0))<0)continue e}f&&f.push(a),u.push(a)}return u}),$u=ho(function(e,t){t=St(t);var n=yt(e,t);return Ht(e,t.sort(i)),n}),Gu=In(),Xu=In(!0),Qu=ho(function(e){return Jt(St(e,!1,!0))}),Ju=ho(function(e,t){return Yn(e)?wt(e,t):[]}),Zu=ho(Mr),es=ho(function(e){var t=e.length,n=t>2?e[t-2]:D,r=t>1?e[t-1]:D;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):D,r=D),e.length=t,kr(e,n,r)}),ts=ho(function(e,t){return yt(e,St(t))}),ns=cn(function(e,t,n){Gi.call(e,n)?++e[n]:e[n]=1}),rs=gn(Pu),os=gn(Vu,!0),is=wn(tt,Pu),us=wn(nt,Vu),ss=cn(function(e,t,n){Gi.call(e,n)?e[n].push(t):e[n]=[t]}),as=cn(function(e,t,n){e[n]=t}),cs=ho(function(e,t,n){var r=-1,o="function"==typeof t,i=Xn(t),u=Yn(e)?ki(e.length):[];return Pu(e,function(e){var s=o?t:i&&null!=e?e[t]:null;u[++r]=s?s.apply(e,n):zn(e,t,n)}),u}),ls=cn(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]}),ps=Sn(ct,Pu),fs=Sn(lt,Vu),hs=ho(function(e,t){if(null==e)return[];var n=t[2];return n&&Gn(t[0],t[1],n)&&(t.length=1),Xt(e,St(t),[])}),ds=Eu||function(){return(new Pi).getTime()},vs=ho(function(e,t,n){var r=S;if(n.length){var o=E(n,vs.placeholder);r|=M}return Mn(e,r,t,n,o)}),ms=ho(function(e,t){t=t.length?St(t):Ho(e);for(var n=-1,r=t.length;++n<r;){var o=t[n];e[o]=Mn(e[o],S,e)}return e}),ys=ho(function(e,t,n){var r=S|R;if(n.length){var o=E(n,ys.placeholder);r|=M}return Mn(t,r,e,n,o)}),gs=mn(A),bs=mn(I),Es=ho(function(e,t){return _t(e,1,t)}),_s=ho(function(e,t,n){return _t(e,t,n)}),ws=_n(),Ns=_n(!0),Cs=On(M),xs=On(k),Ds=ho(function(e,t){return Mn(e,V,null,null,null,St(t))}),Os=vu||function(e){return g(e)&&Jn(e.length)&&Qi.call(e)==Y};Mu.dom||(xo=function(e){return!!e&&1===e.nodeType&&g(e)&&!Ts(e)});var Ss=_u||function(e){return"number"==typeof e&&mu(e)},Rs=a(/x/)||pu&&!a(pu)?function(e){return Qi.call(e)==Q}:a,Ts=iu?function(e){if(!e||Qi.call(e)!=ee)return!1;var t=Wn(e,"valueOf"),n=t&&(n=iu(t))&&iu(n);return n?e==n||iu(e)==n:or(e)}:or,As=ln(function(e,t,n){return n?vt(e,t,n):mt(e,t)}),Is=ho(function(e){var t=e[0];return null==t?t:(e.push(ht),As.apply(D,e))}),Ms=En(Tt),ks=En(At),Ps=Nn(ju),Vs=Nn(Lu),js=Cn(Tt),Ls=Cn(At),Us=yu?function(e){var t=null==e?null:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Yn(e)?ir(e):Ro(e)?yu(e):[]}:ir,Fs=xn(!0),Ws=xn(),Bs=ln(Ft),qs=ho(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=at(St(t),Bi);return tr(e,wt($o(e),t))}var n=on(t[0],t[1],3);return nr(e,function(e,t,r){return!n(e,t,r)})}),Hs=ho(function(e,t){return null==e?{}:"function"==typeof t[0]?nr(e,on(t[0],t[1],3)):tr(e,St(t))}),Ks=dn(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)}),zs=dn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Ys=Dn(),$s=Dn(!0);8!=wu(We+"08")&&(ci=function(e,t,n){return(n?Gn(e,t,n):null==t)?t=0:t&&(t=+t),e=hi(e),wu(e,t||(ke.test(e)?16:10))});var Gs=dn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Xs=dn(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Qs=ho(function(e,t){try{return e.apply(D,t)}catch(n){return So(n)?n:new Vi(n)}}),Js=ho(function(e,t){return function(n){return zn(n,e,t)}}),Zs=ho(function(e,t){return function(n){return zn(e,n,t)}}),ea=yn(Eo,Cu),ta=yn(Uo,xu);return t.prototype=n.prototype,r.prototype=ku(n.prototype),r.prototype.constructor=r,o.prototype=ku(n.prototype),o.prototype.constructor=o,oe.prototype["delete"]=Ye,oe.prototype.get=$e,oe.prototype.has=Ge,oe.prototype.set=Xe,Qe.prototype.push=Ze,lo.Cache=oe,t.after=uo,t.ary=so,t.assign=As,t.at=ts,t.before=ao,t.bind=vs,t.bindAll=ms,t.bindKey=ys,t.callback=bi,t.chain=jr,t.chunk=lr,t.compact=pr,t.constant=Ei,t.countBy=ns,t.create=qo,t.curry=gs,t.curryRight=bs,t.debounce=co,t.defaults=Is,t.defer=Es,t.delay=_s,t.difference=Hu,t.drop=fr,t.dropRight=hr,t.dropRightWhile=dr,t.dropWhile=vr,t.fill=mr,t.filter=Yr,t.flatten=gr,t.flattenDeep=br,t.flow=ws,t.flowRight=Ns,t.forEach=is,t.forEachRight=us,t.forIn=Ps,t.forInRight=Vs,t.forOwn=js,t.forOwnRight=Ls,t.functions=Ho,t.groupBy=ss,t.indexBy=as,t.initial=_r,t.intersection=Yu,t.invert=Yo,t.invoke=cs,t.keys=Us,t.keysIn=$o,t.map=Xr,t.mapKeys=Fs,t.mapValues=Ws,t.matches=wi,t.matchesProperty=Ni,t.memoize=lo,t.merge=Bs,t.method=Js,t.methodOf=Zs,t.mixin=Ci,t.negate=po,t.omit=qs,t.once=fo,t.pairs=Go,t.partial=Cs,t.partialRight=xs,t.partition=ls,t.pick=Hs,t.pluck=Qr,t.property=Oi,t.propertyOf=Si,t.pull=Cr,t.pullAt=$u,t.range=Ri,t.rearg=Ds,t.reject=Jr,t.remove=xr,t.rest=Dr,t.restParam=ho,t.set=Qo,t.shuffle=eo,t.slice=Or,t.sortBy=ro,t.sortByAll=hs,t.sortByOrder=oo,t.spread=vo,t.take=Sr,t.takeRight=Rr,t.takeRightWhile=Tr,t.takeWhile=Ar,t.tap=Lr,t.throttle=mo,t.thru=Ur,t.times=Ti,t.toArray=Wo,t.toPlainObject=Bo,t.transform=Jo,t.union=Qu,t.uniq=Ir,t.unzip=Mr,t.unzipWith=kr,t.values=Zo,t.valuesIn=ei,t.where=io,t.without=Ju,t.wrap=yo,t.xor=Pr,t.zip=Zu,t.zipObject=Vr,t.zipWith=es,t.backflow=Ns,t.collect=Xr,t.compose=Ns,t.each=is,t.eachRight=us,t.extend=As,t.iteratee=bi,t.methods=Ho,t.object=Vr,t.select=Yr,t.tail=Dr,t.unique=Ir,Ci(t,t),t.add=Ii,t.attempt=Qs,t.camelCase=Ks,t.capitalize=ri,t.clone=go,t.cloneDeep=bo,t.deburr=oi,t.endsWith=ii,t.escape=ui,t.escapeRegExp=si,t.every=zr,t.find=rs,t.findIndex=Ku,t.findKey=Ms,t.findLast=os,t.findLastIndex=zu,t.findLastKey=ks,t.findWhere=$r,t.first=yr,t.get=Ko,t.gt=Eo,t.gte=_o,t.has=zo,t.identity=_i,t.includes=Gr,t.indexOf=Er,t.inRange=ti,t.isArguments=wo,t.isArray=Os,t.isBoolean=No,t.isDate=Co,t.isElement=xo,t.isEmpty=Do,t.isEqual=Oo,t.isError=So,t.isFinite=Ss,t.isFunction=Rs,t.isMatch=To,t.isNaN=Ao,t.isNative=Io,t.isNull=Mo,t.isNumber=ko,t.isObject=Ro,t.isPlainObject=Ts,t.isRegExp=Po,t.isString=Vo,t.isTypedArray=jo,t.isUndefined=Lo,t.kebabCase=zs,t.last=wr,t.lastIndexOf=Nr,t.lt=Uo,t.lte=Fo,t.max=ea,t.min=ta,t.noConflict=xi,t.noop=Di,t.now=ds,t.pad=ai,t.padLeft=Ys,t.padRight=$s,t.parseInt=ci,t.random=ni,t.reduce=ps,t.reduceRight=fs,t.repeat=li,t.result=Xo,t.runInContext=x,t.size=to,t.snakeCase=Gs,t.some=no,t.sortedIndex=Gu,t.sortedLastIndex=Xu,t.startCase=Xs,t.startsWith=pi,t.sum=Mi,t.template=fi,t.trim=hi,t.trimLeft=di,t.trimRight=vi,t.trunc=mi,t.unescape=yi,t.uniqueId=Ai,t.words=gi,t.all=zr,t.any=no,t.contains=Gr,t.eq=Oo,t.detect=rs,t.foldl=ps,t.foldr=fs,t.head=yr,t.include=Gr,t.inject=ps,Ci(t,function(){var e={};return Tt(t,function(n,r){t.prototype[r]||(e[r]=n)}),e}(),!1),t.sample=Zr,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru(function(t){return Zr(t,e)}):Zr(this.value())},t.VERSION=O,tt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){t[e].placeholder=t}),tt(["dropWhile","filter","map","takeWhile"],function(e,t){var n=t!=q,r=t==W;o.prototype[e]=function(e,i){var u=this.__filtered__,s=u&&r?new o(this):this.clone(),a=s.__iteratees__||(s.__iteratees__=[]);return a.push({done:!1,count:0,index:0,iteratee:jn(e,i,1),limit:-1,type:t}),s.__filtered__=u||n,s}}),tt(["drop","take"],function(e,t){var n=e+"While";o.prototype[e]=function(n){var r=this.__filtered__,o=r&&!t?this.dropWhile():this.clone();if(n=null==n?1:gu(ou(n)||0,0),r)t?o.__takeCount__=bu(o.__takeCount__,n):wr(o.__iteratees__).limit=n;else{var i=o.__views__||(o.__views__=[]);i.push({size:n,type:e+(o.__dir__<0?"Right":"")})}return o},o.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()},o.prototype[e+"RightWhile"]=function(e,t){return this.reverse()[n](e,t).reverse()}}),tt(["first","last"],function(e,t){var n="take"+(t?"Right":"");o.prototype[e]=function(){return this[n](1).value()[0]}}),tt(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");o.prototype[e]=function(){return this[n](1)}}),tt(["pluck","where"],function(e,t){var n=t?"filter":"map",r=t?Lt:Oi;o.prototype[e]=function(e){return this[n](r(e))}}),o.prototype.compact=function(){return this.filter(_i)},o.prototype.reject=function(e,t){return e=jn(e,t,1),this.filter(function(t){return!e(t)})},o.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return 0>e?n=this.takeRight(-e):e&&(n=this.drop(e)),t!==D&&(t=+t||0,n=0>t?n.dropRight(-t):n.take(t-e)),n},o.prototype.toArray=function(){return this.drop(0)},Tt(o.prototype,function(e,n){var i=t[n];if(i){var u=/^(?:filter|map|reject)|While$/.test(n),s=/^(?:first|last)$/.test(n);t.prototype[n]=function(){var n=arguments,a=this.__chain__,c=this.__wrapped__,l=!!this.__actions__.length,p=c instanceof o,f=n[0],h=p||Os(c);h&&u&&"function"==typeof f&&1!=f.length&&(p=h=!1);var d=p&&!l;if(s&&!a)return d?e.call(c):i.call(t,this.value());var v=function(e){var r=[e];return su.apply(r,n),i.apply(t,r)};if(h){var m=d?c:new o(this),y=e.apply(m,n);if(!s&&(l||y.__actions__)){var g=y.__actions__||(y.__actions__=[]);g.push({func:Ur,args:[v],thisArg:t})}return new r(y,a)}return this.thru(v)}}}),tt(["concat","join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?zi:Hi)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return o&&!this.__chain__?n.apply(this.value(),e):this[r](function(t){return n.apply(t,e)})}}),Tt(o.prototype,function(e,n){var r=t[n];if(r){var o=r.name,i=Iu[o]||(Iu[o]=[]);i.push({name:n,func:r})}}),Iu[Rn(null,R).name]=[{name:"wrapper",func:null}],o.prototype.clone=b,o.prototype.reverse=J,o.prototype.value=ne,t.prototype.chain=Fr,t.prototype.commit=Wr,t.prototype.plant=Br,t.prototype.reverse=qr,t.prototype.toString=Hr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Kr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var D,O="3.9.3",S=1,R=2,T=4,A=8,I=16,M=32,k=64,P=128,V=256,j=30,L="...",U=150,F=16,W=0,B=1,q=2,H="Expected a function",K="__lodash_placeholder__",z="[object Arguments]",Y="[object Array]",$="[object Boolean]",G="[object Date]",X="[object Error]",Q="[object Function]",J="[object Map]",Z="[object Number]",ee="[object Object]",te="[object RegExp]",ne="[object Set]",re="[object String]",oe="[object WeakMap]",ie="[object ArrayBuffer]",ue="[object Float32Array]",se="[object Float64Array]",ae="[object Int8Array]",ce="[object Int16Array]",le="[object Int32Array]",pe="[object Uint8Array]",fe="[object Uint8ClampedArray]",he="[object Uint16Array]",de="[object Uint32Array]",ve=/\b__p \+= '';/g,me=/\b(__p \+=) '' \+/g,ye=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ge=/&(?:amp|lt|gt|quot|#39|#96);/g,be=/[&<>"'`]/g,Ee=RegExp(ge.source),_e=RegExp(be.source),we=/<%-([\s\S]+?)%>/g,Ne=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,xe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,De=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Se=/[.*+?^${}()|[\]\/\\]/g,Re=RegExp(Se.source),Te=/[\u0300-\u036f\ufe20-\ufe23]/g,Ae=/\\(\\)?/g,Ie=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Me=/\w*$/,ke=/^0[xX]/,Pe=/^\[object .+?Constructor\]$/,Ve=/^\d+$/,je=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Le=/($^)/,Ue=/['\n\r\u2028\u2029\\]/g,Fe=function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")}(),We=" 	\f \ufeff\n\r\u2028\u2029 ᠎             　",Be=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","document","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","window"],qe=-1,He={};He[ue]=He[se]=He[ae]=He[ce]=He[le]=He[pe]=He[fe]=He[he]=He[de]=!0,He[z]=He[Y]=He[ie]=He[$]=He[G]=He[X]=He[Q]=He[J]=He[Z]=He[ee]=He[te]=He[ne]=He[re]=He[oe]=!1;var Ke={};Ke[z]=Ke[Y]=Ke[ie]=Ke[$]=Ke[G]=Ke[ue]=Ke[se]=Ke[ae]=Ke[ce]=Ke[le]=Ke[Z]=Ke[ee]=Ke[te]=Ke[re]=Ke[pe]=Ke[fe]=Ke[he]=Ke[de]=!0,Ke[X]=Ke[Q]=Ke[J]=Ke[ne]=Ke[oe]=!1;var ze={leading:!1,maxWait:0,trailing:!1},Ye={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},$e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Ge={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Xe={"function":!0,object:!0},Qe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Je=Xe[typeof t]&&t&&!t.nodeType&&t,Ze=Xe[typeof e]&&e&&!e.nodeType&&e,et=Je&&Ze&&"object"==typeof o&&o&&o.Object&&o,tt=Xe[typeof self]&&self&&self.Object&&self,nt=Xe[typeof window]&&window&&window.Object&&window,rt=(Ze&&Ze.exports===Je&&Je,et||nt!==(this&&this.window)&&nt||tt||this),ot=x();rt._=ot,r=function(){return ot}.call(t,n,t,e),!(r!==D&&(e.exports=r))}).call(this)}).call(t,n(19)(e),function(){return this}())},26:function(e,t,n){"use strict";var r={prod:{host:"https://cueb.io/api/v1/",embed:"https://cueb.io/embed/",webRoot:"https://cueb.io/"},dev:{host:"https://localhost:3443/",embed:"https://localhost:5443/embed/",webRoot:"https://localhost:5443/"}},o="prod",i={API_HOST:r[o].host,EMBED_HOST:r[o].embed,WEB_ROOT:r[o].webRoot};e.exports=i},42:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e["default"]:e},o=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=r(n(26)),s=function(){function e(t,n){i(this,e),this.apiKey=t,this.username=n}return o(e,{get:{value:function(e,t){var n=new XMLHttpRequest;return n.open("GET",encodeURI(u.API_HOST+e)),n.setRequestHeader("x-access-token",this.apiKey),n.setRequestHeader("Content-Type","application/json"),new Promise(function(e,t){n.onload=function(){return n.status.toString().startsWith("20")?e(n.responseText&&JSON.parse(n.responseText)||""):t("Error")},n.send()})}},post:{value:function(e,t,n){var r=new XMLHttpRequest;return r.open("POST",encodeURI(u.API_HOST+e)),r.setRequestHeader("x-access-token",this.apiKey),r.setRequestHeader("Content-Type","application/json"),new Promise(function(e,n){r.onload=function(){return r.status.toString().startsWith("20")?e(r.responseText&&JSON.parse(r.responseText)||""):n("Error")},r.send(JSON.stringify(t))})}},"delete":{value:function(e,t){var n=new XMLHttpRequest;return n.open("DELETE",encodeURI(u.API_HOST+e)),n.setRequestHeader("x-access-token",this.apiKey),n.setRequestHeader("Content-Type","application/json"),new Promise(function(e,t){n.onload=function(){return 204===n.status?e(null):t("Error")},n.send()})}},search:{value:function(e,t){return this.get("search/?q="+e,t)}},fetchOmnikey:{value:function(e,t){return this.get("/"+e,t)}},fetchChannel:{value:function(e,t){return this.get("channels/active?url="+e,t)}},fetchContext:{value:function(e,t){return this.post("contexts/web",e,t)}},triggerChannelMsg:{value:function(e,t,n,r){return this.post("stream/messages",{channelId:t,contextId:e,repos:n},r)}},triggerChannelService:{value:function(e,t,n,r){return this.post("stream/messages/",{channelId:t,contextId:e,data:n},r)}}}),e}();e.exports=s},43:function(e,t,n){"use strict";function r(e,t){return function(n,r){var o={},i=!0,u=!1,s=void 0;try{for(var a,c=Object.keys(n)[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value,p=n[l],f=r+":"+l;e.has(f)&&(o[l]=p.newValue)}}catch(h){u=!0,s=h}finally{try{!i&&c["return"]&&c["return"]()}finally{if(u)throw s}}t(o)}}t.createStorageOnChangeHandler=r,Object.defineProperty(t,"__esModule",{value:!0})},65:function(e,t,n){"use strict";function r(){return document.domain}function o(){return document.title}function i(e){return l.evaluateXpath("/html/body//"+e).map(function(e){return e.textContent.trim()}).join(" ")}function u(){return i("h1")}function s(){return i("h2")}function a(){var e=u(),t=s(),n=o(),i=r()+e+" "+t+" "+n;return i.trim()}var c=function(e){return e&&e.__esModule?e["default"]:e};t.getKeywords=a,Object.defineProperty(t,"__esModule",{value:!0});var l=c(n(66))},66:function(e,t){"use strict";e.exports={evaluateXpath:function(e){var t=document.evaluate(e,document,null,XPathResult.ANY_TYPE,null),n=[];try{for(var r=t.iterateNext();r;)n.push(r),r=t.iterateNext()}catch(o){console.error("Error: Document tree modified during iteration "+o)}return n},getHostContainer:function(e){var t=document.createElement("DIV");return t.id=e+Math.random().toString(16).slice(2),document.body.appendChild(t),t}}},93:function(e,t,n){"use strict";var r=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e){return e&&e.__esModule?e["default"]:e},i=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=o(n(173)),a=o(n(94)),c=o(n(42)),l=r(n(65)),p=1200,f=function(){function e(t){u(this,e),this.config=t,this.api=new c(this.config.apiKey,this.config.username),this.pageObs=s.DOM.fromMutationObserver(document.body,{attributes:!0,childList:!0}).debounce(750),this.subscribers=[],this._initialize()}return i(e,{_initialize:{value:function(){var e=this;this.pWebCxtId=new Promise(function(t,n){e.resolveWebCxtId=t,e.rejectWebCxtId=n}),setTimeout(function(){return e.evaluate()},p)}},_pushChanResultToRemote:{value:function(e,t,n){var r=n.repos,o=n.serviceKey,i=n.variables;return r&&r.length?this.api.triggerChannelMsg(e,t,r)["catch"](function(e){console.error(e)}):o?this.api.triggerChannelService(e,t,i)["catch"](function(e){console.error(e)}):void 0}},_evalChannel:{value:function(e,t){var n=this,r=this.pageObs.subscribe(function(){t.evaluateDynamic().then(function(r){if(r){var o=t.data.id;r.repos,r.serviceKey,r.variables;n._pushChanResultToRemote(e,o,r)}})});this.subscribers.push(r)}},parseContext:{value:function(){return l.getKeywords()}},getWebCxtId:{value:function(e){return e?(this._initialize(),this.pWebCxtId):this.pWebCxtId}},evaluate:{value:function(){var e=this;this.evaluateContext().then(function(t){e.evaluateChannel(t)})}},evaluateChannel:{value:function(e){var t=this;return this.api.fetchChannel(window.location.href).then(function(n){var r=n.map(function(e){return new a(e)}),o=Promise.all(r.map(function(n){return t.pageObs.subscribe(t._evalChannel(e,n)),n.evaluate()})).then(function(n){n.forEach(function(n,o){var i=r[o].data.id;n.repos,n.serviceKey,n.variables;t._pushChanResultToRemote(e,i,n)})})["catch"](function(e){console.error(e)});return o})}},evaluateContext:{value:function(){var e=this;return this.api.fetchContext({uri:window.location.href,keywords:this.parseContext()}).then(function(t){return e.resolveWebCxtId(t.id),t.id})["catch"](function(t){return e.rejectWebCxtId(t)})}}}),e}();e.exports=f},94:function(e,t,n){"use strict";function r(e){this.message=e}function o(e,t){for(var n=[],r=t.exec(e);null!==r;)n.push(r),r=t.exec(e);return n.shift()}function i(e){return e.replace("!","\\!").replace("?","\\?").replace("$","\\$")}function u(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done);n=!0){var s=i.value;t.push(s)}}catch(a){r=!0,o=a}finally{try{!n&&u["return"]&&u["return"]()}finally{if(r)throw o}}return t}function s(e){return e.indexOf?0===e.indexOf("//")||0===e.indexOf("http"):!1}var a=function(e){return e&&e.__esModule?e:{"default":e}},c=function(e){return e&&e.__esModule?e["default"]:e},l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){for(var n,r=[],o=e[Symbol.iterator]();!(n=o.next()).done&&(r.push(n.value),!t||r.length!==t););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},p=function(e){return Array.isArray(e)?e:Array.from(e)},f=function(){function e(e,t){for(var n in t){var r=t[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(e,t)}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};n(96);var d=c(n(21)),v=c(n(175)),m=a(n(65)),y=c(n(66));r.prototype=Object.create(Error.prototype),r.prototype.constructor=r;var g=function(){function e(t){h(this,e),this.data=t,this.hasEvaluated=!1}return f(e,{_getVariableValue:{value:function(e,t,n){var r=t,o=e.split(".")||[],i=p(o),u=i[0],s=i.slice(1);return r=d.isNumber(n)&&Array.isArray(r[u])?r[u][n]:r[u][0],s.length?s.reduce(function(e,t){return e&&void 0!==e[t]?e[t]:null},r):r}},_updateObj:{value:function(e,t,n,o){var i=this;Object.keys(e).forEach(function(u){d.isString(e[u])&&t.forEach(function(t){var a=t[1];a.lastIndex=0;var c=a.exec(e[u])||[],p=l(c,1),f=p[0];if(f){var h=i._getVariableValue(f,n,o);if(null===h)throw new r("Unable to parse "+f);s(h)?e[u]=e[u].replace(f,h):e[u]=e[u].replace(f,h.toLowerCase&&h.toLowerCase()||h)}})})}},_expandRepo:{value:function(e,t,n,o){try{return this._updateObj(e,t,n,o),this._updateObj(e.infos,t,n,o),e}catch(i){if(i instanceof r)return null;throw i}}},_expandRepos:{value:function(e,t,n){var r=this,o=e[0].__expand__;return o?n[o].map(function(o,i){return r._expandRepo(e[i],t,n,i)}):e.map(function(e){return r._expandRepo(e,t,n)})}},_cloneRepoDef:{value:function(e,t){var n=e.__expand__;if(!n)return[e];var r=JSON.stringify(e),o=Array.apply(null,{length:t[n].length+1}).map(function(){return JSON.parse(r)});return o}},_evaluateSelectorVars:{value:function(){var e=this.data.channelDetail,t=e.variables,n=new RegExp(e.triggers.url.pop()).exec(window.location.href).splice(1),r=Object.keys(t).filter(function(e){return v.VariableType.isSelector(e)}).map(function(e){var n=y.evaluateXpath(t[e]),r=new Set(n.map(function(e){return e.textContent}).filter(function(e){return e}));return r=u(r.values()),[e,r]});return r=d.zipObject(r),r.$URL=[window.location.href],r.$TITLE=[window.document.title],r.$KEYWORDS=[m.getKeywords()],n.forEach(function(e,t){r["$MATCH_"+t]=[e]}),r}},evaluate:{value:function(){var e=this,t=this.data.channelDetail,n=t.variables,r=this._evaluateSelectorVars(),u=Object.keys(n).filter(function(e){return v.VariableType.isDynamic(e)}).map(function(e){var t=/(\??\$\w+)/g,i=n[e],u=o(i,t),s=l(u,1),a=s[0];return a in r?[e,r[a].map(function(e){return i.replace(a,e);
})]:[e,i]}),s=u.map(function(e){var t=l(e,2),n=t[0],r=t[1],o=r.map(function(e){return fetch(e).then(function(e){return e.json()})});return Promise.all(o).then(function(e){return[n,e.filter(function(e){return e})]})});return Promise.all(s).then(function(n){var o=d.assign(d.zipObject(n),r),u={variables:o},s=!1,a=Object.keys(o).map(function(e){return(!o[e]||d.isEmpty(o[e]))&&(s=!0),[e,RegExp(""+i(e)+"(\\.\\w+)*","g")]});if(s)return e.hasEvaluated=!0,u.repos=null,u.serviceKey=null,u;if(Array.isArray(t.repos)){var c=t.repos.map(function(t){var n=e._cloneRepoDef(t,o),r=e._expandRepos(n,a,o);return r});u.repos=d.flatten(c).filter(function(e){return e})}else t.serviceKey&&(u.serviceKey=t.serviceKey);return e.hasEvaluated=!0,u})["catch"](function(e){console.error(e)})}},evaluateDynamic:{value:function(){var e=this.data.channelDetail.variables,t=Object.keys(e).filter(function(e){return v.VariableType.isWatch(e)}).length;return t&&this.hasEvaluated?this.evaluate():Promise.resolve(null)}}}),e}();e.exports=g},96:function(e,t,n){n(97),e.exports=self.fetch.bind(self)},97:function(e,t){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=e.toString()),e}function n(e){this.map={};var t=this;e instanceof n?e.forEach(function(e,n){n.forEach(function(n){t.append(e,n)})}):e&&Object.getOwnPropertyNames(e).forEach(function(n){t.append(n,e[n])})}function r(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function i(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function u(e){var t=new FileReader;return t.readAsText(e),o(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(h.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(h.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},h.blob?(this.blob=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var e=r(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=r(this);return e?e:Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(l)}),this.json=function(){return this.text().then(JSON.parse)},this}function a(e){var t=e.toUpperCase();return d.indexOf(t)>-1?t:e}function c(e,t){if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new n(t.headers),this.method=a(t.method||"GET"),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function l(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(o))}}),t}function p(e){var t=new n,r=e.getAllResponseHeaders().trim().split("\n");return r.forEach(function(e){var n=e.trim().split(":"),r=n.shift().trim(),o=n.join(":").trim();t.append(r,o)}),t}function f(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof n?t.headers:new n(t.headers),this.url=t.url||""}if(!self.fetch){n.prototype.append=function(n,r){n=e(n),r=t(r);var o=this.map[n];o||(o=[],this.map[n]=o),o.push(r)},n.prototype["delete"]=function(t){delete this.map[e(t)]},n.prototype.get=function(t){var n=this.map[e(t)];return n?n[0]:null},n.prototype.getAll=function(t){return this.map[e(t)]||[]},n.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},n.prototype.set=function(n,r){this.map[e(n)]=[t(r)]},n.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach(function(n){e(n,t.map[n])})};var h={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];s.call(c.prototype),s.call(f.prototype),self.Headers=n,self.Request=c,self.Response=f,self.fetch=function(e,t){var n;return n=c.prototype.isPrototypeOf(e)&&!t?e:new c(e,t),new Promise(function(e,t){function r(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var o=new XMLHttpRequest;o.onload=function(){var n=1223===o.status?204:o.status;if(100>n||n>599)return void t(new TypeError("Network request failed"));var i={status:n,statusText:o.statusText,headers:p(o),url:r()},u="response"in o?o.response:o.responseText;e(new f(u,i))},o.onerror=function(){t(new TypeError("Network request failed"))},o.open(n.method,n.url,!0),"include"===n.credentials&&(o.withCredentials=!0),"responseType"in o&&h.blob&&(o.responseType="blob"),n.headers.forEach(function(e,t){t.forEach(function(t){o.setRequestHeader(e,t)})}),o.send("undefined"==typeof n._bodyInit?null:n._bodyInit)})},self.fetch.polyfill=!0}}()},173:function(e,t,n){var r,o;(function(e,i){(function(u){var s={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},a=s[typeof window]&&window||this,c=s[typeof t]&&t&&!t.nodeType&&t,l=s[typeof e]&&e&&!e.nodeType&&e,p=(l&&l.exports===c&&c,s[typeof i]&&i);!p||p.global!==p&&p.window!==p||(a=p),r=[n(174),t],o=function(e,t){return a.Rx=u(a,t,e),a.Rx}.apply(t,r),!(void 0!==o&&(e.exports=o))}).call(this,function(e,t,n,r){function o(e,t,n,r){if(e.addEventListener)return e.addEventListener(t,n,r),d(function(){e.removeEventListener(t,n,r)});throw new Error("No listener found")}function i(e,t,n,r){var u=new v,s=Object.prototype.toString;if("[object NodeList]"===s.call(e)||"[object HTMLCollection]"===s.call(e))for(var a=0,c=e.length;c>a;a++)u.add(i(e.item(a),t,n,r));else e&&u.add(o(e,t,n,r));return u}function u(){if(e.XMLHttpRequest)return new e.XMLHttpRequest;var t;try{for(var n=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;3>r;r++)try{if(t=n[r],new e.ActiveXObject(t))break}catch(o){}return new e.ActiveXObject(t)}catch(o){throw new Error("XMLHttpRequest is not supported by your browser")}}function s(){var t=new e.XMLHttpRequest;if("withCredentials"in t)return t;if(e.XDomainRequest)return new XDomainRequest;throw new Error("CORS is not supported by your browser")}function a(e,t,n){var r="response"in t?t.response:t.responseText;return r="json"===n.responseType?JSON.parse(r):r,{response:r,status:t.status,responseType:t.responseType,xhr:t,originalEvent:e}}function c(e,t,n){return{type:n,status:t.status,xhr:t,originalEvent:e}}var l=n.Observable,p=(l.prototype,n.AnonymousObservable),f=n.Observer.create,h=n.Observable.create,d=n.Disposable.create,v=n.CompositeDisposable,m=n.SingleAssignmentDisposable,y=n.AsyncSubject,g=n.Subject,b=n.Scheduler,E=function(){return Date.now?Date.now:function(){return+new Date}}(),_=n.DOM={},w={}.hasOwnProperty,N=(n.helpers.noop,n.helpers.isFunction),C=_.fromEvent=function(e,t,n,r){var o=N(n)?n:null;return"boolean"==typeof n&&(r=n),"undefined"==typeof r&&(r=!1),new p(function(n){return i(e,t,function(){var e=arguments[0];if(o){var e=tryCatch(o).apply(null,arguments);if(e===errorObj)return n.onError(e.e)}n.onNext(e)},r)}).publish().refCount()};!function(){var t="blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu";e.PointerEvent&&(t+=" pointerdown pointerup pointermove pointerover pointerout pointerenter pointerleave"),e.TouchEvent&&(t+=" touchstart touchend touchmove touchcancel"),t=t.split(" ");for(var n=0,r=t.length;r>n;n++)!function(e){_[e]=function(t,n,r){return C(t,e,n,r)}}(t[n])}(),_.ready=function(){return new p(function(t){function n(){t.onNext(),t.onCompleted()}var r=!1;return"complete"===e.document.readyState?setTimeout(n,0):(r=!0,e.document.addEventListener("DOMContentLoaded",n,!1),e.addEventListener("load",n,!1)),function(){r&&(e.document.removeEventListener("DOMContentLoaded",n,!1),e.removeEventListener("load",n,!1))}})};var x=_.ajax=function(t){var n={method:"GET",crossDomain:!1,async:!0,headers:{},responseType:"text",createXHR:function(){return this.crossDomain?s():u()},normalizeError:c,normalizeSuccess:a};if("string"==typeof t)n.url=t;else for(var o in t)w.call(t,o)&&(n[o]=t[o]);var i=n.normalizeError,l=n.normalizeSuccess;return n.crossDomain||n.headers["X-Requested-With"]||(n.headers["X-Requested-With"]="XMLHttpRequest"),n.hasContent=n.body!==r,new p(function(t){var r,o=!1,u=function(e,r){var u=1223==e.status?204:e.status;u>=200&&300>=u||0===u||""===u?(t.onNext(l(r,e,n)),t.onCompleted()):t.onError(i(r,e,"error")),o=!0};try{r=n.createXHR()}catch(s){t.onError(s)}try{n.user?r.open(n.method,n.url,n.async,n.user,n.password):r.open(n.method,n.url,n.async);var a=n.headers;for(var c in a)w.call(a,c)&&r.setRequestHeader(c,a[c]);r.upload||!("withCredentials"in r)&&e.XDomainRequest?(r.onload=function(e){n.progressObserver&&(n.progressObserver.onNext(e),n.progressObserver.onCompleted()),u(r,e)},n.progressObserver&&(r.onprogress=function(e){n.progressObserver.onNext(e)}),r.onerror=function(e){n.progressObserver&&n.progressObserver.onError(e),t.onError(i(e,r,"error")),o=!0},r.onabort=function(e){n.progressObserver&&n.progressObserver.onError(e),t.onError(i(e,r,"abort")),o=!0}):r.onreadystatechange=function(e){4===r.readyState&&u(r,e)},r.send(n.hasContent&&n.body||null)}catch(p){t.onError(p)}return function(){o||4===r.readyState||r.abort()}})};_.post=function(e,t){return x({url:e,body:t,method:"POST"})};_.get=function(e){return x({url:e})};_.getJSON=function(t){if(!e.JSON&&"function"!=typeof e.JSON.parse)throw new TypeError("JSON is not supported in your runtime.");return x({url:t,responseType:"json"}).map(function(e){return e.response})};var D=function(){var t="document"in e&&e.document.createElement("div");return function(e){t.appendChild(e),t.innerHTML=""}}();_.jsonpRequest=function(){var t=0;return function(n){return new p(function(r){var o="callback_"+(t++).toString(36),i={jsonp:"JSONPCallback",async:!0,jsonpCallback:"rxjsjsonpCallbacks"+o};if("string"==typeof n)i.url=n;else for(var u in n)w.call(n,u)&&(i[u]=n[u]);var s=e.document.createElement("script");s.type="text/javascript",s.async=i.async,s.src=i.url.replace(i.jsonp,i.jsonpCallback),e[i.jsonpCallback]=function(t){e[i.jsonpCallback].called=!0,e[i.jsonpCallback].data=t};var a=function(t){"load"!==t.type||e[i.jsonpCallback].called||(t={type:"error"});var n="error"===t.type?400:200,o=e[i.jsonpCallback].data;200===n?(r.onNext({status:n,responseType:"jsonp",response:o,originalEvent:t}),r.onCompleted()):r.onError({type:"error",status:n,originalEvent:t})};s.onload=s.onreadystatechanged=s.onerror=a;var c=e.document.getElementsByTagName("head")[0]||e.document.documentElement;return c.insertBefore(s,c.firstChild),function(){s.onload=s.onreadystatechanged=s.onerror=null,D(s),s=null}})}}(),_.fromWebSocket=function(e,t,n,r){function o(e,t){i&&(r&&(r.onNext(),r.onCompleted()),e?i.close(e,t):i.close())}if(!WebSocket)throw new TypeError("WebSocket not implemented in your runtime.");var i,u=new p(function(r){function u(e){n.onNext(e),n.onCompleted(),i.removeEventListener("open",u,!1)}function s(e){r.onNext(e)}function a(e){r.onError(e)}function c(e){return 1e3===e.code&&e.wasClean?void r.onCompleted():r.onError(e)}return i=t?new WebSocket(e,t):new WebSocket(e),n&&i.addEventListener("open",u,!1),i.addEventListener("message",s,!1),i.addEventListener("error",a,!1),i.addEventListener("close",c,!1),function(){o(),i.removeEventListener("message",s,!1),i.removeEventListener("error",a,!1),i.removeEventListener("close",c,!1)}}),s=f(function(e){i&&i.readyState===WebSocket.OPEN&&i.send(e)},function(e){if(!e.code)throw new Error('no code specified. be sure to pass { code: ###, reason: "" } to onError()');o(e.code,e.reason||"")},function(){o(1e3,"")});return g.create(s,u)},_.fromWebWorker=function(t){if(!e.Worker)throw new TypeError("Worker not implemented in your runtime.");var n=new e.Worker(t),r=new p(function(e){function t(t){e.onNext(t)}function r(t){e.onError(t)}return n.addEventListener("message",t,!1),n.addEventListener("error",r,!1),function(){n.terminate(),n.removeEventListener("message",t,!1),n.removeEventListener("error",r,!1)}}),o=f(function(e){n.postMessage(e)});return g.create(o,r)},_.fromEventSource=function(t,n){if(!e.EventSource)throw new TypeError("EventSource not implemented in your runtime.");return new p(function(r){function o(e){n.onNext(e),n.onCompleted(),s.removeEventListener("open",o,!1)}function i(e){e.readyState===EventSource.CLOSED?r.onCompleted():r.onError(e)}function u(e){r.onNext(e)}var s=new e.EventSource(t);return n&&s.addEventListener("open",o,!1),s.addEventListener("error",i,!1),s.addEventListener("message",u,!1),function(){s.removeEventListener("error",i,!1),s.removeEventListener("message",u,!1),s.close()}})},_.fromMutationObserver=function(t,n){var r=e.MutationObserver||e.WebKitMutationObserver;if(!r)throw new TypeError("MutationObserver not implemented in your runtime.");return h(function(e){var o=new r(e.onNext.bind(e));return o.observe(t,n),o.disconnect.bind(o)})};var O,S;return e.requestAnimationFrame?(O=e.requestAnimationFrame,S=e.cancelAnimationFrame):e.mozRequestAnimationFrame?(O=e.mozRequestAnimationFrame,S=e.mozCancelAnimationFrame):e.webkitRequestAnimationFrame?(O=e.webkitRequestAnimationFrame,S=e.webkitCancelAnimationFrame):e.msRequestAnimationFrame?(O=e.msRequestAnimationFrame,S=e.msCancelAnimationFrame):e.oRequestAnimationFrame?(O=e.oRequestAnimationFrame,S=e.oCancelAnimationFrame):(O=function(t){e.setTimeout(t,1e3/60)},S=e.clearTimeout),b.requestAnimationFrame=function(){function t(e,t){var n=this,r=new m,o=O(function(){!r.isDisposed&&r.setDisposable(t(n,e))});return new v(r,d(function(){S(o)}))}function n(t,n,r){var o=this,i=b.normalize(n);if(0===i)return o.scheduleWithState(t,r);var u=new m,s=e.setTimeout(function(){u.isDisposed||u.setDisposable(r(o,t))},i);return new v(u,d(function(){e.clearTimeout(s)}))}function r(e,t,n){return this.scheduleWithRelativeAndState(e,t-this.now(),n)}return new b(E,t,n,r)}(),b.microtask=function(){function t(e){delete l[e]}function n(r){if(p)e.setTimeout(function(){n(r)},0);else{var o=l[r];if(o){p=!0;try{o()}catch(i){throw i}finally{t(r),p=!1}}}}function r(){if(!e.postMessage||e.importScripts)return!1;var t=!1,n=e.onmessage;return e.onmessage=function(){t=!0},e.postMessage("","*"),e.onmessage=n,t}function o(e){"string"==typeof e.data&&e.data.substring(0,_.length)===_&&n(e.data.substring(_.length))}function i(e,n){var r=this,o=new m,i=a(function(){!o.isDisposed&&o.setDisposable(n(r,e))});return new v(o,d(function(){t(i)}))}function u(t,n,r){var o=this,i=b.normalize(n);if(0===i)return o.scheduleWithState(t,r);var u=new m,s=e.setTimeout(function(){u.isDisposed||u.setDisposable(r(o,t))},i);return new v(u,d(function(){e.clearTimeout(s)}))}function s(e,t,n){return this.scheduleWithRelativeAndState(e,t-this.now(),n)}var a,c=1,l={},p=!1,f=e.MutationObserver||e.WebKitMutationObserver;if(f){var h="drainqueue_",y=new f(function(e){e.forEach(function(e){n(e.attributeName.substring(h.length))})}),g=e.document.createElement("div");y.observe(g,{attributes:!0}),e.addEventListener("unload",function(){y.disconnect(),y=null},!1),a=function(e){var t=c++;return l[t]=e,g.setAttribute(h+t,"drainQueue"),t}}else if("function"==typeof e.setImmediate)a=function(t){var r=c++;return l[r]=t,e.setImmediate(function(){n(r)}),r};else if(r()){var _="ms.rx.schedule"+Math.random();e.addEventListener?e.addEventListener("message",o,!1):e.attachEvent&&e.attachEvent("onmessage",o),a=function(t){var n=c++;return l[currentId]=t,e.postMessage(_+currentId,"*"),n}}else if(e.MessageChannel){var w=new e.MessageChannel;w.port1.onmessage=function(e){n(e.data)},a=function(e){var t=c++;return l[t]=e,w.port2.postMessage(t),t}}else a="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(t){var r=e.document.createElement("script"),o=c++;return l[o]=t,r.onreadystatechange=function(){n(o),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},e.document.documentElement.appendChild(r),o}:function(t){var r=c++;return l[r]=t,e.setTimeout(function(){n(r)},0),r};return new b(E,i,u,s)}(),n.DOM.geolocation={getCurrentPosition:function(t){if(!e.navigator&&!e.navigation.geolocation)throw new TypeError("geolocation not available");return new p(function(n){e.navigator.geolocation.getCurrentPosition(function(e){n.onNext(e),n.onCompleted()},n.onError.bind(n),t)})},watchPosition:function(t){if(!e.navigator&&!e.navigation.geolocation)throw new TypeError("geolocation not available");return new p(function(n){var r=e.navigator.geolocation.watchPosition(n.onNext.bind(n),n.onError.bind(n),t);return function(){e.navigator.geolocation.clearWatch(r)}}).publish().refCount()}},_.fromReader=function(t,n){function r(t,r,o){return new p(function(i){function u(e){n&&n.onCompleted(),l.onNext(e.target.result),l.onCompleted()}function s(e){l.onError(e.target.error)}function a(e){n.onNext(e)}var c=new e.FileReader,l=new y;return c.addEventListener("load",u,!1),c.addEventListener("error",s,!1),n&&c.addEventListener("progress",a,!1),c[t](r,o),new v(l.subscribe(i),d(function(){c.readyState==e.FileReader.LOADING&&c.abort(),c.removeEventListener("load",u,!1),c.removeEventListener("error",s,!1),n&&c.removeEventListener("progress",a,!1)}))})}if(!e.FileReader)throw new TypeError("FileReader not implemented in your runtime.");return{asArrayBuffer:function(){return r("readAsArrayBuffer",t)},asBinaryString:function(){return r("readAsBinaryString",t)},asDataURL:function(){return r("readAsDataURL",t)},asText:function(e){return r("readAsText",t,e)}}},n})}).call(t,n(19)(e),function(){return this}())},174:function(e,t,n){var r;(function(e,o,i){(function(u){function a(e){for(var t=[],n=0,r=e.length;r>n;n++)t.push(e[n]);return t}function c(e,t){if(He&&t.stack&&"object"==typeof e&&null!==e&&e.stack&&-1===e.stack.indexOf($e)){for(var n=[],r=t;r;r=r.source)r.stack&&n.unshift(r.stack);n.unshift(e.stack);var o=n.join("\n"+$e+"\n");e.stack=l(o)}}function l(e){for(var t=e.split("\n"),n=[],r=0,o=t.length;o>r;r++){var i=t[r];p(i)||f(i)||!i||n.push(i)}return n.join("\n")}function p(e){var t=d(e);if(!t)return!1;var n=t[0],r=t[1];return n===ze&&r>=Ye&&zr>=r}function f(e){return-1!==e.indexOf("(module.js:")||-1!==e.indexOf("(node.js:")}function h(){if(He)try{throw new Error}catch(e){var t=e.stack.split("\n"),n=t[0].indexOf("@")>0?t[1]:t[2],r=d(n);if(!r)return;return ze=r[0],r[1]}}function d(e){var t=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(e);if(t)return[t[1],Number(t[2])];var n=/at ([^ ]+):(\d+):(?:\d+)$/.exec(e);if(n)return[n[1],Number(n[2])];var r=/.*@(.+):(\d+)$/.exec(e);return r?[r[1],Number(r[2])]:void 0}function v(e){var t=[];if(!Rt(e))return t;St.nonEnumArgs&&e.length&&Tt(e)&&(e=Mt.call(e));var n=St.enumPrototypes&&"function"==typeof e,r=St.enumErrorProps&&(e===Nt||e instanceof Error);for(var o in e)n&&"prototype"==o||r&&("message"==o||"name"==o)||t.push(o);if(St.nonEnumShadows&&e!==Ct){var i=e.constructor,u=-1,s=ct;if(e===(i&&i.prototype))var a=e===xt?bt:e===Nt?dt:Et.call(e),c=Ot[a];for(;++u<s;)o=at[u],c&&c[o]||!_t.call(e,o)||t.push(o)}return t}function m(e,t,n){for(var r=-1,o=n(e),i=o.length;++r<i;){var u=o[r];if(t(e[u],u,e)===!1)break}return e}function y(e,t){return m(e,t,v)}function g(e){return"function"!=typeof e.toString&&"string"==typeof(e+"")}function b(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;var o=typeof e,i=typeof t;if(e===e&&(null==e||null==t||"function"!=o&&"object"!=o&&"function"!=i&&"object"!=i))return!1;var u=Et.call(e),s=Et.call(t);if(u==lt&&(u=yt),s==lt&&(s=yt),u!=s)return!1;switch(u){case ft:case ht:return+e==+t;case mt:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case gt:case bt:return e==String(t)}var a=u==pt;if(!a){if(u!=yt||!St.nodeClass&&(g(e)||g(t)))return!1;var c=!St.argsObject&&Tt(e)?Object:e.constructor,l=!St.argsObject&&Tt(t)?Object:t.constructor;if(!(c==l||_t.call(e,"constructor")&&_t.call(t,"constructor")||qe(c)&&c instanceof c&&qe(l)&&l instanceof l||!("constructor"in e&&"constructor"in t)))return!1}n||(n=[]),r||(r=[]);for(var p=n.length;p--;)if(n[p]==e)return r[p]==t;var f=0,h=!0;if(n.push(e),r.push(t),a){if(p=e.length,f=t.length,h=f==p)for(;f--;){var d=t[f];if(!(h=b(e[f],d,n,r)))break}}else y(t,function(t,o,i){return _t.call(i,o)?(f++,h=_t.call(e,o)&&b(e[o],t,n,r)):void 0}),h&&y(e,function(e,t,n){return _t.call(n,t)?h=--f>-1:void 0});return n.pop(),r.pop(),h}function E(e,t){for(var n=new Array(e),r=0;e>r;r++)n[r]=t();return n}function _(){try{return At.apply(this,arguments)}catch(e){return jt.e=e,jt}}function w(e){if(!qe(e))throw new TypeError("fn must be a function");return At=e,_}function N(e){throw e}function C(e,t){this.id=e,this.value=t}function x(e,t){this.scheduler=e,this.disposable=t,this.isDisposed=!1}function D(e,t){t.isDisposed||(t.isDisposed=!0,t.disposable.dispose())}function O(e){this._s=s}function S(e){this._s=s,this._l=s.length,this._i=0}function R(e){this._a=e}function T(e){this._a=e,this._l=k(e),this._i=0}function A(e){return"number"==typeof e&&Re.isFinite(e)}function I(e){var t,n=e[nt];if(!n&&"string"==typeof e)return t=new O(e),t[nt]();if(!n&&e.length!==u)return t=new R(e),t[nt]();if(!n)throw new TypeError("Object is not iterable");return e[nt]()}function M(e){var t=+e;return 0===t?t:isNaN(t)?t:0>t?-1:1}function k(e){var t=+e.length;return isNaN(t)?0:0!==t&&A(t)?(t=M(t)*Math.floor(Math.abs(t)),0>=t?0:t>Fn?Fn:t):t}function P(e,t){this.observer=e,this.parent=t}function V(e,t){return Zt(e)||(e=on),new Bn(t,e)}function j(e,t){this.observer=e,this.parent=t}function L(e,t){this.observer=e,this.parent=t}function U(e,t){return new Fr(function(n){var r=new Yt,o=new $t;return o.setDisposable(r),r.setDisposable(e.subscribe(function(e){n.onNext(e)},function(e){try{var r=t(e)}catch(i){return n.onError(i)}We(r)&&(r=Mn(r));var u=new Yt;o.setDisposable(u),u.setDisposable(r.subscribe(n))},function(e){n.onCompleted(e)})),o},e)}function F(){return!1}function W(e,t){var n=this;return new Fr(function(r){var o=0,i=e.length;return n.subscribe(function(n){if(i>o){var u=e[o++],s=w(t)(n,u);if(s===jt)return r.onError(s.e);r.onNext(s)}else r.onCompleted()},function(e){r.onError(e)},function(){r.onCompleted()})},n)}function F(){return!1}function B(){return[]}function F(){return!1}function q(){return[]}function H(e,t){this.observer=e,this.accumulator=t.accumulator,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.accumulation=null,this.hasValue=!1,this.isStopped=!1}function K(e,t,n){var r=st(t,n,3);return e.map(function(t,n){var o=r(t,n,e);return We(o)&&(o=Mn(o)),(it(o)||ot(o))&&(o=Wn(o)),o}).concatAll()}function z(e,t,n){for(var r=0,o=e.length;o>r;r++)if(n(e[r],t))return r;return-1}function Y(e){this.comparer=e,this.set=[]}function $(e,t,n){var r=st(t,n,3);return e.map(function(t,n){var o=r(t,n,e);return We(o)&&(o=Mn(o)),(it(o)||ot(o))&&(o=Wn(o)),o}).mergeAll()}function G(e,t,n){return new Fr(function(r){var o=!1,i=null,u=[];return e.subscribe(function(e){var s,a;try{a=t(e)}catch(c){return void r.onError(c)}if(s=0,o)try{s=n(a,i)}catch(l){return void r.onError(l)}else o=!0,i=a;s>0&&(i=a,u=[]),s>=0&&u.push(e)},function(e){r.onError(e)},function(){r.onNext(u),r.onCompleted()})},e)}function X(e){if(0===e.length)throw new Ge;return e[0]}function Q(e,t,n,r){if(0>t)throw new Qe;return new Fr(function(o){var i=t;return e.subscribe(function(e){0===i--&&(o.onNext(e),o.onCompleted())},function(e){o.onError(e)},function(){n?(o.onNext(r),o.onCompleted()):o.onError(new Qe)})},e)}function J(e,t,n){return new Fr(function(r){var o=n,i=!1;return e.subscribe(function(e){i?r.onError(new Error("Sequence contains more than one element")):(o=e,i=!0)},function(e){r.onError(e)},function(){i||t?(r.onNext(o),r.onCompleted()):r.onError(new Ge)})},e)}function Z(e,t,n){return new Fr(function(r){return e.subscribe(function(e){r.onNext(e),r.onCompleted()},function(e){r.onError(e)},function(){t?(r.onNext(n),r.onCompleted()):r.onError(new Ge)})},e)}function ee(e,t,n){return new Fr(function(r){var o=n,i=!1;return e.subscribe(function(e){o=e,i=!0},function(e){r.onError(e)},function(){i||t?(r.onNext(o),r.onCompleted()):r.onError(new Ge)})},e)}function te(e,t,n,r){var o=st(t,n,3);return new Fr(function(t){var n=0;return e.subscribe(function(i){var u;try{u=o(i,n,e)}catch(s){return void t.onError(s)}u?(t.onNext(r?n:i),t.onCompleted()):n++},function(e){t.onError(e)},function(){t.onNext(r?-1:u),t.onCompleted()})},e)}function ne(e,t){return Array.isArray(e)?re.call(t,e):se(e)?Er(e.call(t)):ae(e)?Er(e):ue(e)?oe(e):We(e)?ie(e):typeof e===gr?e:Rt(e)||Array.isArray(e)?re.call(t,e):e}function re(e){var t=this;return function(n){function r(e,r){if(!o)try{if(e=ne(e,t),typeof e!==gr)return s[r]=e,--u||n(null,s);e.call(t,function(e,t){if(!o){if(e)return o=!0,n(e);s[r]=t,--u||n(null,s)}})}catch(i){o=!0,n(i)}}var o,i=Object.keys(e),u=i.length,s=new e.constructor;if(!u)return void cn.schedule(function(){n(null,s)});for(var a=0,c=i.length;c>a;a++)r(e[i[a]],i[a])}}function oe(e){return function(t){var n,r=!1;e.subscribe(function(e){n=e,r=!0},t,function(){r&&t(null,n)})}}function ie(e){return function(t){e.then(function(e){t(null,e)},t)}}function ue(e){return e&&typeof e.subscribe===gr}function se(e){return e&&e.constructor&&"GeneratorFunction"===e.constructor.name}function ae(e){return e&&typeof e.next===gr&&typeof e[br]===gr}function ce(e){e&&cn.schedule(function(){throw e})}function le(e,t,n){if(e.addEventListener)return e.addEventListener(t,n,!1),qt(function(){e.removeEventListener(t,n,!1)});throw new Error("No listener found")}function pe(e,t,n){var r=new Ft,o=Object.prototype.toString;if("[object NodeList]"===o.call(e)||"[object HTMLCollection]"===o.call(e))for(var i=0,u=e.length;u>i;i++)r.add(pe(e.item(i),t,n));else e&&r.add(le(e,t,n));return r}function fe(e,t,n){return new Fr(function(r){function o(e,t){if(c[t]=e,u[t]=!0,s||(s=u.every(Ve))){if(i)return r.onError(i);var o=w(n).apply(null,c);if(o===jt)return r.onError(o.e);r.onNext(o)}a&&c[1]&&r.onCompleted()}var i,u=[!1,!1],s=!1,a=!1,c=new Array(2);return new Ft(e.subscribe(function(e){o(e,0)},function(e){c[1]?r.onError(e):i=e},function(){a=!0,c[1]&&r.onCompleted()}),t.subscribe(function(e){o(e,1)},function(e){r.onError(e)},function(){a=!0,o(!0,1)}))},e)}function he(e,t){return e.groupJoin(this,t,jn,function(e,t){return t})}function de(e){var t=this;return new Fr(function(n){var r=new qr,o=new Ft,i=new Gt(o);return n.onNext(Vt(r,i)),o.add(t.subscribe(function(e){r.onNext(e)},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),We(e)&&(e=Mn(e)),o.add(e.subscribe(function(e){r.onCompleted(),r=new qr,n.onNext(Vt(r,i))},function(e){r.onError(e),n.onError(e)},function(){r.onCompleted(),n.onCompleted()})),i},t)}function ve(e){var t=this;return new Fr(function(n){function r(){var t;try{t=e()}catch(i){return void n.onError(i)}We(t)&&(t=Mn(t));var a=new Yt;o.setDisposable(a),a.setDisposable(t.take(1).subscribe(Pe,function(e){s.onError(e),n.onError(e)},function(){s.onCompleted(),s=new qr,n.onNext(Vt(s,u)),r()}))}var o=new $t,i=new Ft(o),u=new Gt(i),s=new qr;return n.onNext(Vt(s,u)),i.add(t.subscribe(function(e){s.onNext(e)},function(e){s.onError(e),n.onError(e)},function(){s.onCompleted(),n.onCompleted()})),r(),u},t)}function me(e,t){return new kr(e,t)}function ye(e){this.patterns=e}function ge(e,t){this.expression=e,this.selector=t}function be(e,t,n){var r=e.get(t);if(!r){var o=new Lr(t,n);return e.set(t,o),o}return r}function Ee(e,t,n){this.joinObserverArray=e,this.onNext=t,this.onCompleted=n,this.joinObservers=new jr;for(var r=0,o=this.joinObserverArray.length;o>r;r++){var i=this.joinObserverArray[r];this.joinObservers.set(i,i)}}function _e(e,t){return new Fr(function(n){return t.scheduleWithAbsolute(e,function(){n.onNext(0),n.onCompleted()})})}function we(e,t,n){return new Fr(function(r){var o=e,i=Jt(t);return n.scheduleRecursiveWithAbsoluteAndState(0,o,function(e,t){if(i>0){var u=n.now();o+=i,u>=o&&(o=u+i)}r.onNext(e),t(e+1,o)})})}function Ne(e,t){return new Fr(function(n){return t.scheduleWithRelative(Jt(e),function(){n.onNext(0),n.onCompleted()})})}function Ce(e,t,n){return e===t?new Fr(function(e){return n.schedulePeriodicWithState(0,t,function(t){return e.onNext(t),t+1})}):Pn(function(){return we(n.now()+e,t,n)})}function xe(e,t,n){return new Fr(function(r){var o,i=!1,u=new $t,s=null,a=[],c=!1;return o=e.materialize().timestamp(n).subscribe(function(e){var o,l;"E"===e.value.kind?(a=[],a.push(e),s=e.value.exception,l=!c):(a.push({value:e.value,timestamp:e.timestamp+t}),l=!i,i=!0),l&&(null!==s?r.onError(s):(o=new Yt,u.setDisposable(o),o.setDisposable(n.scheduleRecursiveWithRelative(t,function(e){var t,o,u,l;if(null===s){c=!0;do u=null,a.length>0&&a[0].timestamp-n.now()<=0&&(u=a.shift().value),null!==u&&u.accept(r);while(null!==u);l=!1,o=0,a.length>0?(l=!0,o=Math.max(0,a[0].timestamp-n.now())):i=!1,t=s,c=!1,null!==t?r.onError(t):l&&e(o)}}))))}),new Ft(o,u)},e)}function De(e,t,n){return Pn(function(){return xe(e,t-n.now(),n)})}function Oe(e,t){return new Fr(function(n){function r(){u&&(u=!1,n.onNext(o)),i&&n.onCompleted()}var o,i=!1,u=!1,s=new Yt;return s.setDisposable(e.subscribe(function(e){u=!0,o=e},function(e){n.onError(e)},function(){i=!0,s.dispose()})),new Ft(s,t.subscribe(r,function(e){n.onError(e)},r))},e)}var Se={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},Re=Se[typeof window]&&window||this,Te=Se[typeof t]&&t&&!t.nodeType&&t,Ae=Se[typeof e]&&e&&!e.nodeType&&e,Ie=Ae&&Ae.exports===Te&&Te,Me=Se[typeof o]&&o;!Me||Me.global!==Me&&Me.window!==Me||(Re=Me);var ke={internals:{},config:{Promise:Re.Promise},helpers:{}},Pe=ke.helpers.noop=function(){},Ve=(ke.helpers.notDefined=function(e){return"undefined"==typeof e},ke.helpers.identity=function(e){return e}),je=(ke.helpers.pluck=function(e){return function(t){return t[e]}},ke.helpers.just=function(e){return function(){return e}},ke.helpers.defaultNow=Date.now),Le=ke.helpers.defaultComparer=function(e,t){return It(e,t)},Ue=ke.helpers.defaultSubComparer=function(e,t){return e>t?1:t>e?-1:0},Fe=(ke.helpers.defaultKeySerializer=function(e){return e.toString()},ke.helpers.defaultError=function(e){throw e}),We=ke.helpers.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then},Be=(ke.helpers.asArray=function(){return Array.prototype.slice.call(arguments)},ke.helpers.not=function(e){return!e}),qe=ke.helpers.isFunction=function(){var e=function(e){return"function"==typeof e||!1};return e(/x/)&&(e=function(e){return"function"==typeof e&&"[object Function]"==Et.call(e)}),e}();ke.config.longStackSupport=!1;var He=!1;try{throw new Error}catch(Ke){He=!!Ke.stack}var ze,Ye=h(),$e="From previous event:",Ge=ke.EmptyError=function(){this.message="Sequence contains no elements.",Error.call(this)};Ge.prototype=Error.prototype;var Xe=ke.ObjectDisposedError=function(){this.message="Object has been disposed",Error.call(this)};Xe.prototype=Error.prototype;var Qe=ke.ArgumentOutOfRangeError=function(){this.message="Argument out of range",Error.call(this)};Qe.prototype=Error.prototype;var Je=ke.NotSupportedError=function(e){this.message=e||"This operation is not supported",Error.call(this)};Je.prototype=Error.prototype;var Ze=ke.NotImplementedError=function(e){
this.message=e||"This operation is not implemented",Error.call(this)};Ze.prototype=Error.prototype;var et=ke.helpers.notImplemented=function(){throw new Ze},tt=ke.helpers.notSupported=function(){throw new Je},nt="function"==typeof Symbol&&Symbol.iterator||"_es6shim_iterator_";Re.Set&&"function"==typeof(new Re.Set)["@@iterator"]&&(nt="@@iterator");var rt=ke.doneEnumerator={done:!0,value:u},ot=ke.helpers.isIterable=function(e){return e[nt]!==u},it=ke.helpers.isArrayLike=function(e){return e&&e.length!==u};ke.helpers.iterator=nt;var ut,st=ke.internals.bindCallback=function(e,t,n){if("undefined"==typeof t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)}}return function(){return e.apply(t,arguments)}},at=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],ct=at.length,lt="[object Arguments]",pt="[object Array]",ft="[object Boolean]",ht="[object Date]",dt="[object Error]",vt="[object Function]",mt="[object Number]",yt="[object Object]",gt="[object RegExp]",bt="[object String]",Et=Object.prototype.toString,_t=Object.prototype.hasOwnProperty,wt=Et.call(arguments)==lt,Nt=Error.prototype,Ct=Object.prototype,xt=String.prototype,Dt=Ct.propertyIsEnumerable;try{ut=!(Et.call(document)==yt&&!({toString:0}+""))}catch(Ke){ut=!0}var Ot={};Ot[pt]=Ot[ht]=Ot[mt]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Ot[ft]=Ot[bt]={constructor:!0,toString:!0,valueOf:!0},Ot[dt]=Ot[vt]=Ot[gt]={constructor:!0,toString:!0},Ot[yt]={constructor:!0};var St={};!function(){var e=function(){this.x=1},t=[];e.prototype={valueOf:1,y:1};for(var n in new e)t.push(n);for(n in arguments);St.enumErrorProps=Dt.call(Nt,"message")||Dt.call(Nt,"name"),St.enumPrototypes=Dt.call(e,"prototype"),St.nonEnumArgs=0!=n,St.nonEnumShadows=!/valueOf/.test(t)}(1);var Rt=ke.internals.isObject=function(e){var t=typeof e;return e&&("function"==t||"object"==t)||!1},Tt=function(e){return e&&"object"==typeof e?Et.call(e)==lt:!1};wt||(Tt=function(e){return e&&"object"==typeof e?_t.call(e,"callee"):!1});var At,It=ke.internals.isEqual=function(e,t){return b(e,t,[],[])},Mt=({}.hasOwnProperty,Array.prototype.slice),kt=this.inherits=ke.internals.inherits=function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},Pt=ke.internals.addProperties=function(e){for(var t=[],n=1,r=arguments.length;r>n;n++)t.push(arguments[n]);for(var o=0,i=t.length;i>o;o++){var u=t[o];for(var s in u)e[s]=u[s]}},Vt=ke.internals.addRef=function(e,t){return new Fr(function(n){return new Ft(t.getDisposable(),e.subscribe(n))})},jt={e:{}};C.prototype.compareTo=function(e){var t=this.value.compareTo(e.value);return 0===t&&(t=this.id-e.id),t};var Lt=ke.internals.PriorityQueue=function(e){this.items=new Array(e),this.length=0},Ut=Lt.prototype;Ut.isHigherPriority=function(e,t){return this.items[e].compareTo(this.items[t])<0},Ut.percolate=function(e){if(!(e>=this.length||0>e)){var t=e-1>>1;if(!(0>t||t===e)&&this.isHigherPriority(e,t)){var n=this.items[e];this.items[e]=this.items[t],this.items[t]=n,this.percolate(t)}}},Ut.heapify=function(e){if(+e||(e=0),!(e>=this.length||0>e)){var t=2*e+1,n=2*e+2,r=e;if(t<this.length&&this.isHigherPriority(t,r)&&(r=t),n<this.length&&this.isHigherPriority(n,r)&&(r=n),r!==e){var o=this.items[e];this.items[e]=this.items[r],this.items[r]=o,this.heapify(r)}}},Ut.peek=function(){return this.items[0].value},Ut.removeAt=function(e){this.items[e]=this.items[--this.length],this.items[this.length]=u,this.heapify()},Ut.dequeue=function(){var e=this.peek();return this.removeAt(0),e},Ut.enqueue=function(e){var t=this.length++;this.items[t]=new C(Lt.count++,e),this.percolate(t)},Ut.remove=function(e){for(var t=0;t<this.length;t++)if(this.items[t].value===e)return this.removeAt(t),!0;return!1},Lt.count=0;var Ft=ke.CompositeDisposable=function(){var e,t,n=[];if(Array.isArray(arguments[0]))n=arguments[0],t=n.length;else for(t=arguments.length,n=new Array(t),e=0;t>e;e++)n[e]=arguments[e];for(e=0;t>e;e++)if(!Kt(n[e]))throw new TypeError("Not a disposable");this.disposables=n,this.isDisposed=!1,this.length=n.length},Wt=Ft.prototype;Wt.add=function(e){this.isDisposed?e.dispose():(this.disposables.push(e),this.length++)},Wt.remove=function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),this.length--,e.dispose())}return t},Wt.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;e>n;n++)t[n]=this.disposables[n];for(this.disposables=[],this.length=0,n=0;e>n;n++)t[n].dispose()}};var Bt=ke.Disposable=function(e){this.isDisposed=!1,this.action=e||Pe};Bt.prototype.dispose=function(){this.isDisposed||(this.action(),this.isDisposed=!0)};var qt=Bt.create=function(e){return new Bt(e)},Ht=Bt.empty={dispose:Pe},Kt=Bt.isDisposable=function(e){return e&&qe(e.dispose)},zt=Bt.checkDisposed=function(e){if(e.isDisposed)throw new Xe},Yt=ke.SingleAssignmentDisposable=function(){this.isDisposed=!1,this.current=null};Yt.prototype.getDisposable=function(){return this.current},Yt.prototype.setDisposable=function(e){if(this.current)throw new Error("Disposable has already been assigned");var t=this.isDisposed;!t&&(this.current=e),t&&e&&e.dispose()},Yt.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var $t=ke.SerialDisposable=function(){this.isDisposed=!1,this.current=null};$t.prototype.getDisposable=function(){return this.current},$t.prototype.setDisposable=function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e}n&&n.dispose(),t&&e&&e.dispose()},$t.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null}e&&e.dispose()};var Gt=ke.RefCountDisposable=function(){function e(e){this.disposable=e,this.disposable.count++,this.isInnerDisposed=!1}function t(e){this.underlyingDisposable=e,this.isDisposed=!1,this.isPrimaryDisposed=!1,this.count=0}return e.prototype.dispose=function(){this.disposable.isDisposed||this.isInnerDisposed||(this.isInnerDisposed=!0,this.disposable.count--,0===this.disposable.count&&this.disposable.isPrimaryDisposed&&(this.disposable.isDisposed=!0,this.disposable.underlyingDisposable.dispose()))},t.prototype.dispose=function(){this.isDisposed||this.isPrimaryDisposed||(this.isPrimaryDisposed=!0,0===this.count&&(this.isDisposed=!0,this.underlyingDisposable.dispose()))},t.prototype.getDisposable=function(){return this.isDisposed?Ht:new e(this)},t}();x.prototype.dispose=function(){this.scheduler.scheduleWithState(this,D)};var Xt=ke.internals.ScheduledItem=function(e,t,n,r,o){this.scheduler=e,this.state=t,this.action=n,this.dueTime=r,this.comparer=o||Ue,this.disposable=new Yt};Xt.prototype.invoke=function(){this.disposable.setDisposable(this.invokeCore())},Xt.prototype.compareTo=function(e){return this.comparer(this.dueTime,e.dueTime)},Xt.prototype.isCancelled=function(){return this.disposable.isDisposed},Xt.prototype.invokeCore=function(){return this.action(this.scheduler,this.state)};var Qt=ke.Scheduler=function(){function e(e,t,n,r){this.now=e,this._schedule=t,this._scheduleRelative=n,this._scheduleAbsolute=r}function t(e,t){return t(),Ht}e.isScheduler=function(t){return t instanceof e};var n=e.prototype;return n.schedule=function(e){return this._schedule(e,t)},n.scheduleWithState=function(e,t){return this._schedule(e,t)},n.scheduleWithRelative=function(e,n){return this._scheduleRelative(n,e,t)},n.scheduleWithRelativeAndState=function(e,t,n){return this._scheduleRelative(e,t,n)},n.scheduleWithAbsolute=function(e,n){return this._scheduleAbsolute(n,e,t)},n.scheduleWithAbsoluteAndState=function(e,t,n){return this._scheduleAbsolute(e,t,n)},e.now=je,e.normalize=function(e){return 0>e&&(e=0),e},e}(),Jt=Qt.normalize,Zt=Qt.isScheduler;!function(e){function t(e,t){function n(t){o(t,function(t){var r=!1,o=!1,u=e.scheduleWithState(t,function(e,t){return r?i.remove(u):o=!0,n(t),Ht});o||(i.add(u),r=!0)})}var r=t[0],o=t[1],i=new Ft;return n(r),i}function n(e,t,n){function r(t){i(t,function(t,o){var i=!1,s=!1,a=e[n](t,o,function(e,t){return i?u.remove(a):s=!0,r(t),Ht});s||(u.add(a),i=!0)})}var o=t[0],i=t[1],u=new Ft;return r(o),u}function r(e,t){e(function(n){t(e,n)})}e.scheduleRecursive=function(e){return this.scheduleRecursiveWithState(e,r)},e.scheduleRecursiveWithState=function(e,n){return this.scheduleWithState([e,n],t)},e.scheduleRecursiveWithRelative=function(e,t){return this.scheduleRecursiveWithRelativeAndState(t,e,r)},e.scheduleRecursiveWithRelativeAndState=function(e,t,r){return this._scheduleRelative([e,r],t,function(e,t){return n(e,t,"scheduleWithRelativeAndState")})},e.scheduleRecursiveWithAbsolute=function(e,t){return this.scheduleRecursiveWithAbsoluteAndState(t,e,r)},e.scheduleRecursiveWithAbsoluteAndState=function(e,t,r){return this._scheduleAbsolute([e,r],t,function(e,t){return n(e,t,"scheduleWithAbsoluteAndState")})}}(Qt.prototype),function(e){Qt.prototype.schedulePeriodic=function(e,t){return this.schedulePeriodicWithState(null,e,t)},Qt.prototype.schedulePeriodicWithState=function(e,t,n){if("undefined"==typeof Re.setInterval)throw new Je;t=Jt(t);var r=e,o=Re.setInterval(function(){r=n(r)},t);return qt(function(){Re.clearInterval(o)})}}(Qt.prototype),function(e){e.catchError=e["catch"]=function(e){return new ln(this,e)}}(Qt.prototype);var en,tn,nn=ke.internals.SchedulePeriodicRecursive=function(){function e(e,t){t(0,this._period);try{this._state=this._action(this._state)}catch(n){throw this._cancel.dispose(),n}}function t(e,t,n,r){this._scheduler=e,this._state=t,this._period=n,this._action=r}return t.prototype.start=function(){var t=new Yt;return this._cancel=t,t.setDisposable(this._scheduler.scheduleRecursiveWithRelativeAndState(0,this._period,e.bind(this))),t},t}(),rn=Qt.immediate=function(){function e(e,t){return t(this,e)}return new Qt(je,e,tt,tt)}(),on=Qt.currentThread=function(){function e(){for(;n.length>0;){var e=n.dequeue();!e.isCancelled()&&e.invoke()}}function t(t,r){var o=new Xt(this,t,r,this.now());if(n)n.enqueue(o);else{n=new Lt(4),n.enqueue(o);var i=w(e)();if(n=null,i===jt)return N(i.e)}return o.disposable}var n,r=new Qt(je,t,tt,tt);return r.scheduleRequired=function(){return!n},r}(),un=function(){var e,t=Pe;if(Re.setTimeout)e=Re.setTimeout,t=Re.clearTimeout;else{if(!Re.WScript)throw new Je;e=function(e,t){Re.WScript.Sleep(t),e()}}return{setTimeout:e,clearTimeout:t}}(),sn=un.setTimeout,an=un.clearTimeout;!function(){function e(t){if(u)sn(function(){e(t)},0);else{var n=o[t];if(n){u=!0;var r=w(n)();if(tn(t),u=!1,r===jt)return N(r.e)}}}function t(){if(!Re.postMessage||Re.importScripts)return!1;var e=!1,t=Re.onmessage;return Re.onmessage=function(){e=!0},Re.postMessage("","*"),Re.onmessage=t,e}function n(t){"string"==typeof t.data&&t.data.substring(0,c.length)===c&&e(t.data.substring(c.length))}var r=1,o={},u=!1;tn=function(e){delete o[e]};var s=RegExp("^"+String(Et).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),a="function"==typeof(a=Me&&Ie&&Me.setImmediate)&&!s.test(a)&&a;if(qe(a))en=function(t){var n=r++;return o[n]=t,a(function(){e(n)}),n};else if("undefined"!=typeof i&&"[object process]"==={}.toString.call(i))en=function(t){var n=r++;return o[n]=t,i.nextTick(function(){e(n)}),n};else if(t()){var c="ms.rx.schedule"+Math.random();Re.addEventListener?Re.addEventListener("message",n,!1):Re.attachEvent?Re.attachEvent("onmessage",n):Re.onmessage=n,en=function(e){var t=r++;return o[t]=e,Re.postMessage(c+currentId,"*"),t}}else if(Re.MessageChannel){var l=new Re.MessageChannel;l.port1.onmessage=function(t){e(t.data)},en=function(e){var t=r++;return o[t]=e,l.port2.postMessage(t),t}}else en="document"in Re&&"onreadystatechange"in Re.document.createElement("script")?function(t){var n=Re.document.createElement("script"),i=r++;return o[i]=t,n.onreadystatechange=function(){e(i),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},Re.document.documentElement.appendChild(n),i}:function(t){var n=r++;return o[n]=t,sn(function(){e(n)},0),n}}();var cn=Qt.timeout=Qt["default"]=function(){function e(e,t){var n=this,r=new Yt,o=en(function(){!r.isDisposed&&r.setDisposable(t(n,e))});return new Ft(r,qt(function(){tn(o)}))}function t(e,t,n){var r=this,o=Qt.normalize(t),i=new Yt;if(0===o)return r.scheduleWithState(e,n);var u=sn(function(){!i.isDisposed&&i.setDisposable(n(r,e))},o);return new Ft(i,qt(function(){an(u)}))}function n(e,t,n){return this.scheduleWithRelativeAndState(e,t-this.now(),n)}return new Qt(je,e,t,n)}(),ln=function(e){function t(e,t){return this._scheduler.scheduleWithState(e,this._wrap(t))}function n(e,t,n){return this._scheduler.scheduleWithRelativeAndState(e,t,this._wrap(n))}function r(e,t,n){return this._scheduler.scheduleWithAbsoluteAndState(e,t,this._wrap(n))}function o(o,i){this._scheduler=o,this._handler=i,this._recursiveOriginal=null,this._recursiveWrapper=null,e.call(this,this._scheduler.now.bind(this._scheduler),t,n,r)}return kt(o,e),o.prototype._clone=function(e){return new o(e,this._handler)},o.prototype._wrap=function(e){var t=this;return function(n,r){try{return e(t._getRecursiveWrapper(n),r)}catch(o){if(!t._handler(o))throw o;return Ht}}},o.prototype._getRecursiveWrapper=function(e){if(this._recursiveOriginal!==e){this._recursiveOriginal=e;var t=this._clone(e);t._recursiveOriginal=e,t._recursiveWrapper=t,this._recursiveWrapper=t}return this._recursiveWrapper},o.prototype.schedulePeriodicWithState=function(e,t,n){var r=this,o=!1,i=new Yt;return i.setDisposable(this._scheduler.schedulePeriodicWithState(e,t,function(e){if(o)return null;try{return n(e)}catch(t){if(o=!0,!r._handler(t))throw t;return i.dispose(),null}})),i},o}(Qt),pn=ke.Notification=function(){function e(e,t,n,r,o,i){this.kind=e,this.value=t,this.exception=n,this._accept=r,this._acceptObservable=o,this.toString=i}return e.prototype.accept=function(e,t,n){return e&&"object"==typeof e?this._acceptObservable(e):this._accept(e,t,n)},e.prototype.toObservable=function(e){var t=this;return Zt(e)||(e=rn),new Fr(function(n){return e.scheduleWithState(t,function(e,t){t._acceptObservable(n),"N"===t.kind&&n.onCompleted()})})},e}(),fn=pn.createOnNext=function(){function e(e){return e(this.value)}function t(e){return e.onNext(this.value)}function n(){return"OnNext("+this.value+")"}return function(r){return new pn("N",r,null,e,t,n)}}(),hn=pn.createOnError=function(){function e(e,t){return t(this.exception)}function t(e){return e.onError(this.exception)}function n(){return"OnError("+this.exception+")"}return function(r){return new pn("E",null,r,e,t,n)}}(),dn=pn.createOnCompleted=function(){function e(e,t,n){return n()}function t(e){return e.onCompleted()}function n(){return"OnCompleted()"}return function(){return new pn("C",null,null,e,t,n)}}(),vn=ke.Observer=function(){};vn.prototype.toNotifier=function(){var e=this;return function(t){return t.accept(e)}},vn.prototype.asObserver=function(){return new bn(this.onNext.bind(this),this.onError.bind(this),this.onCompleted.bind(this))},vn.prototype.checked=function(){return new En(this)};var mn=vn.create=function(e,t,n){return e||(e=Pe),t||(t=Fe),n||(n=Pe),new bn(e,t,n)};vn.fromNotifier=function(e,t){return new bn(function(n){return e.call(t,fn(n))},function(n){return e.call(t,hn(n))},function(){return e.call(t,dn())})},vn.prototype.notifyOn=function(e){return new wn(e,this)},vn.prototype.makeSafe=function(e){return new AnonymousSafeObserver(this._onNext,this._onError,this._onCompleted,e)};var yn,gn=ke.internals.AbstractObserver=function(e){function t(){this.isStopped=!1,e.call(this)}return kt(t,e),t.prototype.next=et,t.prototype.error=et,t.prototype.completed=et,t.prototype.onNext=function(e){this.isStopped||this.next(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.error(e))},t.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.completed())},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.error(e),!0)},t}(vn),bn=ke.AnonymousObserver=function(e){function t(t,n,r){e.call(this),this._onNext=t,this._onError=n,this._onCompleted=r}return kt(t,e),t.prototype.next=function(e){this._onNext(e)},t.prototype.error=function(e){this._onError(e)},t.prototype.completed=function(){this._onCompleted()},t}(gn),En=function(e){function t(t){e.call(this),this._observer=t,this._state=0}kt(t,e);var n=t.prototype;return n.onNext=function(e){this.checkAccess();var t=w(this._observer.onNext).call(this._observer,e);this._state=0,t===jt&&N(t.e)},n.onError=function(e){this.checkAccess();var t=w(this._observer.onError).call(this._observer,e);this._state=2,t===jt&&N(t.e)},n.onCompleted=function(){this.checkAccess();var e=w(this._observer.onCompleted).call(this._observer);this._state=2,e===jt&&N(e.e)},n.checkAccess=function(){if(1===this._state)throw new Error("Re-entrancy detected");if(2===this._state)throw new Error("Observer completed");0===this._state&&(this._state=1)},t}(vn),_n=ke.internals.ScheduledObserver=function(e){function t(t,n){e.call(this),this.scheduler=t,this.observer=n,this.isAcquired=!1,this.hasFaulted=!1,this.queue=[],this.disposable=new $t}return kt(t,e),t.prototype.next=function(e){var t=this;this.queue.push(function(){t.observer.onNext(e)})},t.prototype.error=function(e){var t=this;this.queue.push(function(){t.observer.onError(e)})},t.prototype.completed=function(){var e=this;this.queue.push(function(){e.observer.onCompleted()})},t.prototype.ensureActive=function(){var e=!1,t=this;!this.hasFaulted&&this.queue.length>0&&(e=!this.isAcquired,this.isAcquired=!0),e&&this.disposable.setDisposable(this.scheduler.scheduleRecursive(function(e){var n;if(!(t.queue.length>0))return void(t.isAcquired=!1);n=t.queue.shift();try{n()}catch(r){throw t.queue=[],t.hasFaulted=!0,r}e()}))},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.disposable.dispose()},t}(gn),wn=function(e){function t(t,n,r){e.call(this,t,n),this._cancel=r}return kt(t,e),t.prototype.next=function(t){e.prototype.next.call(this,t),this.ensureActive()},t.prototype.error=function(t){e.prototype.error.call(this,t),this.ensureActive()},t.prototype.completed=function(){e.prototype.completed.call(this),this.ensureActive()},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._cancel&&this._cancel.dispose(),this._cancel=null},t}(_n),Nn=ke.Observable=function(){function e(e){if(ke.config.longStackSupport&&He){try{throw new Error}catch(t){this.stack=t.stack.substring(t.stack.indexOf("\n")+1)}var n=this;this._subscribe=function(t){var r=t.onError.bind(t);return t.onError=function(e){c(e,n),r(e)},e.call(n,t)}}else this._subscribe=e}return yn=e.prototype,yn.subscribe=yn.forEach=function(e,t,n){return this._subscribe("object"==typeof e?e:mn(e,t,n))},yn.subscribeOnNext=function(e,t){return this._subscribe(mn("undefined"!=typeof t?function(n){e.call(t,n)}:e))},yn.subscribeOnError=function(e,t){return this._subscribe(mn(null,"undefined"!=typeof t?function(n){e.call(t,n)}:e))},yn.subscribeOnCompleted=function(e,t){return this._subscribe(mn(null,null,"undefined"!=typeof t?function(){e.call(t)}:e))},e}(),Cn=ke.ObservableBase=function(e){function t(e){return e&&qe(e.dispose)?e:qe(e)?qt(e):Ht}function n(e,n){var r=n[0],o=n[1],i=w(o.subscribeCore).call(o,r);return i!==jt||r.fail(jt.e)?void r.setDisposable(t(i)):N(jt.e)}function r(e){var t=new Wr(e),r=[t,this];return on.scheduleRequired()?on.scheduleWithState(r,n):n(null,r),t}function o(){e.call(this,r)}return kt(o,e),o.prototype.subscribeCore=et,o}(Nn),xn=ke.internals.Enumerable=function(){},Dn=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t,n){this.o=e,this.s=t,this.e=n,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){var t,r=new $t,o=rn.scheduleRecursiveWithState(this.sources[nt](),function(o,i){if(!t){var u=w(o.next).call(o);if(u===jt)return e.onError(u.e);if(u.done)return e.onCompleted();var s=u.value;We(s)&&(s=Mn(s));var a=new Yt;r.setDisposable(a),a.setDisposable(s.subscribe(new n(e,i,o)))}});return new Ft(r,o,qt(function(){t=!0}))},n.prototype.onNext=function(e){this.isStopped||this.o.onNext(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.s(this.e))},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);xn.prototype.concat=function(){return new Dn(this)};var On=function(e){function t(t){this.sources=t,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t,n=this.sources[nt](),r=new $t,o=rn.scheduleRecursiveWithState(null,function(o,i){if(!t){var u=w(n.next).call(n);if(u===jt)return e.onError(u.e);if(u.done)return null!==o?e.onError(o):e.onCompleted();var s=u.value;We(s)&&(s=Mn(s));var a=new Yt;r.setDisposable(a),a.setDisposable(s.subscribe(function(t){e.onNext(t)},i,function(){e.onCompleted()}))}});return new Ft(r,o,qt(function(){t=!0}))},t}(Cn);xn.prototype.catchError=function(){return new On(this)},xn.prototype.catchErrorWhen=function(e){var t=this;return new Fr(function(n){var r,o,i=new qr,u=new qr,s=e(i),a=s.subscribe(u),c=t[nt](),l=new $t,p=rn.scheduleRecursive(function(e){if(!r){var t=w(c.next).call(c);if(t===jt)return n.onError(t.e);if(t.done)return void(o?n.onError(o):n.onCompleted());var s=t.value;We(s)&&(s=Mn(s));var a=new Yt,p=new Yt;l.setDisposable(new Ft(p,a)),a.setDisposable(s.subscribe(function(e){n.onNext(e)},function(t){p.setDisposable(u.subscribe(e,function(e){n.onError(e)},function(){n.onCompleted()})),i.onNext(t)},function(){n.onCompleted()}))}});return new Ft(a,l,p,qt(function(){r=!0}))})};var Sn=function(e){function t(e,t){this.v=e,this.c=null==t?-1:t}function n(e){this.v=e.v,this.l=e.c}return kt(t,e),t.prototype[nt]=function(){return new n(this)},n.prototype.next=function(){return 0===this.l?rt:(this.l>0&&this.l--,{done:!1,value:this.v})},t}(xn),Rn=xn.repeat=function(e,t){return new Sn(e,t)},Tn=function(e){function t(e,t,n){this.s=e,this.fn=t?st(t,n,3):null}function n(e){this.i=-1,this.s=e.s,this.l=this.s.length,this.fn=e.fn}return kt(t,e),t.prototype[nt]=function(){return new n(this)},n.prototype.next=function(){return++this.i<this.l?{done:!1,value:this.fn?this.fn(this.s[this.i],this.i,this.s):this.s[this.i]}:rt},t}(xn),An=xn.of=function(e,t,n){return new Tn(e,t,n)};yn.observeOn=function(e){var t=this;return new Fr(function(n){return t.subscribe(new wn(e,n))},t)},yn.subscribeOn=function(e){var t=this;return new Fr(function(n){var r=new Yt,o=new $t;return o.setDisposable(r),r.setDisposable(e.schedule(function(){o.setDisposable(new x(e,t.subscribe(n)))})),o},t)};var In=function(e){function t(t){this.p=t,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){return this.p.then(function(t){e.onNext(t),e.onCompleted()},function(t){e.onError(t)}),Ht},t}(Cn),Mn=Nn.fromPromise=function(e){return new In(e)};yn.toPromise=function(e){if(e||(e=ke.config.Promise),!e)throw new Je("Promise type not provided nor in Rx.config.Promise");var t=this;return new e(function(e,n){var r,o=!1;t.subscribe(function(e){r=e,o=!0},n,function(){o&&e(r)})})};var kn=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.a=[],this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=function(e){this.isStopped||this.a.push(e)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onNext(this.a),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn.toArray=function(){return new kn(this)},Nn.create=Nn.createWithDisposable=function(e,t){return new Fr(e,t)};var Pn=Nn.defer=function(e){return new Fr(function(t){var n;try{n=e()}catch(r){return Jn(r).subscribe(t)}return We(n)&&(n=Mn(n)),n.subscribe(t)})},Vn=function(e){function t(t){this.scheduler=t,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){t.onCompleted()}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState(this.observer,r)},t}(Cn),jn=Nn.empty=function(e){return Zt(e)||(e=rn),new Vn(e)},Ln=function(e){function t(t,n,r){this.iterable=t,this.mapper=n,this.scheduler=r,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new Un(e,this);return t.run()},t}(Cn),Un=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,t){try{var i=n.next()}catch(u){return r.onError(u)}if(i.done)return r.onCompleted();var s=i.value;if(o)try{s=o(s,e)}catch(u){return r.onError(u)}r.onNext(s),t(e+1)}var t=Object(this.parent.iterable),n=I(t),r=this.observer,o=this.parent.mapper;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}(),Fn=Math.pow(2,53)-1;O.prototype[nt]=function(){return new S(this._s)},S.prototype[nt]=function(){return this},S.prototype.next=function(){return this._i<this._l?{done:!1,value:this._s.charAt(this._i++)}:rt},R.prototype[nt]=function(){return new T(this._a)},T.prototype[nt]=function(){return this},T.prototype.next=function(){return this._i<this._l?{done:!1,value:this._a[this._i++]}:rt};var Wn=Nn.from=function(e,t,n,r){if(null==e)throw new Error("iterable cannot be null.");if(t&&!qe(t))throw new Error("mapFn when provided must be a function");if(t)var o=st(t,n,2);return Zt(r)||(r=on),new Ln(e,o,r)},Bn=function(e){function t(t,n){this.args=t,this.scheduler=n,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new P(e,this);return t.run()},t}(Cn);P.prototype.run=function(){function e(e,o){r>e?(t.onNext(n[e]),o(e+1)):t.onCompleted()}var t=this.observer,n=this.parent.args,r=n.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)};var qn=Nn.fromArray=function(e,t){return Zt(t)||(t=on),new Bn(e,t)};Nn.generate=function(e,t,n,r,o){return Zt(o)||(o=on),new Fr(function(i){var u=!0;return o.scheduleRecursiveWithState(e,function(e,o){var s,a;try{u?u=!1:e=n(e),s=t(e),s&&(a=r(e))}catch(c){return i.onError(c)}s?(i.onNext(a),o(e)):i.onCompleted()})})},Nn.of=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return new Bn(t,on)},Nn.ofWithScheduler=function(e){for(var t=arguments.length,n=new Array(t-1),r=1;t>r;r++)n[r-1]=arguments[r];return new Bn(n,e)},Nn.ofArrayChanges=function(e){if(!Array.isArray(e))throw new TypeError("Array.observe only accepts arrays.");if("function"!=typeof Array.observe&&"function"!=typeof Array.unobserve)throw new TypeError("Array.observe is not supported on your platform");return new Fr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Array.observe(e,n),function(){Array.unobserve(e,n)}})},Nn.ofObjectChanges=function(e){if(null==e)throw new TypeError("object must not be null or undefined.");if("function"!=typeof Object.observe&&"function"!=typeof Object.unobserve)throw new TypeError("Object.observe is not supported on your platform");return new Fr(function(t){function n(e){for(var n=0,r=e.length;r>n;n++)t.onNext(e[n])}return Object.observe(e,n),function(){Object.unobserve(e,n)}})};var Hn=function(e){function t(){e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){return Ht},t}(Cn),Kn=Nn.never=function(){return new Hn},zn=function(e){function t(t,n){this.obj=t,this.keys=Object.keys(t),this.scheduler=n,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new j(e,this);return t.run()},t}(Cn);j.prototype.run=function(){function e(e,i){if(o>e){var u=r[e];t.onNext([u,n[u]]),i(e+1)}else t.onCompleted()}var t=this.observer,n=this.parent.obj,r=this.parent.keys,o=r.length;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},Nn.pairs=function(e,t){return t||(t=on),new zn(e,t)};var Yn=function(e){function t(t,n,r){this.start=t,this.rangeCount=n,this.scheduler=r,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new $n(e,this);return t.run()},t}(Cn),$n=function(){function e(e,t){this.observer=e,this.parent=t}return e.prototype.run=function(){function e(e,o){n>e?(r.onNext(t+e),o(e+1)):r.onCompleted()}var t=this.parent.start,n=this.parent.rangeCount,r=this.observer;return this.parent.scheduler.scheduleRecursiveWithState(0,e)},e}();Nn.range=function(e,t,n){return Zt(n)||(n=on),new Yn(e,t,n)};var Gn=function(e){function t(t,n,r){this.value=t,this.repeatCount=null==n?-1:n,this.scheduler=r,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new L(e,this);return t.run()},t}(Cn);L.prototype.run=function(){function e(e,r){return(-1===e||e>0)&&(t.onNext(n),e>0&&e--),0===e?t.onCompleted():void r(e)}var t=this.observer,n=this.parent.value;return this.parent.scheduler.scheduleRecursiveWithState(this.parent.repeatCount,e)},Nn.repeat=function(e,t,n){return Zt(n)||(n=on),new Gn(e,t,n)};var Xn=function(e){function t(t,n){this.value=t,this.scheduler=n,e.call(this)}function n(e,t){this.observer=e,this.parent=t}function r(e,t){var n=t[0],r=t[1];r.onNext(n),r.onCompleted()}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.parent.scheduler.scheduleWithState([this.parent.value,this.observer],r)},t}(Cn),Qn=(Nn["return"]=Nn.just=Nn.returnValue=function(e,t){return Zt(t)||(t=rn),new Xn(e,t)},function(e){function t(t,n){this.error=t,this.scheduler=n,e.call(this)}function n(e,t){this.o=e,this.p=t}function r(e,t){var n=t[0],r=t[1];r.onError(n)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new n(e,this);return t.run()},n.prototype.run=function(){return this.p.scheduler.scheduleWithState([this.p.error,this.o],r)},t}(Cn)),Jn=Nn["throw"]=Nn.throwError=Nn.throwException=function(e,t){return Zt(t)||(t=rn),new Qn(e,t)};Nn.using=function(e,t){return new Fr(function(n){var r,o,i=Ht;try{r=e(),r&&(i=r),o=t(r)}catch(u){return new Ft(Jn(u).subscribe(n),i)}return new Ft(o.subscribe(n),i)})},yn.amb=function(e){var t=this;return new Fr(function(n){function r(){i||(i=u,c.dispose())}function o(){i||(i=s,a.dispose())}var i,u="L",s="R",a=new Yt,c=new Yt;return We(e)&&(e=Mn(e)),a.setDisposable(t.subscribe(function(e){r(),i===u&&n.onNext(e)},function(e){r(),i===u&&n.onError(e)},function(){r(),i===u&&n.onCompleted()})),c.setDisposable(e.subscribe(function(e){o(),i===s&&n.onNext(e)},function(e){o(),i===s&&n.onError(e)},function(){o(),i===s&&n.onCompleted()})),new Ft(a,c)})},Nn.amb=function(){function e(e,t){return e.amb(t)}var t=Kn(),n=[];if(Array.isArray(arguments[0]))n=arguments[0];else for(var r=0,o=arguments.length;o>r;r++)n.push(arguments[r]);for(var r=0,o=n.length;o>r;r++)t=e(t,n[r]);return t},yn["catch"]=yn.catchError=yn.catchException=function(e){return"function"==typeof e?U(this,e):Zn([this,e])};var Zn=Nn.catchError=Nn["catch"]=Nn.catchException=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return An(e).catchError()};yn.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];return Array.isArray(t[0])?t[0].unshift(this):t.unshift(this),er.apply(this,t)};var er=Nn.combineLatest=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop();return Array.isArray(t[0])&&(t=t[0]),new Fr(function(e){function n(t){if(s[t]=!0,a||(a=s.every(Ve))){try{var n=r.apply(null,l)}catch(o){return e.onError(o)}e.onNext(n)}else c.filter(function(e,n){return n!==t}).every(Ve)&&e.onCompleted()}function o(t){c[t]=!0,c.every(Ve)&&e.onCompleted()}for(var i=t.length,u=function(){return!1;
},s=E(i,u),a=!1,c=E(i,u),l=new Array(i),p=new Array(i),f=0;i>f;f++)!function(r){var i=t[r],u=new Yt;We(i)&&(i=Mn(i)),u.setDisposable(i.subscribe(function(e){l[r]=e,n(r)},function(t){e.onError(t)},function(){o(r)})),p[r]=u}(f);return new Ft(p)},this)};yn.concat=function(){for(var e=[],t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return e.unshift(this),nr.apply(null,e)};var tr=function(e){function t(t){this.sources=t,e.call(this)}function n(e,t){this.sources=e,this.o=t}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new n(this.sources,e);return t.run()},n.prototype.run=function(){var e,t=new $t,n=this.sources,r=n.length,o=this.o,i=rn.scheduleRecursiveWithState(0,function(i,u){if(!e){if(i===r)return o.onCompleted();var s=n[i];We(s)&&(s=Mn(s));var a=new Yt;t.setDisposable(a),a.setDisposable(s.subscribe(function(e){o.onNext(e)},function(e){o.onError(e)},function(){u(i+1)}))}});return new Ft(t,i,qt(function(){e=!0}))},t}(Cn),nr=Nn.concat=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(arguments.length);for(var t=0,n=arguments.length;n>t;t++)e[t]=arguments[t]}return new tr(e)};yn.concatAll=yn.concatObservable=function(){return this.merge(1)};var rr=function(e){function t(t,n){this.source=t,this.maxConcurrent=n,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new Ft;return t.add(this.source.subscribe(new or(e,this.maxConcurrent,t))),t},t}(Cn),or=function(){function e(e,t,n){this.o=e,this.max=t,this.g=n,this.done=!1,this.q=[],this.activeCount=0,this.isStopped=!1}function t(e,t){this.parent=e,this.sad=t,this.isStopped=!1}return e.prototype.handleSubscribe=function(e){var n=new Yt;this.g.add(n),We(e)&&(e=Mn(e)),n.setDisposable(e.subscribe(new t(this,n)))},e.prototype.onNext=function(e){this.isStopped||(this.activeCount<this.max?(this.activeCount++,this.handleSubscribe(e)):this.q.push(e))},e.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},e.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,0===this.activeCount&&this.o.onCompleted())},e.prototype.dispose=function(){this.isStopped=!0},e.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},t.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},t.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=this.parent;e.g.remove(this.sad),e.q.length>0?e.handleSubscribe(e.q.shift()):(e.activeCount--,e.done&&0===e.activeCount&&e.o.onCompleted())}},t.prototype.dispose=function(){this.isStopped=!0},t.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},e}();yn.merge=function(e){return"number"!=typeof e?ir(this,e):new rr(this,e)};var ir=Nn.merge=function(){var e,t,n=[],r=arguments.length;if(arguments[0])if(Zt(arguments[0]))for(e=arguments[0],t=1;r>t;t++)n.push(arguments[t]);else for(e=rn,t=0;r>t;t++)n.push(arguments[t]);else for(e=rn,t=1;r>t;t++)n.push(arguments[t]);return Array.isArray(n[0])&&(n=n[0]),V(e,n).mergeAll()},ur=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.g=t,this.isStopped=!1,this.done=!1}function r(e,t,n){this.parent=e,this.g=t,this.sad=n,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new Ft,r=new Yt;return t.add(r),r.setDisposable(this.source.subscribe(new n(e,t))),t},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Yt;this.g.add(t),We(e)&&(e=Mn(e)),t.setDisposable(e.subscribe(new r(this,this.g,t)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.done=!0,1===this.g.length&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.o.onError(e))},r.prototype.onCompleted=function(){if(!this.isStopped){var e=this.parent;this.isStopped=!0,e.g.remove(this.sad),e.done&&1===e.g.length&&e.o.onCompleted()}},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(Cn);yn.mergeAll=yn.mergeObservable=function(){return new ur(this)};var sr=ke.CompositeError=function(e){this.name="NotImplementedError",this.innerErrors=e,this.message="This contains multiple errors. Check the innerErrors",Error.call(this)};sr.prototype=Error.prototype,Nn.mergeDelayError=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}var r=V(null,e);return new Fr(function(e){function t(){0===u.length?e.onCompleted():1===u.length?e.onError(u[0]):e.onError(new sr(u))}var n=new Ft,o=new Yt,i=!1,u=[];return n.add(o),o.setDisposable(r.subscribe(function(r){var o=new Yt;n.add(o),We(r)&&(r=Mn(r)),o.setDisposable(r.subscribe(function(t){e.onNext(t)},function(e){u.push(e),n.remove(o),i&&1===n.length&&t()},function(){n.remove(o),i&&1===n.length&&t()}))},function(e){u.push(e),i=!0,1===n.length&&t()},function(){i=!0,1===n.length&&t()})),n})},yn.onErrorResumeNext=function(e){if(!e)throw new Error("Second observable is required");return ar([this,e])};var ar=Nn.onErrorResumeNext=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new Fr(function(t){var n=0,r=new $t,o=rn.scheduleRecursive(function(o){var i,u;n<e.length?(i=e[n++],We(i)&&(i=Mn(i)),u=new Yt,r.setDisposable(u),u.setDisposable(i.subscribe(t.onNext.bind(t),o,o))):t.onCompleted()});return new Ft(r,o)})};yn.skipUntil=function(e){var t=this;return new Fr(function(n){var r=!1,o=new Ft(t.subscribe(function(e){r&&n.onNext(e)},function(e){n.onError(e)},function(){r&&n.onCompleted()}));We(e)&&(e=Mn(e));var i=new Yt;return o.add(i),i.setDisposable(e.subscribe(function(){r=!0,i.dispose()},function(e){n.onError(e)},function(){i.dispose()})),o},t)};var cr=function(e){function t(t){this.source=t,e.call(this)}function n(e,t){this.o=e,this.inner=t,this.stopped=!1,this.latest=0,this.hasLatest=!1,this.isStopped=!1}function r(e,t){this.parent=e,this.id=t,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){var t=new $t,r=this.source.subscribe(new n(e,t));return new Ft(r,t)},n.prototype.onNext=function(e){if(!this.isStopped){var t=new Yt,n=++this.latest;this.hasLatest=!0,this.inner.setDisposable(t),We(e)&&(e=Mn(e)),t.setDisposable(e.subscribe(new r(this,n)))}},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.stopped=!0,!this.hasLatest&&this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},r.prototype.onNext=function(e){this.isStopped||this.parent.latest===this.id&&this.parent.o.onNext(e)},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&this.parent.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.parent.latest===this.id&&(this.parent.hasLatest=!1,this.parent.isStopped&&this.parent.o.onCompleted()))},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.parent.o.onError(e),!0)},t}(Cn);yn["switch"]=yn.switchLatest=function(){return new cr(this)};var lr=function(e){function t(t,n){this.source=t,this.other=We(n)?Mn(n):n,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return new Ft(this.source.subscribe(e),this.other.subscribe(new n(e)))},n.prototype.onNext=function(e){this.isStopped||this.o.onCompleted()},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){!this.isStopped&&(this.isStopped=!0)},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn.takeUntil=function(e){return new lr(this,e)},yn.withLatestFrom=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.pop(),o=this;return Array.isArray(t[0])&&(t=t[0]),new Fr(function(e){for(var n=t.length,i=E(n,F),u=!1,s=new Array(n),a=new Array(n+1),c=0;n>c;c++)!function(n){var r=t[n],o=new Yt;We(r)&&(r=Mn(r)),o.setDisposable(r.subscribe(function(e){s[n]=e,i[n]=!0,u=i.every(Ve)},function(t){e.onError(t)},Pe)),a[n]=o}(c);var l=new Yt;return l.setDisposable(o.subscribe(function(t){var n=[t].concat(s);if(u){var o=w(r).apply(null,n);return o===jt?e.onError(o.e):void e.onNext(o)}},function(t){e.onError(t)},function(){e.onCompleted()})),a[n]=l,new Ft(a)},this)},yn.zip=function(){if(Array.isArray(arguments[0]))return W.apply(this,arguments);for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=this,o=t.pop();return t.unshift(r),new Fr(function(e){for(var n=t.length,i=E(n,B),u=E(n,F),s=new Array(n),a=0;n>a;a++)!function(n){var a=t[n],c=new Yt;We(a)&&(a=Mn(a)),c.setDisposable(a.subscribe(function(t){if(i[n].push(t),i.every(function(e){return e.length>0})){var s=i.map(function(e){return e.shift()}),a=w(o).apply(r,s);if(a===jt)return e.onError(a.e);e.onNext(a)}else u.filter(function(e,t){return t!==n}).every(Ve)&&e.onCompleted()},function(t){e.onError(t)},function(){u[n]=!0,u.every(Ve)&&e.onCompleted()})),s[n]=c}(a);return new Ft(s)},r)},Nn.zip=function(){for(var e=arguments.length,t=new Array(e),n=0;e>n;n++)t[n]=arguments[n];var r=t.shift();return r.zip.apply(r,t)},Nn.zipArray=function(){var e;if(Array.isArray(arguments[0]))e=arguments[0];else{var t=arguments.length;e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new Fr(function(t){for(var n=e.length,r=E(n,q),o=E(n,F),i=new Array(n),u=0;n>u;u++)!function(n){i[n]=new Yt,i[n].setDisposable(e[n].subscribe(function(e){if(r[n].push(e),r.every(function(e){return e.length>0})){var i=r.map(function(e){return e.shift()});t.onNext(i)}else if(o.filter(function(e,t){return t!==n}).every(Ve))return t.onCompleted()},function(e){t.onError(e)},function(){o[n]=!0,o.every(Ve)&&t.onCompleted()}))}(u);return new Ft(i)})},yn.asObservable=function(){var e=this;return new Fr(function(t){return e.subscribe(t)},e)},yn.bufferWithCount=function(e,t){return"number"!=typeof t&&(t=e),this.windowWithCount(e,t).selectMany(function(e){return e.toArray()}).where(function(e){return e.length>0})},yn.dematerialize=function(){var e=this;return new Fr(function(t){return e.subscribe(function(e){return e.accept(t)},function(e){t.onError(e)},function(){t.onCompleted()})},this)},yn.distinctUntilChanged=function(e,t){var n=this;return t||(t=Le),new Fr(function(r){var o,i=!1;return n.subscribe(function(n){var u=n;if(e&&(u=w(e)(n),u===jt))return r.onError(u.e);if(i){var s=w(t)(o,u);if(s===jt)return r.onError(s.e)}i&&s||(i=!0,o=u,r.onNext(n))},function(e){r.onError(e)},function(){r.onCompleted()})},this)};var pr=function(e){function t(t,n,r,o){this.source=t,this.t=!n||qe(n)?mn(n||Pe,r||Pe,o||Pe):n,e.call(this)}function n(e,t){this.o=e,this.t=t,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.t))},n.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.t.onNext).call(this.t,e);t===jt&&this.o.onError(t.e),this.o.onNext(e)}},n.prototype.onError=function(e){if(!this.isStopped){this.isStopped=!0;var t=w(this.t.onError).call(this.t,e);if(t===jt)return this.o.onError(t.e);this.o.onError(e)}},n.prototype.onCompleted=function(){if(!this.isStopped){this.isStopped=!0;var e=w(this.t.onCompleted).call(this.t);if(e===jt)return this.o.onError(e.e);this.o.onCompleted()}},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn["do"]=yn.tap=yn.doAction=function(e,t,n){return new pr(this,e,t,n)},yn.doOnNext=yn.tapOnNext=function(e,t){return this.tap("undefined"!=typeof t?function(n){e.call(t,n)}:e)},yn.doOnError=yn.tapOnError=function(e,t){return this.tap(Pe,"undefined"!=typeof t?function(n){e.call(t,n)}:e)},yn.doOnCompleted=yn.tapOnCompleted=function(e,t){return this.tap(Pe,null,"undefined"!=typeof t?function(){e.call(t)}:e)},yn["finally"]=yn.ensure=function(e){var t=this;return new Fr(function(n){var r;try{r=t.subscribe(n)}catch(o){throw e(),o}return qt(function(){try{r.dispose()}catch(t){throw t}finally{e()}})},this)},yn.finallyAction=function(e){return this.ensure(e)};var fr=function(e){function t(t){this.source=t,e.call(this)}function n(e){this.o=e,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e))},n.prototype.onNext=Pe,n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},t}(Cn);yn.ignoreElements=function(){return new fr(this)},yn.materialize=function(){var e=this;return new Fr(function(t){return e.subscribe(function(e){t.onNext(fn(e))},function(e){t.onNext(hn(e)),t.onCompleted()},function(){t.onNext(dn()),t.onCompleted()})},e)},yn.repeat=function(e){return Rn(this,e).concat()},yn.retry=function(e){return Rn(this,e).catchError()},yn.retryWhen=function(e){return Rn(this).catchErrorWhen(e)};var hr=function(e){function t(t,n,r,o){this.source=t,this.accumulator=n,this.hasSeed=r,this.seed=o,e.call(this)}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new H(e,this))},t}(Cn);H.prototype.onNext=function(e){if(!this.isStopped){!this.hasValue&&(this.hasValue=!0);try{this.hasAccumulation?this.accumulation=this.accumulator(this.accumulation,e):(this.accumulation=this.hasSeed?this.accumulator(this.seed,e):e,this.hasAccumulation=!0)}catch(t){return this.observer.onError(t)}this.observer.onNext(this.accumulation)}},H.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.observer.onError(e))},H.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,!this.hasValue&&this.hasSeed&&this.observer.onNext(this.seed),this.observer.onCompleted())},H.prototype.dispose=function(){this.isStopped=!0},H.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.observer.onError(e),!0)},yn.scan=function(){var e,t,n=!1;return 2===arguments.length?(n=!0,e=arguments[0],t=arguments[1]):t=arguments[0],new hr(this,t,n,e)},yn.skipLast=function(e){if(0>e)throw new Qe;var t=this;return new Fr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&n.onNext(r.shift())},function(e){n.onError(e)},function(){n.onCompleted()})},t)},yn.startWith=function(){var e,t=0;arguments.length&&Zt(arguments[0])?(e=arguments[0],t=1):e=rn;for(var n=[],r=t,o=arguments.length;o>r;r++)n.push(arguments[r]);return An([qn(n,e),this]).concat()},yn.takeLast=function(e){if(0>e)throw new Qe;var t=this;return new Fr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){for(;r.length>0;)n.onNext(r.shift());n.onCompleted()})},t)},yn.takeLastBuffer=function(e){var t=this;return new Fr(function(n){var r=[];return t.subscribe(function(t){r.push(t),r.length>e&&r.shift()},function(e){n.onError(e)},function(){n.onNext(r),n.onCompleted()})},t)},yn.windowWithCount=function(e,t){var n=this;if(+e||(e=0),Math.abs(e)===1/0&&(e=0),0>=e)throw new Qe;if(null==t&&(t=e),+t||(t=0),Math.abs(t)===1/0&&(t=0),0>=t)throw new Qe;return new Fr(function(r){function o(){var e=new qr;a.push(e),r.onNext(Vt(e,u))}var i=new Yt,u=new Gt(i),s=0,a=[];return o(),i.setDisposable(n.subscribe(function(n){for(var r=0,i=a.length;i>r;r++)a[r].onNext(n);var u=s-e+1;u>=0&&u%t===0&&a.shift().onCompleted(),++s%t===0&&o()},function(e){for(;a.length>0;)a.shift().onError(e);r.onError(e)},function(){for(;a.length>0;)a.shift().onCompleted();r.onCompleted()})),u},n)},yn.selectConcat=yn.concatMap=function(e,t,n){return qe(e)&&qe(t)?this.concatMap(function(n,r){var o=e(n,r);return We(o)&&(o=Mn(o)),(it(o)||ot(o))&&(o=Wn(o)),o.map(function(e,o){return t(n,e,r,o)})}):qe(e)?K(this,e,n):K(this,function(){return e})},yn.concatMapObserver=yn.selectConcatObserver=function(e,t,n,r){var o=this,i=st(e,r,2),u=st(t,r,1),s=st(n,r,0);return new Fr(function(e){var t=0;return o.subscribe(function(n){var r;try{r=i(n,t++)}catch(o){return void e.onError(o)}We(r)&&(r=Mn(r)),e.onNext(r)},function(t){var n;try{n=u(t)}catch(r){return void e.onError(r)}We(n)&&(n=Mn(n)),e.onNext(n),e.onCompleted()},function(){var t;try{t=s()}catch(n){return void e.onError(n)}We(t)&&(t=Mn(t)),e.onNext(t),e.onCompleted()})},this).concatAll()},yn.defaultIfEmpty=function(e){var t=this;return e===u&&(e=null),new Fr(function(n){var r=!1;return t.subscribe(function(e){r=!0,n.onNext(e)},function(e){n.onError(e)},function(){!r&&n.onNext(e),n.onCompleted()})},t)},Y.prototype.push=function(e){var t=-1===z(this.set,e,this.comparer);return t&&this.set.push(e),t},yn.distinct=function(e,t){var n=this;return t||(t=Le),new Fr(function(r){var o=new Y(t);return n.subscribe(function(t){var n=t;if(e)try{n=e(t)}catch(i){return void r.onError(i)}o.push(n)&&r.onNext(t)},function(e){r.onError(e)},function(){r.onCompleted()})},this)},yn.groupBy=function(e,t,n){return this.groupByUntil(e,t,Kn,n)},yn.groupByUntil=function(e,t,n,r){var o=this;return t||(t=Ve),r||(r=Le),new Fr(function(i){function u(e){return function(t){t.onError(e)}}var s=new Mr(0,r),a=new Ft,c=new Gt(a);return a.add(o.subscribe(function(r){var o;try{o=e(r)}catch(l){return s.getValues().forEach(u(l)),void i.onError(l)}var p=!1,f=s.tryGetValue(o);if(f||(f=new qr,s.set(o,f),p=!0),p){var h=new Br(o,f,c),d=new Br(o,f);try{duration=n(d)}catch(l){return s.getValues().forEach(u(l)),void i.onError(l)}i.onNext(h);var v=new Yt;a.add(v);var m=function(){s.remove(o)&&f.onCompleted(),a.remove(v)};v.setDisposable(duration.take(1).subscribe(Pe,function(e){s.getValues().forEach(u(e)),i.onError(e)},m))}var y;try{y=t(r)}catch(l){return s.getValues().forEach(u(l)),void i.onError(l)}f.onNext(y)},function(e){s.getValues().forEach(u(e)),i.onError(e)},function(){s.getValues().forEach(function(e){e.onCompleted()}),i.onCompleted()})),c},o)};var dr=function(e){function t(t,n,r){this.source=t,this.selector=st(n,r,3),e.call(this)}function n(e,t){return function(n,r,o){return e.call(this,t.selector(n,r,o),r,o)}}function r(e,t,n){this.o=e,this.selector=t,this.source=n,this.i=0,this.isStopped=!1}return kt(t,e),t.prototype.internalMap=function(e,r){return new t(this.source,n(e,this),r)},t.prototype.subscribeCore=function(e){return this.source.subscribe(new r(e,this.selector,this))},r.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.selector)(e,this.i++,this.source);return t===jt?this.o.onError(t.e):void this.o.onNext(t)}},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn.map=yn.select=function(e,t){var n="function"==typeof e?e:function(){return e};return this instanceof dr?this.internalMap(n,t):new dr(this,n,t)},yn.pluck=function(){var e=arguments,t=arguments.length;if(0===t)throw new Error("List of properties cannot be empty.");return this.map(function(n){for(var r=n,o=0;t>o;o++){var i=r[e[o]];if("undefined"==typeof i)return u;r=i}return r})},yn.selectMany=yn.flatMap=function(e,t,n){return qe(e)&&qe(t)?this.flatMap(function(n,r){var o=e(n,r);return We(o)&&(o=Mn(o)),(it(o)||ot(o))&&(o=Wn(o)),o.map(function(e,o){return t(n,e,r,o)})},n):qe(e)?$(this,e,n):$(this,function(){return e})},yn.flatMapObserver=yn.selectManyObserver=function(e,t,n,r){var o=this;return new Fr(function(i){var u=0;return o.subscribe(function(t){var n;try{n=e.call(r,t,u++)}catch(o){return void i.onError(o)}We(n)&&(n=Mn(n)),i.onNext(n)},function(e){var n;try{n=t.call(r,e)}catch(o){return void i.onError(o)}We(n)&&(n=Mn(n)),i.onNext(n),i.onCompleted()},function(){var e;try{e=n.call(r)}catch(t){return void i.onError(t)}We(e)&&(e=Mn(e)),i.onNext(e),i.onCompleted()})},o).mergeAll()},yn.selectSwitch=yn.flatMapLatest=yn.switchMap=function(e,t){return this.select(e,t).switchLatest()};var vr=function(e){function t(t,n){this.source=t,this.skipCount=n,e.call(this)}function n(e,t){this.c=t,this.r=t,this.o=e,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this.skipCount))},n.prototype.onNext=function(e){this.isStopped||(this.r<=0?this.o.onNext(e):this.r--)},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn.skip=function(e){if(0>e)throw new Qe;return new vr(this,e)},yn.skipWhile=function(e,t){var n=this,r=st(e,t,3);return new Fr(function(e){var t=0,o=!1;return n.subscribe(function(i){if(!o)try{o=!r(i,t++,n)}catch(u){return void e.onError(u)}o&&e.onNext(i)},function(t){e.onError(t)},function(){e.onCompleted()})},n)},yn.take=function(e,t){if(0>e)throw new Qe;if(0===e)return jn(t);var n=this;return new Fr(function(t){var r=e;return n.subscribe(function(e){r-->0&&(t.onNext(e),0>=r&&t.onCompleted())},function(e){t.onError(e)},function(){t.onCompleted()})},n)},yn.takeWhile=function(e,t){var n=this,r=st(e,t,3);return new Fr(function(e){var t=0,o=!0;return n.subscribe(function(i){if(o){try{o=r(i,t++,n)}catch(u){return void e.onError(u)}o?e.onNext(i):e.onCompleted()}},function(t){e.onError(t)},function(){e.onCompleted()})},n)};var mr=function(e){function t(t,n,r){this.source=t,this.predicate=st(n,r,3),e.call(this)}function n(e,t){return function(n,r,o){return t.predicate(n,r,o)&&e.call(this,n,r,o)}}function r(e,t,n){this.o=e,this.predicate=t,this.source=n,this.i=0,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new r(e,this.predicate,this))},t.prototype.internalFilter=function(e,r){return new t(this.source,n(e,this),r)},r.prototype.onNext=function(e){if(!this.isStopped){var t=w(this.predicate)(e,this.i++,this.source);return t===jt?this.o.onError(t.e):void(t&&this.o.onNext(e))}},r.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},r.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.o.onCompleted())},r.prototype.dispose=function(){this.isStopped=!0},r.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn.filter=yn.where=function(e,t){return this instanceof mr?this.internalFilter(e,t):new mr(this,e,t)},yn.aggregate=function(){var e,t,n=!1,r=this;return 2===arguments.length?(n=!0,t=arguments[0],e=arguments[1]):e=arguments[0],new Fr(function(o){var i,u,s;return r.subscribe(function(r){!s&&(s=!0);try{i?u=e(u,r):(u=n?e(t,r):r,i=!0)}catch(a){return o.onError(a)}},function(e){o.onError(e)},function(){s&&o.onNext(u),!s&&n&&o.onNext(t),!s&&!n&&o.onError(new Ge),o.onCompleted()})},r)};var yr=function(e){function t(t,n,r,o){this.source=t,this.acc=n,this.hasSeed=r,this.seed=o,e.call(this)}function n(e,t){this.o=e,this.acc=t.acc,this.hasSeed=t.hasSeed,this.seed=t.seed,this.hasAccumulation=!1,this.result=null,this.hasValue=!1,this.isStopped=!1}return kt(t,e),t.prototype.subscribeCore=function(e){return this.source.subscribe(new n(e,this))},n.prototype.onNext=function(e){this.isStopped||(!this.hasValue&&(this.hasValue=!0),this.hasAccumulation?this.result=w(this.acc)(this.result,e):(this.result=this.hasSeed?w(this.acc)(this.seed,e):e,this.hasAccumulation=!0),this.result===jt&&this.o.onError(this.result.e))},n.prototype.onError=function(e){this.isStopped||(this.isStopped=!0,this.o.onError(e))},n.prototype.onCompleted=function(){this.isStopped||(this.isStopped=!0,this.hasValue&&this.o.onNext(this.result),!this.hasValue&&this.hasSeed&&this.o.onNext(this.seed),!this.hasValue&&!this.hasSeed&&this.o.onError(new Ge),this.o.onCompleted())},n.prototype.dispose=function(){this.isStopped=!0},n.prototype.fail=function(e){return this.isStopped?!1:(this.isStopped=!0,this.o.onError(e),!0)},t}(Cn);yn.reduce=function(e){var t=!1;if(2===arguments.length){t=!0;var n=arguments[1]}return new yr(this,e,t,n)},yn.some=function(e,t){var n=this;return e?n.filter(e,t).some():new Fr(function(e){return n.subscribe(function(){e.onNext(!0),e.onCompleted()},function(t){e.onError(t)},function(){e.onNext(!1),e.onCompleted()})},n)},yn.any=function(){return this.some.apply(this,arguments)},yn.isEmpty=function(){return this.any().map(Be)},yn.every=function(e,t){return this.filter(function(t){return!e(t)},t).some().map(Be)},yn.all=function(){return this.every.apply(this,arguments)},yn.includes=function(e,t){function n(e,t){return 0===e&&0===t||e===t||isNaN(e)&&isNaN(t)}var r=this;return new Fr(function(o){var i=0,u=+t||0;return Math.abs(u)===1/0&&(u=0),0>u?(o.onNext(!1),o.onCompleted(),Ht):r.subscribe(function(t){i++>=u&&n(t,e)&&(o.onNext(!0),o.onCompleted())},function(e){o.onError(e)},function(){o.onNext(!1),o.onCompleted()})},this)},yn.contains=function(e,t){yn.includes(e,t)},yn.count=function(e,t){return e?this.filter(e,t).count():this.reduce(function(e){return e+1},0)},yn.indexOf=function(e,t){var n=this;return new Fr(function(r){var o=0,i=+t||0;return Math.abs(i)===1/0&&(i=0),0>i?(r.onNext(-1),r.onCompleted(),Ht):n.subscribe(function(t){o>=i&&t===e&&(r.onNext(o),r.onCompleted()),o++},function(e){r.onError(e)},function(){r.onNext(-1),r.onCompleted()})},n)},yn.sum=function(e,t){return e&&qe(e)?this.map(e,t).sum():this.reduce(function(e,t){return e+t},0)},yn.minBy=function(e,t){return t||(t=Ue),G(this,e,function(e,n){return-1*t(e,n)})},yn.min=function(e){return this.minBy(Ve,e).map(function(e){return X(e)})},yn.maxBy=function(e,t){return t||(t=Ue),G(this,e,t)},yn.max=function(e){return this.maxBy(Ve,e).map(function(e){return X(e)})},yn.average=function(e,t){return e&&qe(e)?this.map(e,t).average():this.reduce(function(e,t){return{sum:e.sum+t,count:e.count+1}},{sum:0,count:0}).map(function(e){if(0===e.count)throw new Ge;return e.sum/e.count})},yn.sequenceEqual=function(e,t){var n=this;return t||(t=Le),new Fr(function(r){var o=!1,i=!1,u=[],s=[],a=n.subscribe(function(e){var n,o;if(s.length>0){o=s.shift();try{n=t(o,e)}catch(a){return void r.onError(a)}n||(r.onNext(!1),r.onCompleted())}else i?(r.onNext(!1),r.onCompleted()):u.push(e)},function(e){r.onError(e)},function(){o=!0,0===u.length&&(s.length>0?(r.onNext(!1),r.onCompleted()):i&&(r.onNext(!0),r.onCompleted()))});(it(e)||ot(e))&&(e=Wn(e)),We(e)&&(e=Mn(e));var c=e.subscribe(function(e){var n;if(u.length>0){var i=u.shift();try{n=t(i,e)}catch(a){return void r.onError(a)}n||(r.onNext(!1),r.onCompleted())}else o?(r.onNext(!1),r.onCompleted()):s.push(e)},function(e){r.onError(e)},function(){i=!0,0===s.length&&(u.length>0?(r.onNext(!1),r.onCompleted()):o&&(r.onNext(!0),r.onCompleted()))});return new Ft(a,c)},n)},yn.elementAt=function(e){return Q(this,e,!1)},yn.elementAtOrDefault=function(e,t){return Q(this,e,!0,t)},yn.single=function(e,t){return e&&qe(e)?this.where(e,t).single():J(this,!1)},yn.singleOrDefault=function(e,t,n){return e&&qe(e)?this.filter(e,n).singleOrDefault(null,t):J(this,!0,t)},yn.first=function(e,t){return e?this.where(e,t).first():Z(this,!1)},yn.firstOrDefault=function(e,t,n){return e?this.where(e).firstOrDefault(null,t):Z(this,!0,t)},yn.last=function(e,t){return e?this.where(e,t).last():ee(this,!1)},yn.lastOrDefault=function(e,t,n){return e?this.where(e,n).lastOrDefault(null,t):ee(this,!0,t)},yn.find=function(e,t){return te(this,e,t,!1)},yn.findIndex=function(e,t){return te(this,e,t,!0)},yn.toSet=function(){if("undefined"==typeof Re.Set)throw new TypeError;var e=this;return new Fr(function(t){var n=new Re.Set;return e.subscribe(function(e){n.add(e)},function(e){t.onError(e)},function(){t.onNext(n),t.onCompleted()})},e)},yn.toMap=function(e,t){if("undefined"==typeof Re.Map)throw new TypeError;var n=this;return new Fr(function(r){var o=new Re.Map;return n.subscribe(function(n){var i;try{i=e(n)}catch(u){return void r.onError(u)}var s=n;if(t)try{s=t(n)}catch(u){return void r.onError(u)}o.set(i,s)},function(e){r.onError(e)},function(){r.onNext(o),r.onCompleted()})},n)};var gr="function",br="throw",Rt=ke.internals.isObject,Er=ke.spawn=function(e){var t=se(e);return function(n){function r(e,t){cn.schedule(n.bind(i,e,t))}function o(e,t){var n;if(arguments.length>2)for(var t=[],s=1,a=arguments.length;a>s;s++)t.push(arguments[s]);if(e)try{n=u[br](e)}catch(c){return r(c)}if(!e)try{n=u.next(t)}catch(c){return r(c)}if(n.done)return r(null,n.value);if(n.value=ne(n.value,i),typeof n.value!==gr)o(new TypeError("Rx.spawn only supports a function, Promise, Observable, Object or Array."));else{var l=!1;try{n.value.call(i,function(){l||(l=!0,o.apply(i,arguments))})}catch(c){cn.schedule(function(){l||(l=!0,o.call(i,c))})}}}var i=this,u=e;if(t){for(var s=[],a=0,c=arguments.length;c>a;a++)s.push(arguments[a]);var c=s.length,l=c&&typeof s[c-1]===gr;n=l?s.pop():ce,u=e.apply(this,s)}else n=n||ce;o()}};Nn.start=function(e,t,n){return _r(e,t,n)()};var _r=Nn.toAsync=function(e,t,n){return Zt(n)||(n=cn),function(){var r=arguments,o=new Hr;return n.schedule(function(){var n;try{n=e.apply(t,r)}catch(i){return void o.onError(i)}o.onNext(n),o.onCompleted()}),o.asObservable()}};Nn.fromCallback=function(e,t,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;r>i;i++)o[i]=arguments[i];return new Fr(function(r){function i(){for(var e=arguments.length,o=new Array(e),i=0;e>i;i++)o[i]=arguments[i];if(n){try{o=n.apply(t,o)}catch(u){return r.onError(u)}r.onNext(o)}else o.length<=1?r.onNext.apply(r,o):r.onNext(o);r.onCompleted()}o.push(i),e.apply(t,o)}).publishLast().refCount()}},Nn.fromNodeCallback=function(e,t,n){return function(){for(var r=arguments.length,o=new Array(r),i=0;r>i;i++)o[i]=arguments[i];return new Fr(function(r){function i(e){if(e)return void r.onError(e);for(var o=arguments.length,i=[],u=1;o>u;u++)i[u-1]=arguments[u];if(n){try{i=n.apply(t,i)}catch(s){return r.onError(s)}r.onNext(i)}else i.length<=1?r.onNext.apply(r,i):r.onNext(i);r.onCompleted()}o.push(i),e.apply(t,o)}).publishLast().refCount()}},ke.config.useNativeEvents=!1,Nn.fromEvent=function(e,t,n){return e.addListener?wr(function(n){e.addListener(t,n)},function(n){e.removeListener(t,n)},n):ke.config.useNativeEvents||"function"!=typeof e.on||"function"!=typeof e.off?new Fr(function(r){return pe(e,t,function(e){var t=e;if(n)try{t=n(arguments)}catch(o){return r.onError(o)}r.onNext(t)})}).publish().refCount():wr(function(n){e.on(t,n)},function(n){e.off(t,n)},n)};var wr=Nn.fromEventPattern=function(e,t,n){return new Fr(function(r){function o(e){var t=e;if(n)try{t=n(arguments)}catch(o){return r.onError(o)}r.onNext(t)}var i=e(o);return qt(function(){t&&t(o,i)})}).publish().refCount()};Nn.startAsync=function(e){var t;try{t=e()}catch(n){return Jn(n)}return Mn(t)};var Nr=function(e){function t(e){var t=this.source.publish(),n=t.subscribe(e),r=Ht,o=this.pauser.distinctUntilChanged().subscribe(function(e){e?r=t.connect():(r.dispose(),r=Ht)});return new Ft(n,r,o)}function n(n,r){this.source=n,this.controller=new qr,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,
e.call(this,t,n)}return kt(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(Nn);yn.pausable=function(e){return new Nr(this,e)};var Cr=function(e){function t(e){function t(){for(;r.length>0;)e.onNext(r.shift())}var n,r=[],o=fe(this.source,this.pauser.distinctUntilChanged().startWith(!1),function(e,t){return{data:e,shouldFire:t}}).subscribe(function(o){n!==u&&o.shouldFire!=n?(n=o.shouldFire,o.shouldFire&&t()):(n=o.shouldFire,o.shouldFire?e.onNext(o.data):r.push(o.data))},function(n){t(),e.onError(n)},function(){t(),e.onCompleted()});return o}function n(n,r){this.source=n,this.controller=new qr,r&&r.subscribe?this.pauser=this.controller.merge(r):this.pauser=this.controller,e.call(this,t,n)}return kt(n,e),n.prototype.pause=function(){this.controller.onNext(!1)},n.prototype.resume=function(){this.controller.onNext(!0)},n}(Nn);yn.pausableBuffered=function(e){return new Cr(this,e)};var xr=function(e){function t(e){return this.source.subscribe(e)}function n(n,r,o){e.call(this,t,n),this.subject=new Dr(r,o),this.source=n.multicast(this.subject).refCount()}return kt(n,e),n.prototype.request=function(e){return this.subject.request(null==e?-1:e)},n}(Nn),Dr=function(e){function t(e){return this.subject.subscribe(e)}function n(n,r){null==n&&(n=!0),e.call(this,t),this.subject=new qr,this.enableQueue=n,this.queue=n?[]:null,this.requestedCount=0,this.requestedDisposable=Ht,this.error=null,this.hasFailed=!1,this.hasCompleted=!1,this.scheduler=r||on}return kt(n,e),Pt(n.prototype,vn,{onCompleted:function(){this.hasCompleted=!0,this.enableQueue&&0!==this.queue.length?this.queue.push(pn.createOnCompleted()):this.subject.onCompleted()},onError:function(e){this.hasFailed=!0,this.error=e,this.enableQueue&&0!==this.queue.length?this.queue.push(pn.createOnError(e)):this.subject.onError(e)},onNext:function(e){var t=!1;0===this.requestedCount?this.enableQueue&&this.queue.push(pn.createOnNext(e)):(-1!==this.requestedCount&&0===this.requestedCount--&&this.disposeCurrentRequest(),t=!0),t&&this.subject.onNext(e)},_processRequest:function(e){if(this.enableQueue){for(;this.queue.length>=e&&e>0||this.queue.length>0&&"N"!==this.queue[0].kind;){var t=this.queue.shift();t.accept(this.subject),"N"===t.kind?e--:(this.disposeCurrentRequest(),this.queue=[])}return{numberOfItems:e,returnValue:0!==this.queue.length}}return{numberOfItems:e,returnValue:!1}},request:function(e){this.disposeCurrentRequest();var t=this;return this.requestedDisposable=this.scheduler.scheduleWithState(e,function(e,n){var r=t._processRequest(n),o=r.numberOfItems;r.returnValue||(t.requestedCount=o,t.requestedDisposable=qt(function(){t.requestedCount=0}))}),this.requestedDisposable},disposeCurrentRequest:function(){this.requestedDisposable.dispose(),this.requestedDisposable=Ht}}),n}(Nn);yn.controlled=function(e,t){return e&&Zt(e)&&(t=e,e=!0),null==e&&(e=!0),new xr(this,e,t)};var Or=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return cn.schedule(function(){t.source.request(1)}),this.subscription}function n(n){e.call(this,t,n),this.source=n}kt(n,e);var r=function(e){function t(t,n,r){e.call(this),this.observer=t,this.observable=n,this.cancel=r}kt(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){this.observer.onNext(e);var t=this;cn.schedule(function(){t.observable.source.request(1)})},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(gn);return n}(Nn);xr.prototype.stopAndWait=function(){return new Or(this)};var Sr=function(e){function t(e){this.subscription=this.source.subscribe(new r(e,this,this.subscription));var t=this;return cn.schedule(function(){t.source.request(t.windowSize)}),this.subscription}function n(n,r){e.call(this,t,n),this.source=n,this.windowSize=r}kt(n,e);var r=function(e){function t(e,t,n){this.observer=e,this.observable=t,this.cancel=n,this.received=0}kt(t,e);var n=t.prototype;return n.completed=function(){this.observer.onCompleted(),this.dispose()},n.error=function(e){this.observer.onError(e),this.dispose()},n.next=function(e){if(this.observer.onNext(e),this.received=++this.received%this.observable.windowSize,0===this.received){var t=this;cn.schedule(function(){t.observable.source.request(t.observable.windowSize)})}},n.dispose=function(){this.observer=null,this.cancel&&(this.cancel.dispose(),this.cancel=null),e.prototype.dispose.call(this)},t}(gn);return n}(Nn);xr.prototype.windowed=function(e){return new Sr(this,e)},yn.pipe=function(e){function t(){n.resume()}var n=this.pausableBuffered();return e.addListener("drain",t),n.subscribe(function(t){!e.write(String(t))&&n.pause()},function(t){e.emit("error",t)},function(){!e._isStdio&&e.end(),e.removeListener("drain",t)}),n.resume(),e},yn.multicast=function(e,t){var n=this;return"function"==typeof e?new Fr(function(r){var o=n.multicast(e());return new Ft(t(o).subscribe(r),o.connect())},n):new Ir(n,e)},yn.publish=function(e){return e&&qe(e)?this.multicast(function(){return new qr},e):this.multicast(new qr)},yn.share=function(){return this.publish().refCount()},yn.publishLast=function(e){return e&&qe(e)?this.multicast(function(){return new Hr},e):this.multicast(new Hr)},yn.publishValue=function(e,t){return 2===arguments.length?this.multicast(function(){return new Tr(t)},e):this.multicast(new Tr(e))},yn.shareValue=function(e){return this.publishValue(e).refCount()},yn.replay=function(e,t,n,r){return e&&qe(e)?this.multicast(function(){return new Ar(t,n,r)},e):this.multicast(new Ar(t,n,r))},yn.shareReplay=function(e,t,n){return this.replay(null,e,t,n).refCount()};var Rr=function(e,t){this.subject=e,this.observer=t};Rr.prototype.dispose=function(){if(!this.subject.isDisposed&&null!==this.observer){var e=this.subject.observers.indexOf(this.observer);this.subject.observers.splice(e,1),this.observer=null}};var Tr=ke.BehaviorSubject=function(e){function t(e){return zt(this),this.isStopped?(this.hasError?e.onError(this.error):e.onCompleted(),Ht):(this.observers.push(e),e.onNext(this.value),new Rr(this,e))}function n(n){e.call(this,t),this.value=n,this.observers=[],this.isDisposed=!1,this.isStopped=!1,this.hasError=!1}return kt(n,e),Pt(n.prototype,vn,{getValue:function(){if(zt(this),this.hasError)throw this.error;return this.value},hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(zt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=a(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=a(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(zt(this),!this.isStopped){this.value=e;for(var t=0,n=a(this.observers),r=n.length;r>t;t++)n[t].onNext(e)}},dispose:function(){this.isDisposed=!0,this.observers=null,this.value=null,this.exception=null}}),n}(Nn),Ar=ke.ReplaySubject=function(e){function t(e,t){return qt(function(){t.dispose(),!e.isDisposed&&e.observers.splice(e.observers.indexOf(t),1)})}function n(e){var n=new _n(this.scheduler,e),r=t(this,n);zt(this),this._trim(this.scheduler.now()),this.observers.push(n);for(var o=0,i=this.q.length;i>o;o++)n.onNext(this.q[o].value);return this.hasError?n.onError(this.error):this.isStopped&&n.onCompleted(),n.ensureActive(),r}function r(t,r,i){this.bufferSize=null==t?o:t,this.windowSize=null==r?o:r,this.scheduler=i||on,this.q=[],this.observers=[],this.isStopped=!1,this.isDisposed=!1,this.hasError=!1,this.error=null,e.call(this,n)}var o=Math.pow(2,53)-1;return kt(r,e),Pt(r.prototype,vn.prototype,{hasObservers:function(){return this.observers.length>0},_trim:function(e){for(;this.q.length>this.bufferSize;)this.q.shift();for(;this.q.length>0&&e-this.q[0].interval>this.windowSize;)this.q.shift()},onNext:function(e){if(zt(this),!this.isStopped){var t=this.scheduler.now();this.q.push({interval:t,value:e}),this._trim(t);for(var n=0,r=a(this.observers),o=r.length;o>n;n++){var i=r[n];i.onNext(e),i.ensureActive()}}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;var t=this.scheduler.now();this._trim(t);for(var n=0,r=a(this.observers),o=r.length;o>n;n++){var i=r[n];i.onError(e),i.ensureActive()}this.observers.length=0}},onCompleted:function(){if(zt(this),!this.isStopped){this.isStopped=!0;var e=this.scheduler.now();this._trim(e);for(var t=0,n=a(this.observers),r=n.length;r>t;t++){var o=n[t];o.onCompleted(),o.ensureActive()}this.observers.length=0}},dispose:function(){this.isDisposed=!0,this.observers=null}}),r}(Nn),Ir=ke.ConnectableObservable=function(e){function t(t,n){var r,o=!1,i=t.asObservable();this.connect=function(){return o||(o=!0,r=new Ft(i.subscribe(n),qt(function(){o=!1}))),r},e.call(this,function(e){return n.subscribe(e)})}return kt(t,e),t.prototype.refCount=function(){var e,t=0,n=this;return new Fr(function(r){var o=1===++t,i=n.subscribe(r);return o&&(e=n.connect()),function(){i.dispose(),0===--t&&e.dispose()}})},t}(Nn);yn.singleInstance=function(){function e(){return r||(r=!0,t=n["finally"](function(){r=!1}).publish().refCount()),t}var t,n=this,r=!1;return new Fr(function(t){return e().subscribe(t)})};var Mr=function(){function e(e){if(0===(1&e))return 2===e;for(var t=Math.sqrt(e),n=3;t>=n;){if(e%n===0)return!1;n+=2}return!0}function t(t){var n,r,o;for(n=0;n<s.length;++n)if(r=s[n],r>=t)return r;for(o=1|t;o<s[s.length-1];){if(e(o))return o;o+=2}return t}function n(e){var t=757602046;if(!e.length)return t;for(var n=0,r=e.length;r>n;n++){var o=e.charCodeAt(n);t=(t<<5)-t+o,t&=t}return t}function r(e){var t=668265261;return e=61^e^e>>>16,e+=e<<3,e^=e>>>4,e*=t,e^=e>>>15}function o(){return{key:null,value:null,next:0,hashCode:0}}function i(e,t){if(0>e)throw new Qe;e>0&&this._initialize(e),this.comparer=t||Le,this.freeCount=0,this.size=0,this.freeList=-1}var s=[1,3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143,4194301,8388593,16777213,33554393,67108859,134217689,268435399,536870909,1073741789,2147483647],a="no such key",c="duplicate key",l=function(){var e=0;return function(t){if(null==t)throw new Error(a);if("string"==typeof t)return n(t);if("number"==typeof t)return r(t);if("boolean"==typeof t)return t===!0?1:0;if(t instanceof Date)return r(t.valueOf());if(t instanceof RegExp)return n(t.toString());if("function"==typeof t.valueOf){var o=t.valueOf();if("number"==typeof o)return r(o);if("string"==typeof o)return n(o)}if(t.hashCode)return t.hashCode();var i=17*e++;return t.hashCode=function(){return i},i}}(),p=i.prototype;return p._initialize=function(e){var n,r=t(e);for(this.buckets=new Array(r),this.entries=new Array(r),n=0;r>n;n++)this.buckets[n]=-1,this.entries[n]=o();this.freeList=-1},p.add=function(e,t){this._insert(e,t,!0)},p._insert=function(e,t,n){this.buckets||this._initialize(0);for(var r,o=2147483647&l(e),i=o%this.buckets.length,u=this.buckets[i];u>=0;u=this.entries[u].next)if(this.entries[u].hashCode===o&&this.comparer(this.entries[u].key,e)){if(n)throw new Error(c);return void(this.entries[u].value=t)}this.freeCount>0?(r=this.freeList,this.freeList=this.entries[r].next,--this.freeCount):(this.size===this.entries.length&&(this._resize(),i=o%this.buckets.length),r=this.size,++this.size),this.entries[r].hashCode=o,this.entries[r].next=this.buckets[i],this.entries[r].key=e,this.entries[r].value=t,this.buckets[i]=r},p._resize=function(){var e=t(2*this.size),n=new Array(e);for(i=0;i<n.length;++i)n[i]=-1;var r=new Array(e);for(i=0;i<this.size;++i)r[i]=this.entries[i];for(var i=this.size;e>i;++i)r[i]=o();for(var u=0;u<this.size;++u){var s=r[u].hashCode%e;r[u].next=n[s],n[s]=u}this.buckets=n,this.entries=r},p.remove=function(e){if(this.buckets)for(var t=2147483647&l(e),n=t%this.buckets.length,r=-1,o=this.buckets[n];o>=0;o=this.entries[o].next){if(this.entries[o].hashCode===t&&this.comparer(this.entries[o].key,e))return 0>r?this.buckets[n]=this.entries[o].next:this.entries[r].next=this.entries[o].next,this.entries[o].hashCode=-1,this.entries[o].next=this.freeList,this.entries[o].key=null,this.entries[o].value=null,this.freeList=o,++this.freeCount,!0;r=o}return!1},p.clear=function(){var e,t;if(!(this.size<=0)){for(e=0,t=this.buckets.length;t>e;++e)this.buckets[e]=-1;for(e=0;e<this.size;++e)this.entries[e]=o();this.freeList=-1,this.size=0}},p._findEntry=function(e){if(this.buckets)for(var t=2147483647&l(e),n=this.buckets[t%this.buckets.length];n>=0;n=this.entries[n].next)if(this.entries[n].hashCode===t&&this.comparer(this.entries[n].key,e))return n;return-1},p.count=function(){return this.size-this.freeCount},p.tryGetValue=function(e){var t=this._findEntry(e);return t>=0?this.entries[t].value:u},p.getValues=function(){var e=0,t=[];if(this.entries)for(var n=0;n<this.size;n++)this.entries[n].hashCode>=0&&(t[e++]=this.entries[n].value);return t},p.get=function(e){var t=this._findEntry(e);if(t>=0)return this.entries[t].value;throw new Error(a)},p.set=function(e,t){this._insert(e,t,!1)},p.containskey=function(e){return this._findEntry(e)>=0},i}();yn.join=function(e,t,n,r){var o=this;return new Fr(function(i){var u=new Ft,s=!1,a=!1,c=0,l=0,p=new Mr,f=new Mr;return u.add(o.subscribe(function(e){var n=c++,o=new Yt;p.add(n,e),u.add(o);var a,l=function(){p.remove(n)&&0===p.count()&&s&&i.onCompleted(),u.remove(o)};try{a=t(e)}catch(h){return void i.onError(h)}o.setDisposable(a.take(1).subscribe(Pe,i.onError.bind(i),l)),f.getValues().forEach(function(t){var n;try{n=r(e,t)}catch(o){return void i.onError(o)}i.onNext(n)})},i.onError.bind(i),function(){s=!0,(a||0===p.count())&&i.onCompleted()})),u.add(e.subscribe(function(e){var t=l++,o=new Yt;f.add(t,e),u.add(o);var s,c=function(){f.remove(t)&&0===f.count()&&a&&i.onCompleted(),u.remove(o)};try{s=n(e)}catch(h){return void i.onError(h)}o.setDisposable(s.take(1).subscribe(Pe,i.onError.bind(i),c)),p.getValues().forEach(function(t){var n;try{n=r(t,e)}catch(o){return void i.onError(o)}i.onNext(n)})},i.onError.bind(i),function(){a=!0,(s||0===f.count())&&i.onCompleted()})),u},o)},yn.groupJoin=function(e,t,n,r){var o=this;return new Fr(function(i){function u(e){return function(t){t.onError(e)}}var s=new Ft,a=new Gt(s),c=new Mr,l=new Mr,p=0,f=0;return s.add(o.subscribe(function(e){var n=new qr,o=p++;c.add(o,n);var f;try{f=r(e,Vt(n,a))}catch(h){return c.getValues().forEach(u(h)),void i.onError(h)}i.onNext(f),l.getValues().forEach(function(e){n.onNext(e)});var d=new Yt;s.add(d);var v,m=function(){c.remove(o)&&n.onCompleted(),s.remove(d)};try{v=t(e)}catch(h){return c.getValues().forEach(u(h)),void i.onError(h)}d.setDisposable(v.take(1).subscribe(Pe,function(e){c.getValues().forEach(u(e)),i.onError(e)},m))},function(e){c.getValues().forEach(u(e)),i.onError(e)},i.onCompleted.bind(i))),s.add(e.subscribe(function(e){var t=f++;l.add(t,e);var r=new Yt;s.add(r);var o,a=function(){l.remove(t),s.remove(r)};try{o=n(e)}catch(p){return c.getValues().forEach(u(p)),void i.onError(p)}r.setDisposable(o.take(1).subscribe(Pe,function(e){c.getValues().forEach(u(e)),i.onError(e)},a)),c.getValues().forEach(function(t){t.onNext(e)})},function(e){c.getValues().forEach(u(e)),i.onError(e)})),a},o)},yn.buffer=function(e,t){return this.window.apply(this,arguments).selectMany(function(e){return e.toArray()})},yn.window=function(e,t){return 1===arguments.length&&"function"!=typeof arguments[0]?de.call(this,e):"function"==typeof e?ve.call(this,e):he.call(this,e,t)},yn.pairwise=function(){var e=this;return new Fr(function(t){var n,r=!1;return e.subscribe(function(e){r?t.onNext([n,e]):r=!0,n=e},t.onError.bind(t),t.onCompleted.bind(t))},e)},yn.partition=function(e,t){return[this.filter(e,t),this.filter(function(n,r,o){return!e.call(t,n,r,o)})]};var kr=function(e){function t(e,t){this.c=e,this.s=t}return kt(t,e),t.prototype[nt]=function(){var e=this;return{next:function(){return e.c()?{done:!1,value:e.s}:{done:!0,value:void 0}}}},t}(xn);yn.letBind=yn.let=function(e){return e(this)},Nn["if"]=Nn.ifThen=function(e,t,n){return Pn(function(){return n||(n=jn()),We(t)&&(t=Mn(t)),We(n)&&(n=Mn(n)),"function"==typeof n.now&&(n=jn(n)),e()?t:n})},Nn["for"]=Nn.forIn=function(e,t,n){return An(e,t,n).concat()};var Pr=Nn["while"]=Nn.whileDo=function(e,t){return We(t)&&(t=Mn(t)),me(e,t).concat()};yn.doWhile=function(e){return nr([this,Pr(e,this)])},Nn["case"]=Nn.switchCase=function(e,t,n){return Pn(function(){We(n)&&(n=Mn(n)),n||(n=jn()),"function"==typeof n.now&&(n=jn(n));var r=t[e()];return We(r)&&(r=Mn(r)),r||n})},yn.expand=function(e,t){Zt(t)||(t=rn);var n=this;return new Fr(function(r){var o=[],i=new $t,u=new Ft(i),s=0,a=!1,c=function(){var n=!1;o.length>0&&(n=!a,a=!0),n&&i.setDisposable(t.scheduleRecursive(function(t){var n;if(!(o.length>0))return void(a=!1);n=o.shift();var i=new Yt;u.add(i),i.setDisposable(n.subscribe(function(t){r.onNext(t);var n=null;try{n=e(t)}catch(i){r.onError(i)}o.push(n),s++,c()},r.onError.bind(r),function(){u.remove(i),s--,0===s&&r.onCompleted()})),t()}))};return o.push(n),s++,c(),u},this)},Nn.forkJoin=function(){var e=[];if(Array.isArray(arguments[0]))e=arguments[0];else for(var t=0,n=arguments.length;n>t;t++)e.push(arguments[t]);return new Fr(function(t){var n=e.length;if(0===n)return t.onCompleted(),Ht;for(var r=new Ft,o=!1,i=new Array(n),u=new Array(n),s=new Array(n),a=0;n>a;a++)!function(a){var c=e[a];We(c)&&(c=Mn(c)),r.add(c.subscribe(function(e){o||(i[a]=!0,s[a]=e)},function(e){o=!0,t.onError(e),r.dispose()},function(){if(!o){if(!i[a])return void t.onCompleted();u[a]=!0;for(var e=0;n>e;e++)if(!u[e])return;o=!0,t.onNext(s),t.onCompleted()}}))}(a);return r})},yn.forkJoin=function(e,t){var n=this;return new Fr(function(r){var o,i,u=!1,s=!1,a=!1,c=!1,l=new Yt,p=new Yt;return We(e)&&(e=Mn(e)),l.setDisposable(n.subscribe(function(e){a=!0,o=e},function(e){p.dispose(),r.onError(e)},function(){if(u=!0,s)if(a)if(c){var e;try{e=t(o,i)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),p.setDisposable(e.subscribe(function(e){c=!0,i=e},function(e){l.dispose(),r.onError(e)},function(){if(s=!0,u)if(a)if(c){var e;try{e=t(o,i)}catch(n){return void r.onError(n)}r.onNext(e),r.onCompleted()}else r.onCompleted();else r.onCompleted()})),new Ft(l,p)},n)},yn.manySelect=yn.extend=function(e,t){Zt(t)||(t=rn);var n=this;return Pn(function(){var r;return n.map(function(e){var t=new Vr(e);return r&&r.onNext(e),r=t,t}).tap(Pe,function(e){r&&r.onError(e)},function(){r&&r.onCompleted()}).observeOn(t).map(e)},n)};var Vr=function(e){function t(e){var t=this,n=new Ft;return n.add(on.schedule(function(){e.onNext(t.head),n.add(t.tail.mergeAll().subscribe(e))})),n}function n(n){e.call(this,t),this.head=n,this.tail=new Hr}return kt(n,e),Pt(n.prototype,vn,{onCompleted:function(){this.onNext(Nn.empty())},onError:function(e){this.onNext(Nn.throwError(e))},onNext:function(e){this.tail.onNext(e),this.tail.onCompleted()}}),n}(Nn),jr=Re.Map||function(){function e(){this._keys=[],this._values=[]}return e.prototype.get=function(e){var t=this._keys.indexOf(e);return-1!==t?this._values[t]:u},e.prototype.set=function(e,t){var n=this._keys.indexOf(e);-1!==n&&(this._values[n]=t),this._values[this._keys.push(e)-1]=t},e.prototype.forEach=function(e,t){for(var n=0,r=this._keys.length;r>n;n++)e.call(t,this._values[n],this._keys[n])},e}();ye.prototype.and=function(e){return new ye(this.patterns.concat(e))},ye.prototype.thenDo=function(e){return new ge(this,e)},ge.prototype.activate=function(e,t,n){for(var r=this,o=[],i=0,u=this.expression.patterns.length;u>i;i++)o.push(be(e,this.expression.patterns[i],t.onError.bind(t)));var s=new Ee(o,function(){var e;try{e=r.selector.apply(r,arguments)}catch(n){return void t.onError(n)}t.onNext(e)},function(){for(var e=0,t=o.length;t>e;e++)o[e].removeActivePlan(s);n(s)});for(i=0,u=o.length;u>i;i++)o[i].addActivePlan(s);return s},Ee.prototype.dequeue=function(){this.joinObservers.forEach(function(e){e.queue.shift()})},Ee.prototype.match=function(){var e,t,n=!0;for(e=0,t=this.joinObserverArray.length;t>e;e++)if(0===this.joinObserverArray[e].queue.length){n=!1;break}if(n){var r=[],o=!1;for(e=0,t=this.joinObserverArray.length;t>e;e++)r.push(this.joinObserverArray[e].queue[0]),"C"===this.joinObserverArray[e].queue[0].kind&&(o=!0);if(o)this.onCompleted();else{this.dequeue();var i=[];for(e=0,t=r.length;e<r.length;e++)i.push(r[e].value);this.onNext.apply(this,i)}}};var Lr=function(e){function t(t,n){e.call(this),this.source=t,this.onError=n,this.queue=[],this.activePlans=[],this.subscription=new Yt,this.isDisposed=!1}kt(t,e);var n=t.prototype;return n.next=function(e){if(!this.isDisposed){if("E"===e.kind)return this.onError(e.exception);this.queue.push(e);for(var t=this.activePlans.slice(0),n=0,r=t.length;r>n;n++)t[n].match()}},n.error=Pe,n.completed=Pe,n.addActivePlan=function(e){this.activePlans.push(e)},n.subscribe=function(){this.subscription.setDisposable(this.source.materialize().subscribe(this))},n.removeActivePlan=function(e){this.activePlans.splice(this.activePlans.indexOf(e),1),0===this.activePlans.length&&this.dispose()},n.dispose=function(){e.prototype.dispose.call(this),this.isDisposed||(this.isDisposed=!0,this.subscription.dispose())},t}(gn);yn.and=function(e){return new ye([this,e])},yn.thenDo=function(e){return new ye([this]).thenDo(e)},Nn.when=function(){var e,t=arguments.length;if(Array.isArray(arguments[0]))e=arguments[0];else{e=new Array(t);for(var n=0;t>n;n++)e[n]=arguments[n]}return new Fr(function(t){var n=[],r=new jr,o=mn(function(e){t.onNext(e)},function(e){r.forEach(function(t){t.onError(e)}),t.onError(e)},function(e){t.onCompleted()});try{for(var i=0,u=e.length;u>i;i++)n.push(e[i].activate(r,o,function(e){var r=n.indexOf(e);n.splice(r,1),0===n.length&&t.onCompleted()}))}catch(s){Jn(s).subscribe(t)}var a=new Ft;return r.forEach(function(e){e.subscribe(),a.add(e)}),a})};var Ur=Nn.interval=function(e,t){return Ce(e,e,Zt(t)?t:cn)};Nn.timer=function(e,t,n){var r;return Zt(n)||(n=cn),t!==u&&"number"==typeof t?r=t:Zt(t)&&(n=t),e instanceof Date&&r===u?_e(e.getTime(),n):e instanceof Date&&r!==u?(r=t,we(e.getTime(),r,n)):r===u?Ne(e,n):Ce(e,r,n)};yn.delay=function(e,t){return Zt(t)||(t=cn),e instanceof Date?De(this,e.getTime(),t):xe(this,e,t)},yn.debounce=yn.throttleWithTimeout=function(e,t){Zt(t)||(t=cn);var n=this;return new Fr(function(r){var o,i=new $t,u=!1,s=0,a=n.subscribe(function(n){u=!0,o=n,s++;var a=s,c=new Yt;i.setDisposable(c),c.setDisposable(t.scheduleWithRelative(e,function(){u&&s===a&&r.onNext(o),u=!1}))},function(e){i.dispose(),r.onError(e),u=!1,s++},function(){i.dispose(),u&&r.onNext(o),r.onCompleted(),u=!1,s++});return new Ft(a,i)},this)},yn.throttle=function(e,t){return this.debounce(e,t)},yn.windowWithTime=function(e,t,n){var r,o=this;return null==t&&(r=e),Zt(n)||(n=cn),"number"==typeof t?r=t:Zt(t)&&(r=e,n=t),new Fr(function(t){function i(){var e=new Yt,o=!1,u=!1;p.setDisposable(e),c===a?(o=!0,u=!0):a>c?o=!0:u=!0;var h=o?c:a,d=h-f;f=h,o&&(c+=r),u&&(a+=r),e.setDisposable(n.scheduleWithRelative(d,function(){if(u){var e=new qr;l.push(e),t.onNext(Vt(e,s))}o&&l.shift().onCompleted(),i()}))}var u,s,a=r,c=e,l=[],p=new $t,f=0;return u=new Ft(p),s=new Gt(u),l.push(new qr),t.onNext(Vt(l[0],s)),i(),u.add(o.subscribe(function(e){for(var t=0,n=l.length;n>t;t++)l[t].onNext(e)},function(e){for(var n=0,r=l.length;r>n;n++)l[n].onError(e);t.onError(e)},function(){for(var e=0,n=l.length;n>e;e++)l[e].onCompleted();t.onCompleted()})),s},o)},yn.windowWithTimeOrCount=function(e,t,n){var r=this;return Zt(n)||(n=cn),new Fr(function(o){function i(t){var r=new Yt;u.setDisposable(r),r.setDisposable(n.scheduleWithRelative(e,function(){if(t===l){c=0;var e=++l;p.onCompleted(),p=new qr,o.onNext(Vt(p,a)),i(e)}}))}var u=new $t,s=new Ft(u),a=new Gt(s),c=0,l=0,p=new qr;return o.onNext(Vt(p,a)),i(0),s.add(r.subscribe(function(e){var n=0,r=!1;p.onNext(e),++c===t&&(r=!0,c=0,n=++l,p.onCompleted(),p=new qr,o.onNext(Vt(p,a))),r&&i(n)},function(e){p.onError(e),o.onError(e)},function(){p.onCompleted(),o.onCompleted()})),a},r)},yn.bufferWithTime=function(e,t,n){return this.windowWithTime.apply(this,arguments).selectMany(function(e){return e.toArray()})},yn.bufferWithTimeOrCount=function(e,t,n){return this.windowWithTimeOrCount(e,t,n).selectMany(function(e){return e.toArray()})},yn.timeInterval=function(e){var t=this;return Zt(e)||(e=cn),Pn(function(){var n=e.now();return t.map(function(t){var r=e.now(),o=r-n;return n=r,{value:t,interval:o}})})},yn.timestamp=function(e){return Zt(e)||(e=cn),this.map(function(t){return{value:t,timestamp:e.now()}})},yn.sample=yn.throttleLatest=function(e,t){return Zt(t)||(t=cn),"number"==typeof e?Oe(this,Ur(e,t)):Oe(this,e)},yn.timeout=function(e,t,n){(null==t||"string"==typeof t)&&(t=Jn(new Error(t||"Timeout"))),Zt(n)||(n=cn);var r=this,o=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Fr(function(i){function u(){var r=s;p.setDisposable(n[o](e,function(){s===r&&(We(t)&&(t=Mn(t)),c.setDisposable(t.subscribe(i)))}))}var s=0,a=new Yt,c=new $t,l=!1,p=new $t;return c.setDisposable(a),u(),a.setDisposable(r.subscribe(function(e){l||(s++,i.onNext(e),u())},function(e){l||(s++,i.onError(e))},function(){l||(s++,i.onCompleted())})),new Ft(c,p)},r)},Nn.generateWithAbsoluteTime=function(e,t,n,r,o,i){return Zt(i)||(i=cn),new Fr(function(u){var s=!0,a=!1;return i.scheduleRecursiveWithAbsoluteAndState(e,i.now(),function(e,i){a&&u.onNext(e);try{if(s?s=!1:e=n(e),a=t(e))var c=r(e),l=o(e)}catch(p){return void u.onError(p)}a?i(c,l):u.onCompleted()})})},Nn.generateWithRelativeTime=function(e,t,n,r,o,i){return Zt(i)||(i=cn),new Fr(function(u){var s=!0,a=!1;return i.scheduleRecursiveWithRelativeAndState(e,0,function(e,i){a&&u.onNext(e);try{if(s?s=!1:e=n(e),a=t(e))var c=r(e),l=o(e)}catch(p){return void u.onError(p)}a?i(c,l):u.onCompleted()})})},yn.delaySubscription=function(e,t){var n=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative",r=this;return Zt(t)||(t=cn),new Fr(function(o){var i=new $t;return i.setDisposable(t[n](e,function(){i.setDisposable(r.subscribe(o))})),i},this)},yn.delayWithSelector=function(e,t){var n,r,o=this;return qe(e)?r=e:(n=e,r=t),new Fr(function(e){function t(){a.setDisposable(o.subscribe(function(t){var n=w(r)(t);if(n===jt)return e.onError(n.e);var o=new Yt;u.add(o),o.setDisposable(n.subscribe(function(){e.onNext(t),u.remove(o),i()},function(t){e.onError(t)},function(){e.onNext(t),u.remove(o),i()}))},function(t){e.onError(t)},function(){s=!0,a.dispose(),i()}))}function i(){s&&0===u.length&&e.onCompleted()}var u=new Ft,s=!1,a=new $t;return n?a.setDisposable(n.subscribe(t,function(t){e.onError(t)},t)):t(),new Ft(a,u)},this)},yn.timeoutWithSelector=function(e,t,n){1===arguments.length&&(t=e,e=Kn()),n||(n=Jn(new Error("Timeout")));var r=this;return new Fr(function(o){function i(e){function t(){return l===r}var r=l,i=new Yt;a.setDisposable(i),i.setDisposable(e.subscribe(function(){t()&&s.setDisposable(n.subscribe(o)),i.dispose()},function(e){t()&&o.onError(e)},function(){t()&&s.setDisposable(n.subscribe(o))}))}function u(){var e=!p;return e&&l++,e}var s=new $t,a=new $t,c=new Yt;s.setDisposable(c);var l=0,p=!1;return i(e),c.setDisposable(r.subscribe(function(e){if(u()){o.onNext(e);var n;try{n=t(e)}catch(r){return void o.onError(r)}i(We(n)?Mn(n):n)}},function(e){u()&&o.onError(e)},function(){u()&&o.onCompleted()})),new Ft(s,a)},r)},yn.debounceWithSelector=function(e){var t=this;return new Fr(function(n){var r,o=!1,i=new $t,u=0,s=t.subscribe(function(t){var s;try{s=e(t)}catch(a){return void n.onError(a)}We(s)&&(s=Mn(s)),o=!0,r=t,u++;var c=u,l=new Yt;i.setDisposable(l),l.setDisposable(s.subscribe(function(){o&&u===c&&n.onNext(r),o=!1,l.dispose()},n.onError.bind(n),function(){o&&u===c&&n.onNext(r),o=!1,l.dispose()}))},function(e){i.dispose(),n.onError(e),o=!1,u++},function(){i.dispose(),o&&n.onNext(r),n.onCompleted(),o=!1,u++});return new Ft(s,i)},t)},yn.throttleWithSelector=function(e){return this.debounceWithSelector(e)},yn.skipLastWithTime=function(e,t){Zt(t)||(t=cn);var n=this;return new Fr(function(r){var o=[];return n.subscribe(function(n){var i=t.now();for(o.push({interval:i,value:n});o.length>0&&i-o[0].interval>=e;)r.onNext(o.shift().value)},function(e){r.onError(e)},function(){for(var n=t.now();o.length>0&&n-o[0].interval>=e;)r.onNext(o.shift().value);r.onCompleted()})},n)},yn.takeLastWithTime=function(e,t){var n=this;return Zt(t)||(t=cn),new Fr(function(r){var o=[];return n.subscribe(function(n){var r=t.now();for(o.push({interval:r,value:n});o.length>0&&r-o[0].interval>=e;)o.shift()},function(e){r.onError(e)},function(){for(var n=t.now();o.length>0;){var i=o.shift();n-i.interval<=e&&r.onNext(i.value)}r.onCompleted()})},n)},yn.takeLastBufferWithTime=function(e,t){var n=this;return Zt(t)||(t=cn),new Fr(function(r){var o=[];return n.subscribe(function(n){var r=t.now();for(o.push({interval:r,value:n});o.length>0&&r-o[0].interval>=e;)o.shift()},function(e){r.onError(e)},function(){for(var n=t.now(),i=[];o.length>0;){var u=o.shift();n-u.interval<=e&&i.push(u.value)}r.onNext(i),r.onCompleted()})},n)},yn.takeWithTime=function(e,t){var n=this;return Zt(t)||(t=cn),new Fr(function(r){return new Ft(t.scheduleWithRelative(e,function(){r.onCompleted()}),n.subscribe(r))},n)},yn.skipWithTime=function(e,t){var n=this;return Zt(t)||(t=cn),new Fr(function(r){var o=!1;return new Ft(t.scheduleWithRelative(e,function(){o=!0}),n.subscribe(function(e){o&&r.onNext(e)},r.onError.bind(r),r.onCompleted.bind(r)))},n)},yn.skipUntilWithTime=function(e,t){Zt(t)||(t=cn);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Fr(function(o){var i=!1;return new Ft(t[r](e,function(){i=!0}),n.subscribe(function(e){i&&o.onNext(e)},function(e){o.onError(e)},function(){o.onCompleted()}))},n)},yn.takeUntilWithTime=function(e,t){Zt(t)||(t=cn);var n=this,r=e instanceof Date?"scheduleWithAbsolute":"scheduleWithRelative";return new Fr(function(o){return new Ft(t[r](e,function(){o.onCompleted()}),n.subscribe(o))},n)},yn.throttleFirst=function(e,t){Zt(t)||(t=cn);var n=+e||0;if(0>=n)throw new RangeError("windowDuration cannot be less or equal zero.");var r=this;return new Fr(function(e){var o=0;return r.subscribe(function(r){var i=t.now();(0===o||i-o>=n)&&(o=i,e.onNext(r))},function(t){e.onError(t)},function(){e.onCompleted()})},r)},yn.transduce=function(e){function t(e){return{"@@transducer/init":function(){return e},"@@transducer/step":function(e,t){return e.onNext(t)},"@@transducer/result":function(e){return e.onCompleted()}}}var n=this;return new Fr(function(r){var o=e(t(r));return n.subscribe(function(e){try{o["@@transducer/step"](r,e)}catch(t){r.onError(t)}},function(e){r.onError(e)},function(){o["@@transducer/result"](r)})},n)},yn.exclusive=function(){var e=this;return new Fr(function(t){var n=!1,r=!1,o=new Yt,i=new Ft;return i.add(o),o.setDisposable(e.subscribe(function(e){if(!n){n=!0,We(e)&&(e=Mn(e));var o=new Yt;i.add(o),o.setDisposable(e.subscribe(t.onNext.bind(t),t.onError.bind(t),function(){i.remove(o),n=!1,r&&1===i.length&&t.onCompleted()}))}},t.onError.bind(t),function(){r=!0,n||1!==i.length||t.onCompleted()})),i},this)},yn.exclusiveMap=function(e,t){var n=this,r=st(e,t,3);return new Fr(function(e){var t=0,o=!1,i=!0,u=new Yt,s=new Ft;return s.add(u),u.setDisposable(n.subscribe(function(n){o||(o=!0,innerSubscription=new Yt,s.add(innerSubscription),We(n)&&(n=Mn(n)),innerSubscription.setDisposable(n.subscribe(function(o){var i;try{i=r(o,t++,n)}catch(u){return void e.onError(u)}e.onNext(i)},function(t){e.onError(t)},function(){s.remove(innerSubscription),o=!1,i&&1===s.length&&e.onCompleted()})))},function(t){e.onError(t)},function(){i=!0,1!==s.length||o||e.onCompleted()})),s},this)},ke.VirtualTimeScheduler=function(e){function t(){return this.toDateTimeOffset(this.clock)}function n(e,t){return this.scheduleAbsoluteWithState(e,this.clock,t);
}function r(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t),n)}function o(e,t,n){return this.scheduleRelativeWithState(e,this.toRelative(t-this.now()),n)}function i(e,t){return t(),Ht}function u(i,u){this.clock=i,this.comparer=u,this.isEnabled=!1,this.queue=new Lt(1024),e.call(this,t,n,r,o)}kt(u,e);var s=u.prototype;return s.add=et,s.toDateTimeOffset=et,s.toRelative=et,s.schedulePeriodicWithState=function(e,t,n){var r=new nn(this,e,t,n);return r.start()},s.scheduleRelativeWithState=function(e,t,n){var r=this.add(this.clock,t);return this.scheduleAbsoluteWithState(e,r,n)},s.scheduleRelative=function(e,t){return this.scheduleRelativeWithState(t,e,i)},s.start=function(){if(!this.isEnabled){this.isEnabled=!0;do{var e=this.getNext();null!==e?(this.comparer(e.dueTime,this.clock)>0&&(this.clock=e.dueTime),e.invoke()):this.isEnabled=!1}while(this.isEnabled)}},s.stop=function(){this.isEnabled=!1},s.advanceTo=function(e){var t=this.comparer(this.clock,e);if(this.comparer(this.clock,e)>0)throw new Qe;if(0!==t&&!this.isEnabled){this.isEnabled=!0;do{var n=this.getNext();null!==n&&this.comparer(n.dueTime,e)<=0?(this.comparer(n.dueTime,this.clock)>0&&(this.clock=n.dueTime),n.invoke()):this.isEnabled=!1}while(this.isEnabled);this.clock=e}},s.advanceBy=function(e){var t=this.add(this.clock,e),n=this.comparer(this.clock,t);if(n>0)throw new Qe;0!==n&&this.advanceTo(t)},s.sleep=function(e){var t=this.add(this.clock,e);if(this.comparer(this.clock,t)>=0)throw new Qe;this.clock=t},s.getNext=function(){for(;this.queue.length>0;){var e=this.queue.peek();if(!e.isCancelled())return e;this.queue.dequeue()}return null},s.scheduleAbsolute=function(e,t){return this.scheduleAbsoluteWithState(t,e,i)},s.scheduleAbsoluteWithState=function(e,t,n){function r(e,t){return o.queue.remove(i),n(e,t)}var o=this,i=new Xt(this,e,r,t,this.comparer);return this.queue.enqueue(i),i.disposable},u}(Qt),ke.HistoricalScheduler=function(e){function t(t,n){var r=null==t?0:t,o=n||Ue;e.call(this,r,o)}kt(t,e);var n=t.prototype;return n.add=function(e,t){return e+t},n.toDateTimeOffset=function(e){return new Date(e).getTime()},n.toRelative=function(e){return e},t}(ke.VirtualTimeScheduler);var Fr=ke.AnonymousObservable=function(e){function t(e){return e&&qe(e.dispose)?e:qe(e)?qt(e):Ht}function n(e,n){var r=n[0],o=n[1],i=w(o)(r);return i!==jt||r.fail(jt.e)?void r.setDisposable(t(i)):N(jt.e)}function r(t,r){function o(e){var r=new Wr(e),o=[r,t];return on.scheduleRequired()?on.scheduleWithState(o,n):n(null,o),r}this.source=r,e.call(this,o)}return kt(r,e),r}(Nn),Wr=function(e){function t(t){e.call(this),this.observer=t,this.m=new Yt}kt(t,e);var n=t.prototype;return n.next=function(e){var t=w(this.observer.onNext).call(this.observer,e);t===jt&&(this.dispose(),N(t.e))},n.error=function(e){var t=w(this.observer.onError).call(this.observer,e);this.dispose(),t===jt&&N(t.e)},n.completed=function(){var e=w(this.observer.onCompleted).call(this.observer);this.dispose(),e===jt&&N(e.e)},n.setDisposable=function(e){this.m.setDisposable(e)},n.getDisposable=function(){return this.m.getDisposable()},n.dispose=function(){e.prototype.dispose.call(this),this.m.dispose()},t}(gn),Br=function(e){function t(e){return this.underlyingObservable.subscribe(e)}function n(n,r,o){e.call(this,t),this.key=n,this.underlyingObservable=o?new Fr(function(e){return new Ft(o.getDisposable(),r.subscribe(e))}):r}return kt(n,e),n}(Nn),qr=ke.Subject=function(e){function t(e){return zt(this),this.isStopped?this.hasError?(e.onError(this.error),Ht):(e.onCompleted(),Ht):(this.observers.push(e),new Rr(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.observers=[],this.hasError=!1}return kt(n,e),Pt(n.prototype,vn.prototype,{hasObservers:function(){return this.observers.length>0},onCompleted:function(){if(zt(this),!this.isStopped){this.isStopped=!0;for(var e=0,t=a(this.observers),n=t.length;n>e;e++)t[e].onCompleted();this.observers.length=0}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.error=e,this.hasError=!0;for(var t=0,n=a(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){if(zt(this),!this.isStopped)for(var t=0,n=a(this.observers),r=n.length;r>t;t++)n[t].onNext(e)},dispose:function(){this.isDisposed=!0,this.observers=null}}),n.create=function(e,t){return new Kr(e,t)},n}(Nn),Hr=ke.AsyncSubject=function(e){function t(e){return zt(this),this.isStopped?(this.hasError?e.onError(this.error):this.hasValue?(e.onNext(this.value),e.onCompleted()):e.onCompleted(),Ht):(this.observers.push(e),new Rr(this,e))}function n(){e.call(this,t),this.isDisposed=!1,this.isStopped=!1,this.hasValue=!1,this.observers=[],this.hasError=!1}return kt(n,e),Pt(n.prototype,vn,{hasObservers:function(){return zt(this),this.observers.length>0},onCompleted:function(){var e,t;if(zt(this),!this.isStopped){this.isStopped=!0;var n=a(this.observers),t=n.length;if(this.hasValue)for(e=0;t>e;e++){var r=n[e];r.onNext(this.value),r.onCompleted()}else for(e=0;t>e;e++)n[e].onCompleted();this.observers.length=0}},onError:function(e){if(zt(this),!this.isStopped){this.isStopped=!0,this.hasError=!0,this.error=e;for(var t=0,n=a(this.observers),r=n.length;r>t;t++)n[t].onError(e);this.observers.length=0}},onNext:function(e){zt(this),this.isStopped||(this.value=e,this.hasValue=!0)},dispose:function(){this.isDisposed=!0,this.observers=null,this.exception=null,this.value=null}}),n}(Nn),Kr=ke.AnonymousSubject=function(e){function t(e){return this.observable.subscribe(e)}function n(n,r){this.observer=n,this.observable=r,e.call(this,t)}return kt(n,e),Pt(n.prototype,vn.prototype,{onCompleted:function(){this.observer.onCompleted()},onError:function(e){this.observer.onError(e)},onNext:function(e){this.observer.onNext(e)}}),n}(Nn);ke.Pauser=function(e){function t(){e.call(this)}return kt(t,e),t.prototype.pause=function(){this.onNext(!1)},t.prototype.resume=function(){this.onNext(!0)},t}(qr),Re.Rx=ke,r=function(){return ke}.call(t,n,t,e),!(r!==u&&(e.exports=r));var zr=h()}).call(this)}).call(t,n(19)(e),function(){return this}(),n(1))},175:function(e,t,n){e.exports=n(176)},176:function(e,t){function n(e){var t={admin:e.admin||[],"public":e["public"]||[],"private":e["private"]||[],get all(){return this["public"].concat(this["private"])}};return t}var r=e.exports;r.OutputType={TWITTER:"twitter",FB:"fb",JSON:"json",PLAIN_TXT:"plain-txt",HUMAN:"plain-txt",HTML:"html",META:"meta"},r.VariableType={isDynamic:function(e){return 0===e.indexOf("!")||1===e.indexOf("!")},isSelector:function(e){return 0===e.indexOf("$")||1===e.indexOf("$")},isWatch:function(e){return 0===e.indexOf("?")}},r.InfoType={isCheckbox:function(e){return"[checkbox]"===e},isDynamic:function(e){return 0===e.indexOf("!")},isSelector:function(e){return 0===e.indexOf("$")},isMedia:function(e){return 0===e.indexOf("media:")},getCSSClassName:function(e){var t=e.split(":");return t[t.length-1]},TIMESERIES:"timeseries",RATING:"rating",IMAGE:"media:image",AUDIO:"media:audio",VIDEO:"media:video",FILE:"file",TEXT:"text",FIELD:"field",URL:"url",JSON:"json",REPO:"repo"},r.ActionType={RATING:"rating",YES_NO:"yes_no",API:"api"},r.Context={WEB:"web",LOCATION:"location",Repeat:{NONE:"none",WEEKLY:"weekly",DAILY:"daily",MONTHLY:"monthly"},TriggerType:{GEO:"locationTrigger",TIME:"timeTrigger",WEB:"webTrigger",INBOX:"inboxTrigger"}},r.MessageJSONSchema=n({"public":["id","createdAt","repo","triggerType","isRead"]}),r.InfoJSONSchema=n({"public":["value","dataType","srcUrl","owner","repo","name","createdBy","createdOrigin","state","createdAt","updatedAt"]}),r.ActionJSONSchema=n({"public":["id","owner","repo","name","actionType","content"]}),r.MetaJSONSchema=n({"public":["id","createdAt","updatedAt","nodeType","forkedFrom","state"]}),r.SearchResultJSONSchema=n({"public":["hits","nextPage","prevPage"],"private":[]}),r.ContextJSONSchema=n({"public":["id","name","owner","enabled","triggers","contentIds"],"private":["lastTriggerAt"]}),r.RepoJSONSchema=n({"public":["owner","name","description","coverUrl","infos","tags","createdAt","createdBy","createdOrigin","expiration","forkedFrom","state","updatedAt","id"],"private":["pinned"],admin:[]}),r.UserJSONSchema=n({"public":["id","emailHash","username","createdAt","avatarUrl"],"private":["apiKey","email","plan","updatedAt"],admin:["planDetails","stripeSubId","stripeCustomerId"]}),r.ChannelJSONSchema=n({"public":["id","channelDetail","coverUrl","createdAt","description","name","owner","state"],"private":["gistLink","updatedAt"],admin:[]}),r.channel={predefinedVars:{$CUEB_USER:"",$TITLE:"",$URL:"",$FAVICON:"",$KEYWORDS:""}},r.omnikey={collectionShorthandPrefix:"##",repoShorthandPrefix:"#",usernamePrefix:"@",collectionPrefix:"..",reponamePrefix:".",infonamePrefix:"$",regex:/(@[%a-z0-9_\-\s]+)?(\.\.[%a-z0-9_\-\s]+)?(\.[%a-z0-9_\-\s\[\]]+)?((\$[%a-z0-9_\-\s!]+)*)?/i,get:function(e){var t="";return Object.keys(e).map(function(t){e[t]&&"[object string]"===Object.prototype.toString.call(e[t])&&(e[t]=e[t].trim())}),e.username&&(t+=this.usernamePrefix+e.username),e.collection&&(t+=this.collectionPrefix+e.collection),e.reponame&&(t+=this.reponamePrefix+e.reponame),e.infoname&&(t+=this.infonamePrefix+e.infoname),t},decode:function(e){-1===e.indexOf("%")&&(e=encodeURI(e));var t=r.omnikey.regex.exec(e);return t[0]?{username:t[1]&&decodeURI(t[1].substring(1)),collection:t[2]&&decodeURI(t[2].substring(2)),reponame:t[3]&&decodeURI(t[3].substring(1)),infonames:t[4]&&decodeURI(t[4].split("$").splice(1)),infoname:t[5]&&decodeURI(t[5].substring(1)),input:t.input,isValid:!0,collectionShorthand:t[2]&&this.collectionShorthandPrefix+decodeURI(t[2].substring(2)),repoShorthand:t[3]&&this.repoShorthandPrefix+decodeURI(t[3].substring(1))}:{input:t.input,isValid:!1}},stripPrefix:function(e,t){return e.substr(e.indexOf(t)+t.length)}};var o=r.grammar={InfoRegex:/.+:.+/,HttpRegex:/^(https?:\/\/).*/i,ImageURLRegex:/.*(png|jpg|gif)$/i,AudioURLRegex:/.*(mp3|ogg|wav)$/i,ImageDataRegex:/^data\:image.*/i,RatingRegex:/^[xX]+$/,isTimeSeries:function(e){try{var t=JSON.parse(e);return t.reduce(function(e,t,n,r){return e&&!isNaN(t)},!0)}catch(n){return!1}},isOmnikey:function(e){return r.omnikey.decode(e.trim()).isValid}};r.getDataType=function(e){return o.ImageURLRegex.test(e)||o.ImageDataRegex.test(e)?r.InfoType.IMAGE:o.AudioURLRegex.test(e)?r.InfoType.AUDIO:o.RatingRegex.test(e)?r.InfoType.RATING:o.isTimeSeries(e)?r.InfoType.TIMESERIES:o.isOmnikey(e)?r.InfoType.REPO:o.HttpRegex.test(e)?r.InfoType.URL:!isNaN(e)||e.split(" ").length<=5?r.InfoType.FIELD:r.InfoType.TEXT}}});